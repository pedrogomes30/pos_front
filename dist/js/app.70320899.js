(function(){"use strict";var e={3729:function(e,t,a){var r=a(144),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("AlertComponent"),e.noIsLoginPage()?a("SideMenu"):e._e(),a("v-main",{attrs:{transition:"scroll-x-transition"}},[a("router-view")],1)],1)},o=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-navigation-drawer",{staticStyle:{"border-radius":"5px",margin:"0.3%","border-right":"solid 1px var(--primary)",height:"98vh"},attrs:{"mini-variant":e.mini,app:"",floating:"","expand-on-hover":e.mini},on:{"update:expandOnHover":function(t){e.mini=t},"update:expand-on-hover":function(t){e.mini=t}},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list-item",{staticClass:"pa-0"},[r("div",{staticClass:"d-flex flex-row pa-0 "},[r("v-list-item-avatar",{staticClass:"ma-2",attrs:{size:"45"}},[r("v-img",{attrs:{src:a(8061)}})],1),r("div",{staticClass:"pl-3 pt-2"},[r("v-list-item-title",[r("b",[e._v(e._s(e.user.user_name))])]),r("v-list-item-subtitle",[e._v(e._s(e.user.cashier_name))]),r("v-list-item-subtitle",[e._v(e._s(e.user.profession))])],1)],1)]),r("v-divider"),r("v-list",{attrs:{dense:""}},[e._l(e.user.is_manager?e.items_manager:e.items,(function(t){return r("v-list-item",{key:t.title,attrs:{link:"",to:t.link,color:"var(--primary)"}},[r("v-list-item-icon",[r("v-icon",[e._v(e._s(t.icon))])],1),r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(t.title))])],1)],1)})),r("v-list-item",{on:{click:function(t){return e.logoff()}}},[r("v-list-item-icon",[r("b",[r("v-icon",{attrs:{title:"Deslogar"}},[e._v("fas fa-sign-out-alt")])],1)]),r("v-list-item-content",[r("v-list-item-title",[r("b",[e._v("Deslogar")])])],1)],1)],2)],1)},n=[],c=a(8345),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"basePage"},[a("v-row",{staticStyle:{"max-height":"20%"},attrs:{"no-gutters":"",dense:""}},[a("v-col",{attrs:{cols:"auto","align-self":"center"}},[a("v-list-item",[a("v-list-item-avatar",{attrs:{rouded:"",color:"var(--primary"}},[a("v-icon",{attrs:{color:"white"}},[e._v(" fa fa-newspaper")])],1),a("v-list-item-content",[a("h1",{staticClass:"white--text"},[e._v("NOVIDADES")])])],1)],1),a("v-col",{attrs:{cols:"auto","align-self":"center"}})],1),a("LoadComponent",{attrs:{overlay:this.loading}}),a("v-row",{staticClass:"pa-0 ma-0 mt-3 d-flex justify-start align-start"},e._l(e.news,(function(t,r){return a("div",{key:r,staticClass:"ma-2"},[a("v-card",{staticClass:"mx-auto pa-1",attrs:{"max-width":"500px","min-height":"500px"}},[a("v-img",{attrs:{src:t.main_img_url,title:t.main_img_title,height:"200px"}}),a("v-card-title",{staticStyle:{"min-height":"100px"}},[e._v(" "+e._s(t.title)+" ")]),a("v-card-subtitle",{staticStyle:{"min-height":"100px"}},[a("b",[e._v(e._s(t.resume))])]),a("v-card-text",{staticClass:"d-flex flex-row-reverse mt-0 pt-0"},[e._v(" "+e._s(e.dateFormat(t.dt_news))+" - "+e._s(t.author)+" ")]),a("v-card-actions",[a("v-btn",{attrs:{color:"var(--primary)",icon:""},on:{click:function(a){return e.newLike(t)}}},[a("v-icon",[e._v("fa-regular fa-thumbs-up")]),a("h6",{staticClass:"pl-1"},[e._v(" "+e._s(t.reactions.length)+" ")])],1),a("v-btn",{staticClass:"ml-3",attrs:{color:"var(--primary)",icon:""},on:{click:function(t){return e.onlyOneDetail(!0)}}},[a("v-icon",[e._v("fa-regular fa-comments")]),a("h6",{staticClass:"pl-1"},[e._v(" "+e._s(t.coments.length)+" ")])],1),a("v-spacer"),a("v-btn",{attrs:{icon:"",title:"mais informações"},on:{click:function(t){return e.onlyOneDetail(!1)}}},[a("v-icon",[e._v(e._s(e.more?"mdi-chevron-up":"mdi-chevron-down"))])],1)],1),a("v-expand-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.more,expression:"more"}]},[a("v-divider"),a("div",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"190px"}},e._l(t.texts,(function(t,r){return a("div",{key:r},[a("v-card-text",[e._v(" "+e._s(t.news_text)+" ")])],1)})),0),[a("v-carousel",{attrs:{height:"150px","show-arrows-on-hover":"","hide-delimiter-background":"","hide-delimiters":""}},e._l(t.img,(function(t,r){return a("v-carousel-item",{key:r},[a("v-img",{attrs:{src:t.url,alt:t.description,center:""},on:{click:function(a){return e.openImg(t.url)}}})],1)})),1)]],2)]),a("v-expand-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.coments,expression:"coments"}]},[a("v-card-subtitle",[a("v-icon",[e._v("fa-regular fa-comments")]),e._v(" Comentários ")],1),a("div",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"200px"}},e._l(t.coments,(function(t,r){return a("div",{key:r,staticStyle:{"max-height":"400px"}},[a("v-card-text",{staticClass:"mb-0 mb-0"},[a("v-icon",[e._v("fa fa-quote-left")]),a("b",{staticClass:"ml-3 mr-3"},[e._v(e._s(t.coment))]),a("v-icon",[e._v("fa fa-quote-right")])],1),a("v-card-text",{staticClass:"d-flex flex-row-reverse mt-0 pt-0"},[e._v(" "+e._s(e.dateFormat(t.dt_coment))+" - "+e._s(t.author)+" - "+e._s(t.author)+" ")])],1)})),0),a("v-textarea",{staticClass:"pa-3 d-flex justify-center align-center",attrs:{"append-outer-icon":"fa fa-paper-plane",label:"novo comentário",outlined:"","no-resize":"",height:"50px",color:"var(--primary)"},on:{"click:append-outer":function(a){return e.sendComent(t)}},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.sendComent(t)}},model:{value:e.coment_cache[t.id],callback:function(a){e.$set(e.coment_cache,t.id,a)},expression:"coment_cache[eachNews.id]"}})],1)])],1)],1)})),0)],1)},d=[],u=(a(1703),a(1955)),m=a(629),v=a(4702);const h={cashier_session:{}},p={getStore:e=>e.cashier_session.store,getPymentMethod:e=>e.cashier_session.payment_methods,getCupoms:e=>e.cashier_session.cupoms,getCashierSession:e=>e.cashier_session},f={logout({commit:e}){return new Promise((()=>{e("logout")}))},start({commit:e},t){return new Promise((a=>{setTimeout((()=>{e("SET_START",t),a()}),250)}))}},_={logout(e){e.cashier_session="",u.Z.remove("._token"),u.Z.remove("expires")},SET_START(e,t){e.cashier_session=t}};var y={state:h,getters:p,actions:f,mutations:_};const g={change_value:0,qtd_items:0,qtd_payments:0,forceCustomer:!1,payment_method:"",valid_sale:!1,number:"",sale_date:"",store:"",cashier:"",employee_cashier:"",employee_sale:!1,obs:"",sys_obs:"",products_value:0,payments_value:0,discont_value:0,total_value:0,invoice:!1,invoice_serie:"",invoice_number:"",invoice_coupon:"",invoice_xml:"",customer:{document:"1",name:"Cliente não identificado",email:"",phone:"",type:"",store_partiner_id:"",store_partiner_name:""},salesman:{document:"2",name:"Vendedor não identificado",email:"",phone:"",type:"",store_partiner_id:"",store_partiner_name:""},payments:[],items:[],disconts:[]},b={addItem({commit:e},t){return new Promise((a=>{e("addItem",t),a(t)}))},removeItem({commit:e},t){return new Promise((a=>{e("removeItem",t),a(t)}))},qtdItem({commit:e},t){return new Promise((a=>{e("qtdItem",t),a(t)}))},quicksearch({commit:e},t){return new Promise((a=>{e("quicksearch",t),a(t)}))},cleanCart({commit:e}){return new Promise((t=>{e("cleanCart"),t()}))},addPayment({commit:e},t){return new Promise((a=>{e("addPayment",t),a(t)}))},removePayment({commit:e},t){return new Promise((a=>{e("removePayment",t),a(t)}))},addDisconts({commit:e},t){return new Promise((a=>{e("addDisconts",t),a(t)}))},removeDisconts({commit:e},t){return new Promise((a=>{e("removeDisconts",t),a(t)}))},addObs({commit:e},t){return new Promise((a=>{e("addObs",t),a(t)}))},cleanSale({commit:e}){return new Promise((t=>{e("cleanSale",g),t()}))},addCustomer({commit:e},t){return new Promise((a=>{e("addCustomer",t),a()}))},removeCustomer({commit:e}){return new Promise((t=>{e("removeCustomer"),t()}))},addSalesman({commit:e},t){return new Promise((a=>{e("addSalesman",t),a()}))},removeSalesman({commit:e}){return new Promise((t=>{e("removeSalesman"),t()}))},forceCustomer({commit:e},t){return new Promise((a=>{e("forceCustomer",t),a(t)}))}},C={addItem(e,t){e.status="seleção de products";let a=e.items.findIndex((e=>e.sku===t.sku));-1!==a?e.items[a].quantity=e.items[a].quantity+1:(t.quantity=1,t.disconts=[],t.value=t.price,e.items.push(t),e.qtd_items=e.qtd_items+1),x.processItemValue(e)},removeItem(e,t){e.status="seleção de products";let a=e.items.findIndex((e=>e.sku===t.sku));-1!==a?(e.items.splice(a,1),e.qtd_items=e.qtd_items-1):alert("produto não pode ser removido"),x.processItemValue(e)},qtdItem(e,t){e.status="seleção de products";let a=e.items.findIndex((e=>e.sku===t.sku));e.items[a].quantity=t.quantity,x.processItemValue(e,a)},cleanCart(e){e.status="sem venda",e.items=[],x.total(e)},addPayment(e,t){e.status="em pagamento";let a=e.payments.findIndex((e=>e.method_id===t.method_id));-1!==a?e.payments[a].method_value=t.method_value:e.payments.push(t),x.total(e)},removePayment(e,t){e.status="em pagamento";let a=e.payments.findIndex((e=>e.method_id===t.method_id));-1!==a?e.payments.splice(a,1):alert("impossivel remover este apgamento"),x.total(e)},addDisconts(e,t){e.status="em disconts",e.disconts.push(t),e.forceCustomer=t.with_client,x.addDiscontsToProducts(e)},removeDisconts(e,t){e.status="em disconts";let a=e.disconts.findIndex((e=>e.id===t.id));-1!==a?e.disconts.splice(a,1):alert("impossivel remover discont"),t.with_client&&x.removeForceCustomer(e),x.addDiscontsToProducts(e)},addObs(e,t){e.obs=t},cleanSale(e){e.change_value=0,e.qtd_items=0,e.qtd_payments=0,e.forceCustomer=!1,e.payment_method="",e.valid_sale=!1,e.number="",e.sale_date="",e.store="",e.cashier="",e.employee_cashier="",e.employee_sale=!1,e.obs="",e.sys_obs="",e.invoice=!1,e.products_value=0,e.payments_value=0,e.discont_value=0,e.total_value=0,e.nfce={serie:"",number:"",cupom_pdf:"",nfce_xml:""},e.customer={document:"1",name:"Cliente não identificado",email:"",phone:"",type:"",store_partiner_id:"",store_partiner_name:""},e.salesman={document:"2",name:"Vendedor não identificado",email:"",phone:"",type:"",store_partiner_id:"",store_partiner_name:""},e.payments=[],e.items=[],e.disconts=[],x.total(e)},addCustomer(e,t){e.customer=t,x.total(e)},removeCustomer(e){e.customer={document:"1",name:"Cliente não identificado",email:"",phone:"",type:"",store_partiner_id:"",store_partiner_name:""},x.total(e)},addSalesman(e,t){e.salesman=t,x.total(e)},removeSalesman(e){e.salesman={document:"2",name:"Vendedor não identificado",email:"",phone:"",type:"",store_partiner_id:"",store_partiner_name:""},x.total(e)}},w={getItems(e){return e.items}},x={processItemValue(e,t){"undefined"!==typeof t?("undefined"===typeof e.items[t].value&&alert("erro ao calcular total do produto"),e.items[t].total=e.items[t].quantity*e.items[t].value):e.items.forEach((e=>{"undefined"===typeof e.value&&alert("erro ao calcular total do produto"),e.total=e.quantity*e.value})),this.addDiscontsToProducts(e)},total(e){e.products_value=0,e.payments_value=0,e.discont_value=0,e.total_value=0,e.change_value=0,e.qtd_items=0,e.qtd_payments=0,e.items.forEach((t=>{0!==t.disconts.lenght&&t.disconts.forEach((t=>{e.discont_value+=t.price})),e.total_value+=t.total,e.products_value+=t.quantity*t.price,e.qtd_items++})),e.payments.length>0&&e.payments.forEach((t=>{e.payments_value+=t.method_value,e.qtd_payments++})),e.change_value=e.payments_value-e.total_value,e.change_value=+e.change_value.toFixed(2),e.valid_sale=!0,e.status="Finalizada","undefined"===typeof e.items&&(e.valid_sale=!1,e.status=" Não há item nesta venda."),e.change_value>=0&&0===e.payments_value&&(e.valid_sale=!1,e.status=" Não há pagamentos nesta venda."),e.total_value<0&&(e.valid_sale=!1,e.status=" venda com o total negativo."),e.products_value<=0&&(e.valid_sale=!1,e.status=" venda com o total de products zerado."),e.discont_value>e.products_value&&(e.valid_sale=!1,e.status=" valor de discont maior que o valor total da venda."),e.change_value<0&&(e.valid_sale=!1,e.status=" valor de pagamento menor que o valor total da venda."),e.forceCustomer&&e.customer.type!==e.forceCustomer&&(e.valid_sale=!1,e.status=`necessário informar um ${e.forceCustomer} nesta venda.`)},addDiscontsToProducts(e){e.status="em disconts",e.discont_value=0;var t=0;e.items.forEach((e=>{t+=e.total})),"undefined"!==typeof e.disconts&&(e.items.forEach((a=>{a.disconts=[],a.total=a.price*a.quantity,e.disconts.forEach((r=>{if(r.all_products){let e=a.total;if(r.percent){let t=r.value/100*e;a.disconts.push({code:r.code,description:r.description,price:t,value:r.value,percent:r.percent}),a.total-=t}else{var s=a.total/t,o=r.valor*s;a.disconts.push({code:r.code,description:r.description,price:o,value:"",percent:r.percent}),a.total-=o}}else if(r.sku===a.sku){let e=a.total;if(r.percent){let t=r.value/100*e;a.disconts.push({code:r.cade,description:r.description,price:t,value:r.value,percent:r.percent}),a.total-=t}else a.disconts.push({code:r.code,price:r.value,description:r.description,value:"",percent:r.percent}),a.total-=r.value}e.forceCustomer=!!r.with_client&&r.with_client}))})),this.total(e))},removeForceCustomer(e){e.forceCustomer=!1,x.total(e)}};var k={state:g,getters:w,actions:b,mutations:C,service:x};const V={products:[],categorys:[]},Z={updateProducts({commit:e},t){return new Promise((a=>{a(e("updateProducts",t))}))}},S={updateProducts(e,t){e.categorys=t.category,e.products=t.products}},I={};var A={state:V,getters:I,actions:Z,mutations:S};function P(e,t){var a={up:[],not_up:[]};return"undefined"===typeof e&&e&&0!==e.length?"undefined"===typeof t&&t&&0!==t.length?(e.length>0&&e.forEach((e=>{let r=t.findIndex((t=>t.number===e.number));-1===r&&a.not_up.push(e)})),a.up=t,a):(a.up=[],a.not_up=e,a):(a.up=t,a.not_up=[],a)}var E=a(8582);const $={to_sync_sales:[],sales:[],updated_at:""},T={sales(e){return e.sales},updated_at(e){return e.updated_at}},L={newSale({commit:e},t){return new Promise((a=>{a(e("newSale",t))}))},salesMerge({commit:e},t){return new Promise((a=>{a(e("salesMerge",t))}))}},D={newSale(e,t){""!==t.id&&"Erro"!==t.status?e.sales.push(t):e.to_sync_sales.push(t)},salesMerge(e,t){var a=P(e.to_sync_sales,t);e.sales=a.up?a.up:e.sales,e.to_sync_sales=a.not_up?a.not_up:e.to_up_sales,e.updated_at=(0,E.Z)(new Date,"yyyy-MM-dd HH:mm:ss")}};var F={state:$,getters:T,actions:L,mutations:D};const O={alert:{message:"",type:"error",active:!1}},j={Alert({commit:e},t){return new Promise((a=>{a(e("Alert",t)),a(setTimeout((()=>{e("AlertRemove")}),"5000"))}))},AlertRemove({commit:e}){return new Promise((t=>{t(e("AlertRemove"))}))}},R={Alert(e,t){e.alert.type=t.type,e.alert.message=t.message,e.alert.active=!0},AlertRemove(e){e.alert.type="error",e.alert.message="",e.alert.active=!1}},z={};var B={state:O,getters:z,actions:j,mutations:R};r.Z.use(m.ZP);const N=new m.ZP.Store({modules:{auth:y,cashierStore:k,productStore:A,salesStore:F,errorHandle:B},plugins:[(0,v.Z)()]});var M=N;function q(e="success",t){switch(e){case"success":break;case"error":var a=t.replace(/[^0-9]/g,"");401==a&&cs.push("/expired");break}M.dispatch("Alert",{type:e,message:t})}async function H(){var e=new Headers;e.append("Authorization","Bearer "+u.Z.get("._token"));var t={method:"GET",headers:e,redirect:"follow"};const a=await fetch("http://143.110.228.113/ErpFashion/news",t).then((e=>{if(!e.ok)throw new Error(`${e.status} - ${e.statusText} `);return e.json()})).then((e=>e.data.data)).catch((e=>{q("error",e.message)}));return a}async function K(e){var t=new Headers;t.append("Authorization","Bearer "+u.Z.get("._token"));var a={method:"POST",headers:t,redirect:"follow",body:JSON.stringify(e)};const r=await fetch("http://143.110.228.113/ErpFashion/news/coment",a).then((e=>{if(!e.ok)throw new Error(`${e.status}- ${e.statusText}`);return e.json()})).then((e=>e.data.data)).catch((e=>{q("error",e.message)}));return r}async function U(e){var t=new Headers;t.append("Authorization","Bearer "+u.Z.get("._token"));var a={method:"POST",headers:t,redirect:"follow",body:JSON.stringify(e)};const r=await fetch("http://143.110.228.113/ErpFashion/news/reaction",a).then((e=>{if(!e.ok)throw new Error(`${e.status}- ${e.statusText}`);return e.json()})).then((e=>e.data.data)).catch((e=>{q("error",e.message)}));return r}var J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center"},[a("v-overlay",{attrs:{value:e.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}}),a("h2",[e._v(" Carregando... ")])],1)],1)},X=[],W={props:{overlay:Boolean}},G=W,Q=a(1001),Y=a(3453),ee=a.n(Y),te=a(1058),ae=a(624),re=(0,Q.Z)(G,J,X,!1,null,null,null),se=re.exports;ee()(re,{VOverlay:te.Z,VProgressCircular:ae.Z});var oe={name:"NewsPage",data:()=>({news:[],more:!1,coments:!1,coment_cache:[],loading:!1}),computed:{},components:{LoadComponent:se},methods:{onlyOneDetail(e){e?(this.coments=!this.coments,this.coments&&(this.more=!1)):(this.more=!this.more,this.more&&(this.coments=!1))},openImg(e){window.open(e,"_blank")},async newLike(e){this.loading=!0;var t={news:e.id,news_reaction:"like"};await U(t),this.loading=!1,this.news=await H(),q("success","+1 curtir")},dateFormat(e){return e=new Date(e),(0,E.Z)(e,"dd/MM/yyyy HH:mm:ss")},async sendComent(e){if(this.loading=!0,""!==this.coment_cache[e.id]){var t={news:e.id,author:null,coment:this.coment_cache[e.id],dt_coment:(0,E.Z)(new Date,"yyyy-MM-dd HH:mm:ss")};this.coment_cache[e.id]="",await K(t),this.news=await H(),q("success","comentário postado.")}this.loading=!1}},async beforeMount(){this.loading=!0,this.news=await H(),this.loading=!1}},ie=oe,ne=a(3150),ce=a(3237),le=a(7118),de=a(7813),ue=a(6501),me=a(2102),ve=a(1418),he=a(5827),pe=a(6428),fe=a(7047),_e=a(7620),ye=a(6421),ge=a(413),be=a(2877),Ce=a(9762),we=a(4350),xe=(0,Q.Z)(ie,l,d,!1,null,null,null),ke=xe.exports;ee()(xe,{VBtn:ne.Z,VCard:ce.Z,VCardActions:le.h7,VCardSubtitle:le.Qq,VCardText:le.ZB,VCardTitle:le.EB,VCarousel:de.Z,VCarouselItem:ue.Z,VCol:me.Z,VDivider:ve.Z,VExpandTransition:he.Fx,VIcon:pe.Z,VImg:fe.Z,VListItem:_e.Z,VListItemAvatar:ye.Z,VListItemContent:ge.km,VRow:be.Z,VSpacer:Ce.Z,VTextarea:we.Z});var Ve=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"background d-flex justify-center align-center"},[r("LoadComponent",{attrs:{overlay:e.loading}}),r("v-card",{staticClass:"pa-4 text-center ",attrs:{width:"30%",elevation:"24"}},[r("v-avatar",{attrs:{size:"90"}},[r("v-img",{attrs:{src:a(5426)}})],1),r("h2",[e._v("Autenticação")]),r("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.login()}}},[r("v-text-field",{attrs:{rules:e.rules.email,type:"email",label:"Usuário","prepend-inner-icon":"mdi-account"},model:{value:e.userTemp.email,callback:function(t){e.$set(e.userTemp,"email",t)},expression:"userTemp.email"}}),r("v-text-field",{staticClass:"pb-0 mb-0",attrs:{rules:e.rules.password,type:e.passwordShow?"text":"password",label:"Senha","prepend-inner-icon":"mdi-key","append-icon":e.passwordShow?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(t){e.passwordShow=!e.passwordShow}},model:{value:e.userTemp.password,callback:function(t){e.$set(e.userTemp,"password",t)},expression:"userTemp.password"}}),r("v-card-actions",{staticClass:"justify-end mt-5"},[r("v-btn",{staticClass:" mr-2",attrs:{color:"var(--primary)",text:""},on:{click:function(t){e.passRecover=!e.passRecover}}},[r("span",{staticClass:"pl-3 "},[e._v(" esqueci minha senha ")])]),r("v-btn",{staticClass:" mr-2",attrs:{type:"submit",color:"var(--primary)"}},[r("v-icon",{attrs:{color:"white"}},[e._v("fa fa-right-to-bracket")]),r("span",{staticClass:"white--text pl-3 "},[e._v(" Logar-se! ")])],1)],1)],1),r("v-expand-transition",[r("div",{directives:[{name:"show",rawName:"v-show",value:e.passRecover,expression:"passRecover"}]},[r("v-divider"),r("v-card",{attrs:{width:"100%"}},[r("v-list",[r("v-list-item",[r("v-list-item-avatar",{attrs:{rouded:"",color:"var(--primary"}},[r("v-icon",{attrs:{color:"white"}},[e._v(" fa fa-at")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Recuperar Senha")])],1)],1)],1),r("v-list",[r("v-card-subtitle",[e._v(" Favor informar o e-mail abaixo apra recuperação de Senha ")]),r("v-text-field",{staticClass:"pa-2",attrs:{label:"Email","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",rules:e.rules.validarDocumento,type:"text","prepend-icon":"fa fa-at",autofocus:""},model:{value:e.userTemp.emailRecovery,callback:function(t){e.$set(e.userTemp,"emailRecovery",t)},expression:"userTemp.emailRecovery"}})],1),r("v-card-actions",[r("v-btn",{attrs:{color:"var(--primary)",text:""},on:{click:function(t){return e.enviarRecuperacao()}}},[e._v("Enviar")])],1)],1)],1)])],1)],1)},Ze=[];async function Se(e){var t={method:"GET",headers:{Authorization:"Basic 6048eb749c6000030fa67ddb8d68ac9006be1ef2fbec4a4c9ef8e9a6ea51","Content-Type":"application/json"},redirect:"follow"};const a=await fetch(`http://143.110.228.113/ErpFashion/auth/${e.email}/${e.password}`,t).then((e=>{if(!e.ok)throw new Error(`${e.status} - ${e.statusText}`);return e.json()})).then((e=>(u.Z.set("._token",e.data.access),u.Z.set("expires",e.data.expires),e))).catch((e=>{q("error",e.message)}));return a}async function Ie(){var e={method:"GET",headers:{Authorization:"Bearer "+u.Z.get("._token")},redirect:"follow"};const t=await fetch("http://143.110.228.113/ErpFashion/start",e).then((e=>{if(console.log("url","http://143.110.228.113/ErpFashion"),!e.ok)throw new Error(`${e.status} - ${e.statusText}`);return e.json()})).then((e=>{if(e.data.error)throw new Error(e.data.data);return e.data.data})).catch((e=>{q("error",e.message)}));return t}async function Ae(e){var t=JSON.stringify({cashier:e}),a={method:"POST",body:t,headers:{Authorization:"Bearer "+u.Z.get("._token")},redirect:"follow"};const r=await fetch("http://143.110.228.113/ErpFashion/start",a).then((e=>{if(!e.ok)throw new Error(`${e.status} - ${e.statusText}`);return e.json()})).then((e=>{if(e.data.error)throw new Error(e.data.data);return u.Z.set("._token",e.data.access),u.Z.set("expires",e.data.expires),e})).catch((e=>{q("error",e.message)}));return r}var Pe={name:"LoginPage",computed:{},data:()=>({loading:!1,snackbar:!1,passwordShow:!1,passRecover:!1,alert:{type:"",message:"",active:!1},rules:{password:[e=>!!e||"Informe a senha"],email:[e=>!!e||"Informe o e-mail"],validarDocumento:[e=>!!e||"informe email de recuperação"]},userTemp:{email:"",password:"",emailRecovery:""}}),methods:{async login(){if(this.$refs.form.validate()){this.loading=!0;try{await Se(this.userTemp),cs.push("/start")}catch(e){console.log("SHOW RESULT",e),this.$store.dispatch("Alert",{type:"error",message:e})}this.loading=!1}},enviarRecuperacao(){this.rules.validarDocumento=[!0],this.rules.validarDocumento=["serviço de recuperar e-mail ainda está indisponivel!"]}},components:{LoadComponent:se},beforeMount(){this.transition=!0}},Ee=Pe,$e=a(6370),Te=a(6232),Le=a(6816),De=a(5978),Fe=(0,Q.Z)(Ee,Ve,Ze,!1,null,null,null),Oe=Fe.exports;ee()(Fe,{VAvatar:$e.Z,VBtn:ne.Z,VCard:ce.Z,VCardActions:le.h7,VCardSubtitle:le.Qq,VDivider:ve.Z,VExpandTransition:he.Fx,VForm:Te.Z,VIcon:pe.Z,VImg:fe.Z,VList:Le.Z,VListItem:_e.Z,VListItemAvatar:ye.Z,VListItemContent:ge.km,VListItemTitle:ge.V9,VTextField:De.Z});var je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"basePage"},[a("v-row",{attrs:{"no-gutters":"",dense:""}},[a("v-col",{attrs:{cols:"cols-10","align-self":"center"}},[a("v-list-item",[a("v-list-item-avatar",{attrs:{rouded:"",color:"var(--primary"}},[a("v-icon",{attrs:{color:"white"}},[e._v(" fa fa-cart-plus")])],1),a("v-list-item-content",[a("h1",{staticClass:"white--text"},[e._v("CAIXA")])])],1)],1),a("v-spacer")],1),a("v-row",{attrs:{"no-gutters":"",dense:""}},[a("v-col",{attrs:{cols:"7"}},[a("ProductCard")],1),a("v-col",{attrs:{cols:"5",id:"tabMenu"}},[a("TabCashierSubmenu"),a("TotalCard"),a("v-row",{staticClass:"pa-0 d-flex justify-center align-center",staticStyle:{height:"2.5vh"},attrs:{dense:"","no-gutters":""}},[a("v-spacer"),"Finalizada"!==e.sale.status?a("h5",{staticClass:"white--text mx-3 "},[e._v(" "+e._s(e.sale.status))]):e._e()],1),a("v-row",{staticClass:"px-3",staticStyle:{height:"13.2vh"},attrs:{justify:"space-around"}},[a("ObsCard"),a("ChangeCard"),a("v-btn",{attrs:{height:"100%",width:"15%",color:"red",dark:"",title:"cancelar a venda"},on:{click:function(t){return e.onCancelOrder()}}},[a("v-icon",{attrs:{color:"white",size:"35"}},[e._v(" fa fa-ban")])],1),a("DetailSaleCard")],1)],1)],1)],1)},Re=[],ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("LoadComponent",{attrs:{overlay:e.loading}}),a("v-card",{attrs:{elevation:"0",id:"productCard"}},[a("v-card-title",[a("v-list-item-avatar",{attrs:{rouded:"",color:"var(--primary"}},[a("v-icon",{attrs:{color:"white"}},[e._v(" fa fa-boxes")])],1),e._v(" Produtos "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"procurar...","single-line":"",dense:"",autofocus:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchProduct(e.search)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[e._v(" >")]),a("v-btn",{staticClass:"ma-3",attrs:{icon:"",title:"Atualizar Produtos",right:"",center:"",fab:"",outlined:"",small:"",color:"green"},on:{click:function(t){return e.updateproducts(!0)}}},[a("v-icon",[e._v("fa-solid fa-arrows-rotate")])],1)],1),a("v-card-text",[a("v-data-table",{staticClass:"overflow-y-auto",staticStyle:{height:"76vh"},attrs:{items:e.products,search:e.search,headers:e.header,"fixed-header":"","calculate-widths":"",dense:"","no-data-text":"Não foi possivel carregar produtos.","no-results-text":"Produto não encontrado.","items-per-page":50},scopedSlots:e._u([{key:"item",fn:function(t){return[a("tr",{on:{click:function(a){return e.newItem(t.item)}}},[a("td",[a("v-icon",{attrs:{size:"20",title:"Enviar apra o carrinho",color:"var(--primary)"}},[e._v(" fa fa-cart-plus ")])],1),a("td",{},[e._v(e._s(t.item.sku)),a("br"),a("b",[e._v(e._s(t.item.description))])]),a("td",{},[a("h5",[e._v(e._s(t.item.provider.toLowerCase()))]),a("h4",[e._v(e._s(e.nameCategory(t.item.category)))])]),a("td",[a("h3",[e._v(" "+e._s(e.valueFormat(t.item.price))+" ")])]),a("td",[a("PriceReport",{attrs:{item:t.item}})],1)])]}}])})],1)],1)],1)},Be=[];async function Ne(){var e=new Headers;e.append("Authorization","Bearer "+u.Z.get("._token"));var t={method:"GET",headers:e,redirect:"follow"};const a=await fetch("http://143.110.228.113/ErpFashion/product",t).then((e=>{if(!e.ok)throw new Error(`${e.status} - ${e.statusText}`);return e.json()})).then((e=>e.data.data)).catch((e=>{q("error",e.message)}));return a}async function Me(e,t){var a=new Headers;a.append("Authorization","Bearer "+u.Z.get("._token"));var r={method:"POST",headers:a,body:JSON.stringify(e),redirect:"follow"};const s=await fetch(`http://143.110.228.113/ErpFashion/product/${t}`,r).then((e=>{if(!e.ok)throw new Error(`${e.status} - ${e.statusText}`);return e.json()})).then((e=>e.data.data)).catch((e=>{q("error",e.message)}));return s}var qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,s=t.attrs;return[a("v-icon",e._g(e._b({attrs:{size:"18",title:"Reportar diferença de preço",color:"red"}},"v-icon",s,!1),r),[e._v("fa-solid fa-triangle-exclamation ")])]}}]),model:{value:e.reportMenu,callback:function(t){e.reportMenu=t},expression:"reportMenu"}},[a("v-card",[a("v-list",[a("v-list-item",[a("v-list-item-avatar",{attrs:{rouded:"",color:"red"}},[a("v-icon",{attrs:{color:"white"}},[e._v(" fa-solid fa-triangle-exclamation")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Informar preço errado")])],1)],1)],1),a("v-divider"),a("v-list",{staticClass:"pa-3"},[a("v-list-item-subtitle",[e._v("SKU: "+e._s(e.item.sku))]),a("v-list-item-subtitle",[e._v("Descrição: "+e._s(e.item.description))]),a("v-list-item-subtitle",[e._v("Categoria: "+e._s(e.nameCategory(e.item.category)))]),a("v-list-item-subtitle",[e._v("Fornecedor: "+e._s(e.item.provider.toUpperCase()))]),a("v-list-item-subtitle",{staticClass:"pt-3 pl-6"},[e._v("Preço Atual: "+e._s(e.valueFormat(e.item.price)))]),a("v-currency-field",{staticClass:"px-3",attrs:{label:"Valor correto",clearable:"",prefix:"R$",color:"var(--primary)",id:"price","prepend-icon":"fa fa-dollar-sign"},model:{value:e.right_price,callback:function(t){e.right_price=t},expression:"right_price"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.reportMenu=!1}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"var(--primary)",text:""},on:{click:function(t){return e.report()}}},[e._v("reportar")])],1)],1)],1)},He=[],Ke={name:"PriceReport",props:{item:{}},computed:{categorys(){return this.$store.state.productStore.categorys},store(){return this.$store.state.auth.cashier_session.store.store_name}},data:()=>({reportMenu:!1,right_price:0}),methods:{nameCategory(e){let t=this.categorys.findIndex((t=>t.id===e));return this.categorys[t].name},valueFormat(e){if("undefined"!==typeof e)return e.toLocaleString("pt-br",{style:"currency",currency:"BRL"})},async report(){var e=this.item.id,t={store:this.store,right_price:this.right_price};await Me(t,e),this.reportMenu=!1,q("success","Preço de produto reportado")}}},Ue=Ke,Je=a(6768),Xe=(0,Q.Z)(Ue,qe,He,!1,null,null,null),We=Xe.exports;ee()(Xe,{VBtn:ne.Z,VCard:ce.Z,VCardActions:le.h7,VDivider:ve.Z,VIcon:pe.Z,VList:Le.Z,VListItem:_e.Z,VListItemAvatar:ye.Z,VListItemContent:ge.km,VListItemSubtitle:ge.oZ,VListItemTitle:ge.V9,VMenu:Je.Z,VSpacer:Ce.Z});var Ge={name:"ProductsCard",computed:{products(){return this.$store.state.productStore.products},categorys(){return this.$store.state.productStore.categorys}},data:()=>({search:"",loading:!1,report:!1,header:[{text:"",align:"center",sortable:!1,value:""},{text:"Sku / Descricao",align:"start",value:"description"},{text:"Categoria / Fornecedor",align:"start",value:"provider"},{text:"Preco(R$)",align:"center",value:"price"},{text:"",align:"center",value:""}]}),methods:{newItem(e){this.$store.dispatch("addItem",e),q("info",`Produto ${e.description}adicionado.`)},searchProduct(e){let t=this.products.findIndex((t=>t.sku===e));-1!==t&&(e=this.products[t],this.$store.dispatch("addItem",e),this.search="")},valueFormat(e){return e.toLocaleString("pt-br",{style:"currency",currency:"BRL"})},nameCategory(e){let t=this.categorys.findIndex((t=>t.id===e));return this.categorys[t].name},colorCategory(e){let t=this.categorys.findIndex((t=>t.id===e));return this.categorys[t].color},async updateproducts(e){try{if(this.products.length<=0||e){this.loading=!0;var t=await Ne();this.$store.dispatch("updateProducts",t),this.loading=!1,q("success","Produtos atualizados.")}}catch(a){q("error",a.message)}}},async beforeMount(){this.updateproducts(!1)},components:{LoadComponent:se,PriceReport:We}},Qe=Ge,Ye=a(4998),et=(0,Q.Z)(Qe,ze,Be,!1,null,null,null),tt=et.exports;ee()(et,{VBtn:ne.Z,VCard:ce.Z,VCardText:le.ZB,VCardTitle:le.EB,VDataTable:Ye.Z,VIcon:pe.Z,VListItemAvatar:ye.Z,VSpacer:Ce.Z,VTextField:De.Z});var at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-slide-x-transition",[a("v-tabs",{staticClass:"d-flex justify-center align-center",attrs:{centered:""},model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[a("v-hover",{model:{value:e.menuHover["carrinho"],callback:function(t){e.$set(e.menuHover,"carrinho",t)},expression:"menuHover['carrinho']"}},[a("v-tab",{attrs:{color:"var(--primary)"},on:{keyup:function(t){e.tabs=e.tabs}}},[a("v-icon",{staticClass:"pr-3",attrs:{color:"var(--primary)",size:"30"}},[e._v(" fa fa-cart-shopping")]),a("v-slide-x-transition",[a("span",{directives:[{name:"show",rawName:"v-show",value:e.menuHover["carrinho"],expression:"menuHover['carrinho']"}]},[e._v("Carrinho")])])],1)],1),a("v-hover",{model:{value:e.menuHover["descontos"],callback:function(t){e.$set(e.menuHover,"descontos",t)},expression:"menuHover['descontos']"}},[a("v-tab",[a("v-icon",{staticClass:"pr-3",attrs:{color:"var(--primary)",size:"30"}},[e._v(" fa fa-tags")]),a("v-slide-x-transition",[a("span",{directives:[{name:"show",rawName:"v-show",value:e.menuHover["descontos"],expression:"menuHover['descontos']"}]},[e._v("Descontos")])])],1)],1),a("v-hover",{model:{value:e.menuHover["pagamentos"],callback:function(t){e.$set(e.menuHover,"pagamentos",t)},expression:"menuHover['pagamentos']"}},[a("v-tab",[a("v-icon",{staticClass:"pr-3",attrs:{color:"var(--primary)",size:"30"}},[e._v(" fa fa-sack-dollar")]),a("v-slide-x-transition",[a("span",{directives:[{name:"show",rawName:"v-show",value:e.menuHover["pagamentos"],expression:"menuHover['pagamentos']"}]},[e._v("Pagamentos")])])],1)],1),a("v-hover",{model:{value:e.menuHover["cliente"],callback:function(t){e.$set(e.menuHover,"cliente",t)},expression:"menuHover['cliente']"}},[a("v-tab",[a("v-icon",{staticClass:"pr-3",attrs:{color:"var(--primary)",size:"30"}},[e._v(" fa-solid fa-user-group")]),a("v-slide-x-transition",[a("span",{directives:[{name:"show",rawName:"v-show",value:e.menuHover["cliente"],expression:"menuHover['cliente']"}]},[e._v("Cliente / Vendedor")])])],1)],1)],1)],1),a("v-divider"),a("v-tabs-items",{staticStyle:{"min-height":"36vh","max-height":"36vh"},model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[a("v-tab-item",[a("ItemCard")],1),a("v-tab-item",[a("DiscontCard")],1),a("v-tab-item",[a("PaymentCard")],1),a("v-tab-item",[a("CustomerCard"),a("v-spacer"),a("h3",{staticClass:"pl-6"},[e._v("Vendedor está temporariamente indisponível")])],1)],1)],1)},rt=[],st=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex flex-column align-center justify-center",attrs:{height:"100%"}},[a("v-data-table",{staticClass:"overflow-y-auto",staticStyle:{height:"30vh",width:"100%","padding-left":"3px","padding-right":"3px"},attrs:{headers:e.header,items:e.Items,"disable-filtering":"","fixed-header":"","calculate-widths":"",dense:"","hide-default-header":"","hide-default-footer":"","items-per-page":-1,id:"scroll-cart"},scopedSlots:e._u([{key:"item",fn:function(t){return[0!==t.item.id?a("tr",[a("td",[a("v-icon",{staticClass:"ma-0 pa-0",attrs:{size:"20",color:"red"},on:{click:function(a){return e.removeItem(t)}}},[e._v("fa fa-xmark ")])],1),a("td",[e._v(" "+e._s(t.item.sku)),a("br"),a("b",[e._v(e._s(t.item.description))])]),a("td",[a("v-container",{attrs:{id:"miniButtons"}},[a("h5",[e._v(e._s(e.valueFormat(t.item.value)))]),a("v-icon",{staticClass:"mr-1",attrs:{size:"10",color:"green"},on:{click:function(a){return e.qtdAdd(t)}}},[e._v("fa fa-plus")]),e._v(" "+e._s(t.item.quantity)+" "),a("v-icon",{staticClass:"ml-1",attrs:{size:"10",color:"red"},on:{click:function(a){return e.qtdSub(t)}}},[e._v("fa fa-minus")])],1)],1),a("td",[a("div",[a("h5",[e._v(" "+e._s(e.valueFormat(t.item.price*t.item.quantity))+" ")]),void 0!==t.item.disconts?a("div",e._l(t.item.disconts,(function(t){return a("div",{key:t.code},[a("h5",{staticStyle:{color:"red"},attrs:{title:e.getDescTitle(t)}},[e._v(e._s(e.valueFormat(t.price))+"-")])])})),0):e._e(),a("h4",[a("b",[e._v(e._s(e.valueFormat(t.item.total)))])])])])]):e._e()]}}])}),a("v-btn",{attrs:{fab:"",small:""}},[a("v-icon",{attrs:{color:"red",title:"esvaziar carrinho",size:"25"},on:{click:e.cleanCart}},[e._v(" fa fa-trash ")])],1)],1)},ot=[],it={name:"productSelecionadoCard",computed:{Items(){return this.$store.state.cashierStore.items}},data:()=>({header:[{text:"",align:"center",sortable:!1,value:""},{text:"Produto",align:"center",value:"description"},{text:"preço / quantidade",align:"center",value:"price"},{text:"total / descontos",align:"center",value:"total"}]}),methods:{qtdAdd(e){e.item.quantity++,this.$store.dispatch("qtdItem",e.item)},qtdSub(e){e.item.quantity--,e.item.quantity<=0?(this.$store.dispatch("removeItem",e.item),q("warning",`Produto ${e.item.description} removido.`)):this.$store.dispatch("qtdItem",e.item)},removeItem(e){this.$store.dispatch("removeItem",e.item),q("warning",`Produto ${e.item.description} removido.`)},cleanCart(){this.$store.dispatch("cleanCart"),q("warning","Carrinho limpo.")},valueFormat(e){return e.toLocaleString("pt-br",{style:"currency",currency:"BRL"})},getDescTitle(e){return e.code+": "+e.description}}},nt=it,ct=a(9846),lt=(0,Q.Z)(nt,st,ot,!1,null,null,null),dt=lt.exports;ee()(lt,{VBtn:ne.Z,VContainer:ct.Z,VDataTable:Ye.Z,VIcon:pe.Z});var ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex flex-column align-center justify-center",attrs:{height:"100%"}},[a("v-data-table",{staticClass:"overflow-y-auto",staticStyle:{height:"27vh",width:"100%","padding-left":"3px","padding-right":"3px"},attrs:{headers:e.header,items:e.disconts,"hide-default-footer":"","hide-default-header":"","calculate-widths":""},scopedSlots:e._u([{key:"item",fn:function(t){return[a("tr",[a("td",[a("v-icon",{attrs:{size:"15",color:"var(--primary)"}},[e._v("fa fa-ticket ")])],1),a("td",[e._v(e._s(t.item.code))]),a("td",[e._v(e._s(e.skuFormat(t.item)))]),a("td",[e._v(e._s(t.item.percent?t.item.value+"%":e.valueFormat(t.item.value)))]),a("td",[a("v-icon",{attrs:{size:"10",color:"red"},on:{click:function(a){return e.removeCupom(t.item)}}},[e._v("fa fa-xmark")])],1)])]}}])}),a("v-form",{staticClass:"px-3 pb-6 d-flex flex-row",staticStyle:{width:"100%"},on:{submit:function(t){return t.preventDefault(),e.addCupom()}}},[a("v-text-field",{staticClass:"pa-2",staticStyle:{"max-width":"45%"},attrs:{label:"código do cupom","hide-details":"auto",hint:e.cupom.description,"persistent-hint":"",autofocus:"",color:"var(--primary)",rules:e.rules.validcode,"prepend-icon":"fa fa-ticket"},on:{change:e.code_validate,focus:e.onFocuscode},model:{value:e.cupom.code,callback:function(t){e.$set(e.cupom,"code",t)},expression:"cupom.code"}}),a("v-select",{staticClass:"pa-2",staticStyle:{"max-width":"40%"},attrs:{label:"selecione o produto","hide-details":"auto","item-text":"sku","item-value":"sku",color:"var(--primary)",disabled:0!==e.cupom.all_products,items:e.items,hint:"sku: "+e.cupom.sku,"prepend-icon":"fa fa-box",rules:e.rules.produto,"persistent-hint":"","single-line":""},model:{value:e.cupom.sku,callback:function(t){e.$set(e.cupom,"sku",t)},expression:"cupom.sku"}}),a("v-btn",{staticClass:"ml-6 mt-3",attrs:{type:"submit",color:"green",fab:"",small:""}},[a("v-icon",{attrs:{color:"white"}},[e._v("fa fa-plus")])],1)],1)],1)},mt=[];async function vt(e){var t=new Headers;t.append("Authorization","Bearer "+u.Z.get("._token"));var a={method:"POST",headers:t,body:JSON.stringify({code:e}),redirect:"follow"};const r=await fetch("http://143.110.228.113/ErpFashion/cupom",a).then((e=>{if(!e.ok)throw new Error(`${e.status} - ${e.statusText}`);return e.json()})).then((e=>e.data.data)).catch((e=>{q("error",e.message)}));return r}var ht={name:"CupomDescontoCard",computed:{disconts(){return this.$store.state.cashierStore.disconts},items(){return this.$store.state.cashierStore.items},prefabCupons(){return this.$store.state.auth.cashier_session.cupoms}},data:()=>({menu:!1,cupom:{id:0,with_client:"",code:"",description:"",value:0,all_products:0,acumulate:1,percent:1,quantity:0,sku:""},header:[{text:"code",align:"start",sortable:!1,value:"code"},{text:"value(R$)",value:"value"},{text:"Icon",value:"icon"}],rules:{validcode:[!0],value:[e=>(e||"").length>0||"necessário informar o produto!"]}}),methods:{async code_validate(e){try{let a=this.prefabCupons.findIndex((t=>t.code===e));if(-1!==a)this.cupom=this.prefabCupons[a];else{var t=await vt(e);"undefined"!==typeof t?this.cupom=this.newCupom:this.rules.validcode=["Cupom inválido"]}}catch(a){q("error","Cupom inválido")}},addCupom(){try{if(""==this.cupom.description)throw new Error("sem cupom válido definido!");var e=Object.assign({},this.cupom);if(e.acumulate){let t=this.disconts.findIndex((e=>e.sku===this.cupom.sku));if(console.log(t),-1!==t)return this.rules.validcode=["Cupom já incluso neste item!"],!1;this.$store.dispatch("addDisconts",e),q("success",`Cupom ${e.code} adicionado ao carrinho`)}else{let t=this.disconts.findIndex((e=>e.code===this.cupom.code));if(-1!==t)return this.rules.validcode=["cupom já incluido!"],!1;if(t=this.disconts.findIndex((e=>!1===e.acumulate)),-1!==t)return this.rules.validcode=["já possui outro cupom não acumulativo"],!1;this.$store.dispatch("addDisconts",e),q("success",`Cupom ${e.code} adicionado ao carrinho`)}this.clearCupom(),this.menu=!1}catch(t){this.clearCupom(),this.rules.validcode=["já possui outro cupom não acumulativo"]}},removeCupom(e){this.$store.dispatch("removeDisconts",e),q("warning",`Cupom ${e.code} removido.`)},onFocuscode(){this.rules.validcode=[!0],this.clearCupom()},clearCupom(){this.cupom={id:0,with_client:"",code:"",description:"",value:0,all_products:0,acumulate:1,percent:1,quantity:0}},isPercent(e){return e?"%":"R$"},valueFormat(e){return e.toLocaleString("pt-br",{style:"currency",currency:"BRL"})},skuFormat(e){return""===e.sku||"undefined"===typeof e.sku?"PARA TODOS OS PRODUTOS":e.sku}}},pt=ht,ft=a(7032),_t=(0,Q.Z)(pt,ut,mt,!1,null,null,null),yt=_t.exports;ee()(_t,{VBtn:ne.Z,VDataTable:Ye.Z,VForm:Te.Z,VIcon:pe.Z,VSelect:ft.Z,VTextField:De.Z});var gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex flex-column align-center justify-center",attrs:{height:"100%"}},[a("v-data-table",{staticClass:"overflow-y-auto",staticStyle:{height:"29vh",width:"100%","padding-left":"3px","padding-right":"3px"},attrs:{headers:e.header,items:e.payments,"hide-default-footer":"","hide-default-header":"",id:"scroll-onPayment"},on:{"click:row":e.editPay},scopedSlots:e._u([{key:"item",fn:function(t){return[a("tr",[a("td",[a("v-icon",{attrs:{size:"15",color:"blue"},on:{click:function(a){return e.editPay(t.item)}}},[e._v("fa fa-pencil")])],1),a("td",[a("v-icon",[e._v(e._s(e.changeList(t.item.method_alias)))])],1),a("td",[e._v(e._s(t.item.method_alias))]),a("td",[e._v(e._s(e.valueFormat(t.item.method_value)))]),a("td",[a("v-icon",{attrs:{size:"15",color:"red"},on:{click:function(a){return e.removePay(t.item)}}},[e._v("fa fa-xmark")])],1)])]}}])}),a("v-divider"),a("v-form",{staticClass:"px-3 pb-7 d-flex flex-row",staticStyle:{width:"100%"},on:{submit:function(t){return t.preventDefault(),e.newPayment()}}},[a("v-select",{staticClass:"mr-3",staticStyle:{"max-width":"45%"},attrs:{label:"Forma de pagamento","hide-details":"auto","item-text":"method_alias","item-value":"method_alias",items:e.payment_method,color:"var(--primary)",id:"price",autofocus:"","prepend-icon":e.payIcon},on:{input:function(t){return e.changeIconSelect(e.onPayment.method_alias,!0)}},model:{value:e.onPayment.method_alias,callback:function(t){e.$set(e.onPayment,"method_alias",t)},expression:"onPayment.method_alias"}}),a("v-currency-field",{staticStyle:{"max-width":"40%",color:"var(--primary)"},attrs:{label:"valor",clearable:"",prefix:"R$",id:"price",color:"var(--primary)","prepend-icon":"fa fa-dollar-sign"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.newPayment(e.onPayment)}},model:{value:e.onPayment.method_value,callback:function(t){e.$set(e.onPayment,"method_value",t)},expression:"onPayment.method_value"}}),a("v-btn",{staticClass:"ml-6 mt-3",attrs:{type:"submit",color:"green",fab:"",small:""},on:{click:function(t){return e.newPayment(e.onPayment)}}},[a("v-icon",{attrs:{color:"white"}},[e._v("fa fa-plus")])],1)],1)],1)},bt=[],Ct={name:"PagamentoCard",computed:{payments(){return this.$store.state.cashierStore.payments},payment_method(){return this.$store.state.auth.cashier_session.payment_methods}},data:()=>({icons:[{method:"Dinheiro",icon:"fa-solid fa-money-bill"},{method:"Cartão De Credito a Vista",icon:"fa-solid fa-credit-card"},{method:"Cartão De Crédito Prazo",icon:"fa-solid fa-money-check"},{method:"Cartão De Débito",icon:"fa-solid fa-money-check-dollar"},{method:"Crédito Loja",icon:"fa-solid fa-building-columns"},{method:"Carteira Digital",icon:"fa-solid fa-wallet"},{method:"cashback",icon:"fa-solid fa-rotate-left"},{method:"Pix",icon:"fa-brands fa-pix"},{method:"Crédito Funcionário",icon:"fa-solid fa-user-tag"}],header:[{text:"",align:"start",sortable:!1,value:"method_icon"},{text:"forma pgto.",value:"method"},{text:"valor(R$)",value:"valor"}],rules:{value:[e=>(e||e<=0).length>0||"necessário informar o valor!!"],method:[e=>(e||"").length>0||"necessário informar o methodo!"]},menu:!1,onPayment:{method_id:"",method_description:"",method_alias:"",method_issue:0,method_date:"",method_value:0,method_icon:""},payIcon:"fa fa-ban",money:{decimal:",",thousands:".",prefix:"R$ ",precision:2,masked:!1}}),methods:{newPayment(e){if(e.method_value>=0&&e.method_value<=1e4){var t=e.method_value;let a=this.payment_method.findIndex((t=>t.method_alias===e.method_alias));-1!==a?(e=this.payment_method[a],e.method_value=t,e.method_date=(new Date).toLocaleDateString(),this.$store.dispatch("addPayment",e),q("success",`Pagamento ${e.method_alias} no valor de ${this.valueFormat(e.method_value)} adicionado`),this.onPayment={method_id:"",method_description:"",method_alias:"",method_issue:0,method_date:"",method_value:0,method_icon:""},this.menu=!1):console.log("methodo não encontrado")}else q("Pagamento inválido!"),this.onPayment={method_id:"",method_description:"",method_alias:"",method_issue:0,method_date:"",method_value:0,method_icon:""}},changeIconSelect(e){let t=this.icons.findIndex((t=>t.method===e.trim()));-1!==t?(this.onPayment.method_icon=this.icons[t].icon,this.payIcon=this.icons[t].icon):console.log("methodo não encontrado");let a=this.payments.findIndex((t=>t.method_alias===e));-1!==a?this.onPayment=Object.assign({},this.payments[a]):this.onPayment.method_value=0},changeList(e){let t=this.icons.findIndex((t=>t.method===e.trim()));var a="";return-1!==t?a=this.icons[t].icon:console.log("methodo não encontrado"),a},editPay(e){this.onPayment=e,this.menu=!0},removePay(e){this.$store.dispatch("removePayment",e)},valueFormat(e){return e.toLocaleString("pt-br",{style:"currency",currency:"BRL"})}},components:{}},wt=Ct,xt=(0,Q.Z)(wt,gt,bt,!1,null,null,null),kt=xt.exports;ee()(xt,{VBtn:ne.Z,VDataTable:Ye.Z,VDivider:ve.Z,VForm:Te.Z,VIcon:pe.Z,VSelect:ft.Z});var Vt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-list-item",[r("v-list-item-avatar",{attrs:{rouded:"",color:"var(--backgroundLight)"}},[r("v-img",{attrs:{src:a(8061)}})],1),r("v-list-item-content",[r("v-list-item-subtitle",[e._v("Cliente "),r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[e.checkCustomer()?r("v-icon",{attrs:{color:"red",size:"20",title:e.cashier.forceCustomer}},[e._v(" fa-solid fa-triangle-exclamation")]):e._e(),r("v-icon",e._g(e._b({attrs:{color:"var(--primary)",size:"20",title:"Adicionar um cliente"}},"v-icon",s,!1),a),[e._v(" mdi-pencil")])]}}]),model:{value:e.menuCustomer,callback:function(t){e.menuCustomer=t},expression:"menuCustomer"}},[r("v-card",[r("v-list",[r("v-list-item",[r("v-list-item-avatar",{attrs:{rouded:"",color:"var(--primary"}},[r("v-icon",{attrs:{color:"white"}},[e._v(" "+e._s(e.newCustomer?"fa fa-user-plus":"fa fa-user"))])],1),r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(e.newCustomer?"Cadastrar Cliente":"Incluir Cliente"))])],1)],1)],1),r("v-divider"),r("v-row",{staticClass:"pa-3"},[r("v-list",[r("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:e.customerCache.document.length<=14?"###.###.###-##":"##.###.###/####-##",expression:"customerCache.document.length <= 14 ? '###.###.###-##' : '##.###.###/####-##'"}],staticClass:"pa-2",attrs:{label:"Cpf/Cnpj","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",rules:e.rules.documentValidate,type:"text",counter:"18","prepend-icon":"fa fa-id-card",autofocus:""},on:{change:function(t){return e.documentValidate(!1)}},model:{value:e.customerCache.document,callback:function(t){e.$set(e.customerCache,"document",t)},expression:"customerCache.document"}}),e.newCustomer?r("div",[r("v-text-field",{staticClass:"pa-2",attrs:{label:"Nome","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",disabled:!e.newCustomer,"prepend-icon":"fa fa-user",autofocus:""},on:{focus:function(t){e.customerCache.name=""}},model:{value:e.customerCache.name,callback:function(t){e.$set(e.customerCache,"name",t)},expression:"customerCache.name"}}),r("v-text-field",{staticClass:"pa-2",attrs:{label:"Email","hide-details":"auto",disabled:!e.newCustomer,color:"var(--primary)",type:"email","prepend-icon":"fa fa-envelope"},model:{value:e.customerCache.email,callback:function(t){e.$set(e.customerCache,"email",t)},expression:"customerCache.email"}}),r("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:e.customerCache.phone.length>13?"(##)#-####-####":"(##)####-####",expression:"customerCache.phone.length > 13 ? '(##)#-####-####' : '(##)####-####'"}],staticClass:"pa-2",attrs:{label:"Telefone(opcional)","hide-details":"auto",color:"var(--primary)",type:"text","hide-spin-buttons":"",disabled:!e.newCustomer,"prepend-icon":"fa fa-phone"},model:{value:e.customerCache.phone,callback:function(t){e.$set(e.customerCache,"phone",t)},expression:"customerCache.phone"}})],1):e._e()],1),r("v-list",[e.newCustomer?r("div",[r("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"#####-###",expression:"'#####-###'"}],staticClass:"pa-2",attrs:{label:"Cep","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",rules:e.rules.cep,type:"text",counter:"9","prepend-icon":"fa fa-envelopes-bulk"},on:{change:function(t){return e.checkGetAdressByCep()}},model:{value:e.customerCache.postal_code,callback:function(t){e.$set(e.customerCache,"postal_code",t)},expression:"customerCache.postal_code"}}),r("v-text-field",{staticClass:"pa-2",attrs:{label:"Cidade","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",type:"text","prepend-icon":"fa fa-city"},model:{value:e.customerCache.city,callback:function(t){e.$set(e.customerCache,"city",t)},expression:"customerCache.city"}}),r("v-text-field",{staticClass:"pa-2",attrs:{label:"Uf","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",counter:"2",type:"text","prepend-icon":"fa fa-earth-americas"},model:{value:e.customerCache.uf,callback:function(t){e.$set(e.customerCache,"uf",t)},expression:"customerCache.uf"}}),r("v-text-field",{staticClass:"pa-2",attrs:{label:"Bairro","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",type:"text","prepend-icon":"fa fa-tree-city"},model:{value:e.customerCache.district,callback:function(t){e.$set(e.customerCache,"district",t)},expression:"customerCache.district"}}),r("v-text-field",{staticClass:"pa-2",attrs:{label:"Logradouro","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",type:"text","prepend-icon":"fa fa-road"},model:{value:e.customerCache.street,callback:function(t){e.$set(e.customerCache,"street",t)},expression:"customerCache.street"}}),r("v-text-field",{staticClass:"pa-2",attrs:{label:"Numero","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",type:"text",counter:"10","prepend-icon":"fa fa-hashtag"},model:{value:e.customerCache.number,callback:function(t){e.$set(e.customerCache,"number",t)},expression:"customerCache.number"}})],1):e._e()])],1),r("v-list",[e.newCustomer?r("div",[e.newCustomer&&"shopping"===e.store_type?r("v-switch",{staticClass:"pl-2 pr-2",attrs:{color:"var(--primary)",label:"Funcionário de loja parceira","append-icon":"fa-solid fa-store"},model:{value:e.customer_partioner,callback:function(t){e.customer_partioner=t},expression:"customer_partioner"}}):e._e(),e.customer_partioner?r("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"##.###.###/####-##",expression:"'##.###.###/####-##'"}],staticClass:"pa-2",attrs:{label:"Cnpj da loja deste funcionário","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",rules:e.rules.validarEmprParc,type:"text",counter:"18","prepend-icon":"fa fa-id-card"},on:{change:function(t){return e.documentValidate(!0)}},model:{value:e.customerCache.store_partiner_cnpj,callback:function(t){e.$set(e.customerCache,"store_partiner_cnpj",t)},expression:"customerCache.store_partiner_cnpj"}}):e._e(),e.customer_partioner?r("v-text-field",{staticClass:"pa-2",attrs:{label:"Nome da loja","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",disabled:!e.customer_partioner,"prepend-icon":"fa-solid fa-store"},model:{value:e.customerCache.store_partiner_name,callback:function(t){e.$set(e.customerCache,"store_partiner_name",t)},expression:"customerCache.store_partiner_name"}}):e._e()],1):e._e()]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{text:""},on:{click:function(t){e.menuCustomer=!1}}},[e._v("Cancelar")]),r("v-btn",{attrs:{color:"var(--primary)",text:""},on:{click:function(t){e.newCustomer?e.saveCustomer():e.addCustomer()}}},[e._v(e._s(e.newCustomer?"cadastrar":"salvar"))])],1)],1)],1),e.btnRemoveCustomer?r("v-btn",{attrs:{plain:"",small:"",icon:""},on:{click:function(t){return e.cleanCustomer()}}},[r("v-icon",{attrs:{right:"",color:"var(--primary)"}},[e._v("fa fa-xmark")])],1):e._e()],1),r("v-list-item-title",[e._v(e._s(e.sale_customer.name))]),"undefined"!==typeof e.sale_customer.store_partiner_name||""!==e.sale_customer.store_partiner_name?r("h6",[e._v(" "+e._s(e.sale_customer.store_partiner_name))]):e._e()],1)],1)},Zt=[];async function St(e){var t=new Headers;t.append("Authorization","Bearer "+u.Z.get("._token"));var a=JSON.stringify({document:e}),r={method:"PUT",headers:t,body:a,redirect:"follow"};const s=await fetch("http://143.110.228.113/ErpFashion/customer",r).then((e=>{if(!e.ok)throw new Error(`${e.status} - ${e.statusText}`);return e.json()})).then((e=>e)).catch((e=>{q("error",e.message)}));return s}async function It(e){var t=new Headers;t.append("Authorization","Bearer "+u.Z.get("._token"));var a=JSON.stringify({customer:e}),r={method:"POST",headers:t,body:a,redirect:"follow"};const s=await fetch("http://143.110.228.113/ErpFashion/customer",r).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((e=>e)).catch((e=>{throw new Error(e)}));return s}async function At(e){var t={method:"GET",redirect:"follow"},a=await fetch(`http://viacep.com.br/ws/${e}/json/`,t).then((e=>e.json())).catch(!1);return a}function Pt(e){var t=!0;if(""===e||"undefined"===typeof e)throw Error("documento inválido!");if(e=e.toString(),e=e.replace(/[^0-9]/g,""),11===e.length){if(!Et(e))throw Error("cpf Inválido!")}else{if(14!==e.length)throw Error("número inválido!");if(!$t(e))throw Error("cnpj Inválido!")}return t}function Et(e){if(!e||11!=e.length||"00000000000"==e||"11111111111"==e||"22222222222"==e||"33333333333"==e||"44444444444"==e||"55555555555"==e||"66666666666"==e||"77777777777"==e||"88888888888"==e||"99999999999"==e)return!1;for(var t=0,a=0,r=1;r<=9;r++)t+=parseInt(e.substring(r-1,r))*(11-r);if(a=10*t%11,10!=a&&11!=a||(a=0),a!=parseInt(e.substring(9,10)))return!1;for(t=0,r=1;r<=10;r++)t+=parseInt(e.substring(r-1,r))*(12-r);return a=10*t%11,10!=a&&11!=a||(a=0),a==parseInt(e.substring(10,11))}function $t(e){if(!e||14!=e.length||"00000000000000"==e||"11111111111111"==e||"22222222222222"==e||"33333333333333"==e||"44444444444444"==e||"55555555555555"==e||"66666666666666"==e||"77777777777777"==e||"88888888888888"==e||"99999999999999"==e)return!1;for(var t=e.length-2,a=e.substring(0,t),r=e.substring(t),s=0,o=t-7,i=t;i>=1;i--)s+=a.charAt(t-i)*o--,o<2&&(o=9);var n=s%11<2?0:11-s%11;if(n!=r.charAt(0))return!1;for(t+=1,a=e.substring(0,t),s=0,o=t-7,i=t;i>=1;i--)s+=a.charAt(t-i)*o--,o<2&&(o=9);return n=s%11<2?0:11-s%11,n==r.charAt(1)}var Tt={name:"ClienteVendedorCard",computed:{store_type(){return this.$store.state.auth.cashier_session.store.store_type},cashier(){return this.$store.state.cashierStore},sale_customer(){return this.$store.state.cashierStore.customer}},data:()=>({loading:!1,menuCustomer:!1,newCustomer:!1,customer_partioner:!1,btnRemoveCustomer:!1,customerCache:{name:"Cliente não identificado",document:"",email:"",city:"",uf:"",postal_code:"",phone:"",type:"",street:"",number:"",district:"",store_partiner_id:"",store_partiner_name:"",store_partiner_cnpj:""},rules:{documentValidate:[!0],validarEmprParc:[!0],email:[!0],cep:[!0]}}),methods:{checkCustomer(){return!!this.cashier.forceCustomer},async documentValidate(e){var t=e?this.customerCache.store_partiner_cnpj:this.customerCache.document;t=t.toString(),t=t.replace(/[^0-9]/g,"");try{Pt(t)&&await this.checkDocumentserver(t,e)}catch(a){e?this.rules.validarEmprParc=[a.message]:this.rules.documentValidate=[a.message]}},async checkGetAdressByCep(){this.rules.cep=[!0];var e=await At(this.customerCache.postal_code);"undefined"===typeof e.cep&&(this.rules.cep=["cep inválido!"]),this.customerCache.district=e.bairro,this.customerCache.city=e.localidade,this.customerCache.uf=e.uf,this.customerCache.street=e.logradouro,this.customerCache.number=""},async checkDocumentserver(e){try{if(""!==e||null!==e||"undefined"!==typeof e){this.loading=!0;var t=await St(e);t.data.data?this.customerCache=t.data.data:this.newCustomer=!0,this.loading=!1}}catch(a){q("error",a.message)}},async saveCustomer(){var e=Object.assign({},this.customerCache);e.document=e.document.toString(),e.document=e.document.replace(/[^0-9]/g,""),e.phone=e.phone.toString(),e.phone=e.phone.replace(/[^0-9]/g,""),e.store_partiner_cnpj=e.store_partiner_cnpj.toString(),e.store_partiner_cnpj=e.store_partiner_cnpj.replace(/[^0-9]/g,""),e.postal_code=e.postal_code.toString(),e.postal_code=e.postal_code.replace(/[^0-9]/g,""),""!==e.store_partiner_cnpj&&(e.store_partiner={name:e.store_partiner_name,cnpj:e.store_partiner_cnpj}),this.customerCache.type=this.customer_partioner?"funcionarioParceiro":"cliente",await It(e),this.addCustomer(),q("success","Cliente salvo.")},addCustomer(){var e=Object.assign({},this.customerCache);e.document=""===e.document?1:e.document,this.$store.dispatch("addCustomer",e),this.newCustomer=!1,this.btnRemoveCustomer=!0,this.menuCustomer=!1,q("info","Cliente informado.")},cleanCache(){this.customerCache={name:"Cliente não identificado",document:"",email:"",city:"",uf:"",postal_code:"",phone:"",type:"",street:"",number:"",district:"",store_partiner_id:"",store_partiner_name:"",store_partiner_cnpj:""},this.newCustomer=!1},cleanCustomer(){this.$store.dispatch("removeCustomer",this.customerCache),this.cleanCache(),this.newCustomer=!1,this.btnRemoveCustomer=!1,q("warning","Cliente removido.")}},async mounted(){this.cleanCache(),1!=this.sale_customer.document&&(this.btnRemoveCustomer=!0)}},Lt=Tt,Dt=a(6251),Ft=(0,Q.Z)(Lt,Vt,Zt,!1,null,null,null),Ot=Ft.exports;ee()(Ft,{VBtn:ne.Z,VCard:ce.Z,VCardActions:le.h7,VDivider:ve.Z,VIcon:pe.Z,VImg:fe.Z,VList:Le.Z,VListItem:_e.Z,VListItemAvatar:ye.Z,VListItemContent:ge.km,VListItemSubtitle:ge.oZ,VListItemTitle:ge.V9,VMenu:Je.Z,VRow:be.Z,VSpacer:Ce.Z,VSwitch:Dt.Z,VTextField:De.Z});var jt={name:"TabCaixaCard",computed:{qtdItens(){return this.$store.state.caixa.qtdItens}},data(){return{tabs:null,menuHover:[]}},mounted(){this._keyListener=function(e){"c"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.tabs=0),"d"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.tabs=1),"p"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.tabs=2),"k"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.tabs=3)},document.addEventListener("keydown",this._keyListener.bind(this))},beforeDestroy(){document.removeEventListener("keydown",this._keyListener)},components:{ItemCard:dt,DiscontCard:yt,PaymentCard:kt,CustomerCard:Ot}},Rt=jt,zt=a(5189),Bt=a(4227),Nt=a(4584),Mt=a(2032),qt=a(6480),Ht=(0,Q.Z)(Rt,at,rt,!1,null,null,null),Kt=Ht.exports;ee()(Ht,{VCard:ce.Z,VDivider:ve.Z,VHover:zt.Z,VIcon:pe.Z,VSlideXTransition:he.Qn,VSpacer:Ce.Z,VTab:Bt.Z,VTabItem:Nt.Z,VTabs:Mt.Z,VTabsItems:qt.Z});var Ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"800"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({attrs:{height:"100%",width:"52%",color:"green",dark:"",disabled:!e.sale.valid_sale}},"v-btn",s,!1),r),[a("v-row",{staticClass:"text-h5 pa-10"},[e._v(" Continuar "),a("v-spacer"),a("v-icon",{attrs:{size:"30"}},[e._v("fa-solid fa-arrow-right")])],1)],1)]}},{key:"default",fn:function(t){return[a("LoadComponent",{attrs:{overlay:e.loading}}),a("v-card",[a("v-toolbar",{staticClass:"text-h5 pa-0",attrs:{color:"var(--primary)",dark:""}},[e._v("Confirmar Venda")]),a("v-card-text",{staticClass:"pa-1",attrs:{dense:""}},[[a("v-row",{staticClass:"ma-4 justify-center"},[a("v-card",{attrs:{center:"",width:"25%"}},[a("v-card-text",[a("v-icon",{staticClass:"pa-0",attrs:{size:"45",color:"var(--primary)"}},[e._v("fa fa-boxes")])],1),a("v-card-text",[a("span",[e._v("PRODUTOS")])]),a("v-card-text",[a("h3",[e._v(e._s(e.valueFormat(e.sale.products_value)))])])],1),a("v-card",{attrs:{center:"",width:"25%"}},[a("v-card-text",[a("v-icon",{staticClass:"pa-0",attrs:{size:"45",color:"var(--primary)"}},[e._v("fa fa-equals")])],1),a("v-card-text",[a("span",[e._v(" TOTAL DA VENDA")])]),a("v-card-text",[a("h3",[e._v(e._s(e.valueFormat(e.sale.total_value)))])])],1),a("v-card",{attrs:{center:"",width:"25%"}},[a("v-card-text",[a("v-icon",{staticClass:"pa-0",attrs:{size:"45",color:"var(--primary)"}},[e._v("fa fa-money-bill")])],1),a("v-card-text",[a("span",[e._v("PAGAMENTOS")])]),a("v-card-text",[a("h3",[e._v(e._s(e.valueFormat(e.sale.payments_value)))])])],1),a("v-card",{attrs:{center:"",width:"25%"}},[a("v-card-text",[a("v-icon",{staticClass:"pa-0",attrs:{size:"45",color:"var(--primary)"}},[e._v("fa-solid fa-money-bill-transfer")])],1),a("v-card-text",[a("span",[e._v("TROCO")])]),a("v-card-text",[a("h3",[e._v(e._s(e.valueFormat(e.sale.change_value)))])])],1)],1)],[a("v-expansion-panels",{staticClass:"pa-4"},[a("v-expansion-panel",[a("v-expansion-panel-header",[a("span",[e._v("Informção da Venda")])]),a("v-expansion-panel-content",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("span",[e._v("Loja: "),a("b",[e._v(e._s(e.session.store.store_name))])])]),a("v-col",{attrs:{cols:"6"}},[a("span",[e._v("Operador de caixa: "),a("b",[e._v(e._s(e.session.user_name))])])])],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("span",[e._v("Número: "),a("b",[e._v(e._s(e.session.number))])])]),a("v-col",{attrs:{cols:"6"}},[a("span",[e._v("Caixa: "),a("b",[e._v(e._s(e.session.cashier_name))])])])],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("span",[e._v("Cliente: "),a("b",[e._v(e._s(e.sale.customer.name))])])]),a("v-col",{attrs:{cols:"6"}},[a("span",[e._v("Vendedor:"),a("b",[e._v(e._s(e.sale.salesman.name))])])])],1)],1)],1),a("v-expansion-panel",[a("v-expansion-panel-header",[a("span",[e._v("Items da Venda")])]),a("v-expansion-panel-content",e._l(e.sale.items,(function(t){return a("tr",{key:t.id},[a("td",{staticClass:"pa-3"},[a("span",[a("b",[e._v(e._s(t.sku))]),a("br"),e._v(e._s(t.description))])]),a("td",{staticClass:"pa-3"},[a("span",[a("b",[e._v(e._s(t.quantity)+"und ")]),a("br"),e._v(e._s(e.valueFormat(t.value)))])]),a("td",{staticClass:"pa-3"},[a("h4",[a("b",[e._v(e._s(e.valueFormat(t.total)))])])])])})),0)],1),a("v-expansion-panel",[a("v-expansion-panel-header",[a("span",[e._v("Pagamentos da Venda")])]),a("v-expansion-panel-content",e._l(e.sale.payments,(function(t){return a("tr",{key:t.method_id},[a("td",{staticClass:"pa-3"},[a("span",[a("b",[e._v(e._s(t.method_alias))])])]),a("td",{staticClass:"pa-3"},[a("h4",[a("b",[e._v(e._s(e.valueFormat(t.method_value)))])])])])})),0)],1),a("v-expansion-panel",[a("v-expansion-panel-header",[a("span",[e._v("Descontos da Venda")])]),a("v-expansion-panel-content",e._l(e.sale.disconts,(function(t){return a("tr",{key:t.id},[a("td",{staticClass:"pa-3"},[a("span",[a("b",[e._v(e._s(t.code))])])]),a("td",{staticClass:"pa-3"},[a("span",[a("b",[e._v(e._s(t.description))])])]),a("td",{staticClass:"pa-3"},[a("h4",[a("b",[e._v(e._s(t.percent?t.value+" %":e.valueFormat(t.value)))])])])])})),0)],1)],1)]],2),a("v-card-actions",{staticClass:"justify-end"},[a("v-btn",{attrs:{dark:""},on:{click:function(e){t.value=!1}}},[e._v("Fechar "),a("v-icon",{attrs:{right:"",dark:""}},[e._v(" fa-xmark ")])],1),a("v-btn",{attrs:{color:"green",dark:""},on:{click:e.createSale}},[e._v("Finalizar "),a("v-icon",{attrs:{right:"",dark:""}},[e._v(" fa-check ")])],1)],1)],1)]}}]),model:{value:e.active,callback:function(t){e.active=t},expression:"active"}})},Jt=[];async function Xt(e){var t=new Headers;t.append("Authorization","Bearer "+u.Z.get("._token"));var a=JSON.stringify({sale:e}),r={method:"POST",headers:t,body:a,redirect:"follow"};const s=await fetch("http://143.110.228.113/ErpFashion/sale",r).then((e=>{if(!e.ok)throw new Error(`${e.status} - ${e.statusText}`);return e.json()})).then((e=>e)).catch((e=>{q("error",e.message)}));return s}async function Wt(e){var t=new Headers;t.append("Authorization","Bearer "+u.Z.get("._token"));var a=JSON.stringify({getObj:e}),r={method:"PUT",headers:t,body:a,redirect:"follow"};const s=await fetch("http://143.110.228.113/ErpFashion/sale",r).then((e=>{if(!e.ok)throw new Error(`${e.status} - ${e.statusText}`);return e.json()})).then((e=>e)).catch((e=>{q("error",e.message)}));return s}async function Gt(e){var t=new Headers;t.append("Authorization","Bearer "+u.Z.get("._token"));var a={method:"GET",headers:t,redirect:"follow"};const r=await fetch(`http://143.110.228.113/ErpFashion/sale/${e}`,a).then((e=>{if(!e.ok)throw new Error(`${e.status} - ${e.statusText}`);return e.json()})).then((e=>e)).catch((e=>{q("error",e.message)}));return r}async function Qt(e,t,a){try{e.store={store_id:a.store.store_id,store_name:a.store.store_name,store_abbreviation:a.store.store_abbreviation},e.cashier={cashier_id:a.cashier_id,cashier_name:a.cashier_name},e.employee_cashier={user_id:a.user_id,user_name:a.user_name},e.status={status_id:8,status_description:"Enviando",status_icon:"fa fa-rotate",status_color:"green"},e.payment_method=e.payments.lengh>1?6:e.payments[0].method_id,e.sale_date=""==e.sale_date?(0,E.Z)(new Date,"yyyy-MM-dd HH:mm:ss"):e.sale_date,e.number=""==e.number?ea(e,t,a):e.number;var r=await Xt(e);return r.data.error?(e.status="Erro",e.sys_obs=r.data.data):(e.id=r.data.data.id,e.nfce=r.data.data.nfce,e.status="Finalizada"),e}catch(s){return e.status.description="Erro",e.sys_obs=s,console.log("ERRO AO CRIAR VENDA",s),e}}function Yt(e,t){let a=t.findIndex((t=>t.number===e));return-1===a}function ea(e,t,a){var r=ta(e,a,!1),s=Yt(r,t);while(!s){r=ta(e,a,r),s=Yt(r,t);break}return r}function ta(e,t,a=!1){if(!a){var r=(0,E.Z)(new Date,"yyyyMMddkkmm");return r+=t.store.store_id,r+=t.cashier_id,r+=t.user_id,r+=e.payment_method,r+=100*e.total_value.toFixed(),r=r+"-"+t.store.store_abbreviation,r}return a=a.toString(),a=a.replace(/[^0-9]/g,""),a=parseInt(a),a+=1,a=a+"-"+t.store.store_abbreviation,a}var aa={name:"FinishSaleBt",computed:{sale(){return this.$store.state.cashierStore},session(){return this.$store.state.auth.cashier_session},sales(){return this.$store.state.salesStore.sales}},data:()=>({number:"",loading:!1,active:!1}),methods:{valueFormat(e){return e.toLocaleString("pt-br",{style:"currency",currency:"BRL"})},async createSale(){this.loading=!0;var e=Object.assign({},this.sale),t=Object.assign({},this.session),a=await Qt(e,this.sales,t);await this.dispatchSale(a),this.active=!1,this.loading=!1,q("success","Venda registrada")},async dispatchSale(e){await this.$store.dispatch("newSale",e),await this.$store.dispatch("cleanSale")}},components:{LoadComponent:se}},ra=aa,sa=a(4497),oa=a(6845),ia=a(2443),na=a(1192),ca=a(5630),la=a(6656),da=(0,Q.Z)(ra,Ut,Jt,!1,null,null,null),ua=da.exports;ee()(da,{VBtn:ne.Z,VCard:ce.Z,VCardActions:le.h7,VCardText:le.ZB,VCol:me.Z,VDialog:sa.Z,VExpansionPanel:oa.Z,VExpansionPanelContent:ia.Z,VExpansionPanelHeader:na.Z,VExpansionPanels:ca.Z,VIcon:pe.Z,VRow:be.Z,VSpacer:Ce.Z,VToolbar:la.Z});var ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{"no-gutters":"",dense:""}},[a("v-col",{attrs:{cols:"12","align-self":"center"}},[a("v-card",{attrs:{id:"totalizadorCard"}},[a("v-card-title",[a("v-list-item-avatar",{attrs:{rouded:"",color:"var(--primary"}},[a("v-icon",{attrs:{color:"white"}},[e._v(" fa fa-equals")])],1),e._v(" Total da Venda ")],1),a("div",{staticClass:"pl-2 pr-2"},[a("v-row",{attrs:{"no-gutters":"",dense:""}},[a("v-icon",{staticClass:"pa-1",attrs:{size:"15",color:"var(--primary)"}},[e._v("fa fa-boxes")]),e._v(" Total produtos "),a("v-spacer"),e._v(e._s(e.valueFormat(e.sale.products_value)))],1),a("v-row",{attrs:{"no-gutters":"",dense:""}},[a("v-icon",{staticClass:"pa-1",attrs:{size:"15",color:"var(--primary)"}},[e._v("fa fa-ticket")]),e._v(" Total descontos "),a("v-spacer"),e._v("-"+e._s(e.valueFormat(e.sale.discont_value)))],1),a("v-divider"),a("v-row",{attrs:{"no-gutters":"",dense:""}},[a("v-icon",{staticClass:"pa-1",attrs:{size:"15",color:"var(--primary)"}},[e._v("fa fa-equals")]),a("b",[e._v("Total da venda")]),a("v-spacer"),a("b",[e._v(e._s(e.valueFormat(e.sale.total_value)))])],1),a("v-row",{attrs:{"no-gutters":"",dense:""}},[a("v-icon",{staticClass:"pa-1",attrs:{size:"15",color:"var(--primary)"}},[e._v("fa fa-money-bill")]),e._v(" Total pago "),a("v-spacer"),e._v(e._s(e.valueFormat(e.sale.payments_value)))],1),a("v-divider"),e.sale.change_value<0?a("v-row",{staticClass:"text-h4 red--text d-flex flex-row-reverse",attrs:{"no-gutters":"",color:"red",dark:"",dense:""}},[a("v-icon",{staticClass:"pa-1 ml-3",attrs:{size:"35",color:"red"}},[e._v("fa-solid fa-down-long")]),a("b",{staticClass:"pl-6"},[e._v(e._s(e.valueFormat(e.sale.change_value)))]),e._v(" à pagar ")],1):a("v-row",{staticClass:"text-h4 green--text d-flex flex-row-reverse",attrs:{"no-gutters":"",color:"green",dark:"",dense:""}},[a("v-icon",{staticClass:"pa-1 ml-3",attrs:{size:"35",color:"green"}},[e._v("fa-solid fa-up-long")]),a("b",{staticClass:"pl-6"},[e._v(e._s(e.valueFormat(e.sale.change_value)))]),e._v(" troco ")],1)],1)],1)],1)],1)},va=[],ha={name:"TotalCard",computed:{sale(){return this.$store.state.cashierStore}},data:()=>({colorPayment:"#d94343"}),methods:{valueFormat(e){return e.toLocaleString("pt-br",{style:"currency",currency:"BRL"})}}},pa=ha,fa=(0,Q.Z)(pa,ma,va,!1,null,null,null),_a=fa.exports;ee()(fa,{VCard:ce.Z,VCardTitle:le.EB,VCol:me.Z,VDivider:ve.Z,VIcon:pe.Z,VListItemAvatar:ye.Z,VRow:be.Z,VSpacer:Ce.Z});var ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({attrs:{height:"100%",width:"15%",color:"grey",dark:"",title:"adicionar uma observação"},on:{click:e.aditObs}},"v-btn",s,!1),r),[a("v-icon",{attrs:{color:"white",size:"35"}},[e._v(" fa fa-list")])],1)]}}]),model:{value:e.menuObs,callback:function(t){e.menuObs=t},expression:"menuObs"}},[a("v-card",[a("v-list",[a("v-list-item",[a("v-list-item-avatar",{attrs:{rouded:"",color:"var(--primary"}},[a("v-icon",{attrs:{color:"white"}},[e._v(" fa fa-list")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Observação da sale")])],1)],1)],1),a("v-divider"),a("v-list",[a("v-textarea",{staticClass:"pa-2",attrs:{autofocus:"",label:"Observação","hide-details":"auto",couter:"200",color:"var(--primary)",counter:"200","prepend-icon":"fa fa-list"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveObs()}},model:{value:e.observacao,callback:function(t){e.observacao=t},expression:"observacao"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.menuObs=!1}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"var(--primary)",text:""},on:{click:function(t){return e.saveObs()}}},[e._v("salvar")])],1)],1)],1)},ga=[],ba={name:"ObsCard",computed:{sale(){return this.$store.state.cashierStore}},data:()=>({menuObs:!1,observacao:""}),methods:{aditObs(){this.observacao=this.sale.obs},saveObs(){this.observacao.length<=200?(this.$store.dispatch("addObs",this.observacao),this.menuObs=!1,this.observacao="",q("info","Comentário adicionado.")):q("error","O comentário possui mais de 200 caracteres.")}}},Ca=ba,wa=(0,Q.Z)(Ca,ya,ga,!1,null,null,null),xa=wa.exports;ee()(wa,{VBtn:ne.Z,VCard:ce.Z,VCardActions:le.h7,VDivider:ve.Z,VIcon:pe.Z,VList:Le.Z,VListItem:_e.Z,VListItemAvatar:ye.Z,VListItemContent:ge.km,VListItemTitle:ge.V9,VMenu:Je.Z,VSpacer:Ce.Z,VTextarea:we.Z});var ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({attrs:{height:"100%",width:"15%",color:"grey",dark:"",title:"troca produto"}},"v-btn",s,!1),r),[a("v-icon",{attrs:{color:"white",size:"35"}},[e._v(" fa fa-boxes-packing")])],1)]}}]),model:{value:e.changeMenu,callback:function(t){e.changeMenu=t},expression:"changeMenu"}},[a("v-card",[a("v-list",[a("v-list-item",[a("v-list-item-avatar",{attrs:{rouded:"",color:"var(--primary"}},[a("v-icon",{attrs:{color:"white"}},[e._v(" fa fa-boxes-packing")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Troca de produto")])],1)],1)],1),a("v-divider"),a("v-list",[a("v-switch",{directives:[{name:"show",rawName:"v-show",value:e.is_manager,expression:"is_manager"}],staticClass:"pa-2",attrs:{label:"troca SEM sku do produto",color:"var(--primary)"},on:{click:function(t){return e.cleanSku()}},model:{value:e.changeBySku,callback:function(t){e.changeBySku=t},expression:"changeBySku"}}),a("v-text-field",{staticClass:"pa-2",attrs:{label:"SKU do produto","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",type:"number",counter:"13",disabled:e.changeBySku,rules:!0!==e.changeBySku?e.rules.SKU:[!0],"prepend-icon":"fa fa-box",autofocus:""},on:{change:function(t){return e.changeProductsBySku()}},model:{value:e.productChange.sku,callback:function(t){e.$set(e.productChange,"sku",t)},expression:"productChange.sku"}}),a("v-text-field",{staticClass:"pa-2",attrs:{label:"Quantidade","hide-details":"auto",type:"number",color:"var(--primary)","prepend-icon":"fa fa-boxes"},model:{value:e.productChange.quantity,callback:function(t){e.$set(e.productChange,"quantity",t)},expression:"productChange.quantity"}}),a("v-currency-field",{staticClass:"pr-2",attrs:{label:"valor",clearable:"",id:"price",prefix:"R$",color:"var(--primary)","prepend-icon":"fa fa-dollar-sign",disabled:!e.changeBySku},model:{value:e.productChange.value,callback:function(t){e.$set(e.productChange,"value",t)},expression:"productChange.value"}}),a("v-select",{staticClass:"pa-2",attrs:{items:e.justifyChange,rules:e.rules.motivo,color:"var(--primary)",label:"Motivo da troca",required:"","prepend-icon":"fa fa-question"},model:{value:e.productChange.description,callback:function(t){e.$set(e.productChange,"description",t)},expression:"productChange.description"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.changeMenu=!1}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"var(--primary)",text:""},on:{click:function(t){return e.newChange()}}},[e._v("salvar")])],1)],1)],1)},Va=[],Za={name:"ChangeCard",computed:{is_manager(){return this.$store.state.auth.cashier_session.is_manager},sale(){return this.$store.state.cashierStore},products(){return this.$store.state.productStore.products}},data:()=>({changeMenu:!1,changeBySku:!1,productChange:{with_client:"",code:"#TROC",description:"Cupom de troca do SKU: ",value:0,all_products:0,acumulate:0,percent:0,quantity:1,sku:""},justifyChange:["danificado","fora da validade","desistência do cliente"],rules:{validCodigo:[!0],validSKU:[!0],motivo:[e=>(e||"").length>0||"motivo obrigatório!"],value:[e=>(e||0).length>0||"necessário informar o valor do produto!"],quantidade:[e=>(e||0).length>0||"quantidade obrigatoria!"],SKU:[e=>(e||"").length>0||"necessário informar sku do produto!"]}}),methods:{changeProductsBySku(){let e=this.sale.items.findIndex((e=>e.sku===this.productChange.sku));if(-1!==e){var t=this.sale.items[e].total/this.sale.items[e].quantity;this.productChange.value=t,this.productChange.description="troca referente ao SKU: "+this.sale.items[e].sku,q("success","Desconto de troca adicionado ao carrinho.")}else q("error","SKU não encontrado no carrinho."),this.rules.SKU=["sku não encontrado no carrinho."]},cleanSku(){this.productChange.sku=this.changeBySku?"":this.productChange.sku},newChange(){if(this.productChange.value>0&&this.productChange.value<=1e4){this.productChange.value=this.productChange.quantity*this.productChange.value,this.productChange.description=""===this.productChange.sku?"Cupom de troca ao produto não identificado. motivo:"+this.productChange.description:this.productChange.description;var e=Object.assign({},this.productChange);this.$store.dispatch("addDisconts",e),this.productChange={with_client:"",code:"#TROC",description:"Cupom de troca do SKU: ",value:0,all_products:0,acumulate:0,percent:0,quantity:1,sku:""},q("success","Desconto de troca adicionado ao carrinho."),this.changeMenu=!1,this.changeBySku=!1}else q("error","valor de troca inválida")}}},Sa=Za,Ia=(0,Q.Z)(Sa,ka,Va,!1,null,null,null),Aa=Ia.exports;ee()(Ia,{VBtn:ne.Z,VCard:ce.Z,VCardActions:le.h7,VDivider:ve.Z,VIcon:pe.Z,VList:Le.Z,VListItem:_e.Z,VListItemAvatar:ye.Z,VListItemContent:ge.km,VListItemTitle:ge.V9,VMenu:Je.Z,VSelect:ft.Z,VSpacer:Ce.Z,VSwitch:Dt.Z,VTextField:De.Z});var Pa={name:"caixaPage",computed:{sale(){return this.$store.state.cashierStore}},methods:{onCancelOrder(){this.$store.dispatch("cleanSale"),q("warning","Sua venda foi limpada.")}},components:{ProductCard:tt,TabCashierSubmenu:Kt,TotalCard:_a,DetailSaleCard:ua,ObsCard:xa,ChangeCard:Aa}},Ea=Pa,$a=(0,Q.Z)(Ea,je,Re,!1,null,null,null),Ta=$a.exports;ee()($a,{VBtn:ne.Z,VCol:me.Z,VIcon:pe.Z,VListItem:_e.Z,VListItemAvatar:ye.Z,VListItemContent:ge.km,VRow:be.Z,VSpacer:Ce.Z});var La=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"basePage"},[a("v-row",{attrs:{"no-gutters":"",dense:""}},[a("v-col",{attrs:{cols:"cols-10","align-self":"center"}},[a("v-list-item",[a("v-list-item-avatar",{attrs:{rouded:"",color:"var(--primary"}},[a("v-icon",{attrs:{color:"white"}},[e._v(" mdi-cart-check")])],1),a("v-list-item-content",[a("h1",{staticClass:"white--text"},[e._v("FECHAMENTOS DE CAIXA")])])],1)],1),a("v-col",[a("v-row",{staticClass:"d-flex flex-row-reverse pr-5 pt-3"},[a("NewClosureForm"),a("NewWithdrawalForm")],1)],1)],1),a("div",{staticStyle:{height:"100%"},attrs:{id:"exemplo"}},[a("ClosureList")],1)],1)},Da=[],Fa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"1000"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"ma-3 pa-3",attrs:{color:"green",dark:"",rounded:"",fab:"",title:"Realizar novo fechamento de caixa"}},"v-btn",s,!1),r),[a("v-icon",{attrs:{size:"35"}},[e._v("fa-solid fa-check")])],1)]}}]),model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[[a("LoadComponent",{attrs:{overlay:e.loading}}),a("v-stepper",{attrs:{vertical:""},model:{value:e.e6,callback:function(t){e.e6=t},expression:"e6"}},[a("v-list-item-subtitle",{staticClass:"text-h4 d-flex justify-center align-center pa-4"},[a("v-icon",{staticClass:"pr-5",attrs:{size:"40",color:"var(--primary)",title:"Fechamento não verificado"}},[e._v(" mdi-cart-check")]),a("b",[e._v("Novo Fechamento")])],1),a("v-divider",{staticClass:"mr-3 ml-3"}),e._l(e.payments,(function(t,r){return a("div",{key:r},[a("v-stepper-step",{staticClass:"d-flex justify-center",attrs:{complete:e.e6>r,step:r,color:"var(--primary)"},on:{click:function(t){e.e6=r}}},[a("h4",[e._v(e._s(t.method_alias)),a("h4",{staticClass:"text-right"},[e._v(" "+e._s(e.valueFormat(e.closure_cache[t.method_alias])))])])]),a("v-stepper-content",{attrs:{step:r}},[a("v-card",{staticClass:"mb-12 d-flex justify-center flex-column",attrs:{color:"var(--backgroundLight)",height:"150px"}},[a("v-list-item-subtitle",{staticClass:"text-h4 d-flex justify-center align-center"},[a("v-icon",{staticClass:"ma-3",attrs:{size:"40",color:"var(--primary)"}},[e._v(" "+e._s(e.getPaymentIcon(t.method_alias)))]),e._v(" "+e._s(t.method_alias)+" ")],1),a("v-currency-field",{staticClass:"pr-2 pl-4",attrs:{label:"valor",autofocus:"",clearable:"",prefix:"R$",color:"var(--primary)","prepend-icon":"fa fa-dollar-sign",rule:"value"},nativeOn:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.stepCalculate()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.stepCalculate()}]},model:{value:e.closure_cache[t.method_alias],callback:function(a){e.$set(e.closure_cache,t.method_alias,a)},expression:"closure_cache[method.method_alias]"}})],1),a("v-btn",{attrs:{color:"var(--primary)",dark:""},on:{click:function(a){return e.stepCalculate(t,e.e6,r)}}},[e._v("Próximo")]),a("v-btn",{attrs:{text:""}},[e._v("Cancel")])],1)],1)})),a("v-text-field",{staticClass:"pa-2",attrs:{autofocus:e.e6==e.steps,label:"observação:","hide-details":"auto",color:"var(--primary)","prepend-icon":"fa fa-note-sticky"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.stepCalculate()}},model:{value:e.closure_cache["obs"],callback:function(t){e.$set(e.closure_cache,"obs",t)},expression:"closure_cache['obs']"}}),e.finished?a("div",{staticClass:"d-flex flex-row-reverse pr-5"},[a("v-btn",{attrs:{color:"green",dark:""},on:{click:function(t){return e.createClosure()}}},[e._v("Finalizar"),a("v-icon",{staticClass:"pl-5",attrs:{size:"25"}},[e._v("fa-solid fa-check")])],1),a("v-btn",{attrs:{text:""},on:{click:function(t){e.active=!e.active}}},[e._v("Cancel")])],1):e._e()],2)]],2)},Oa=[];async function ja(){var e=new Headers;e.append("Authorization","Bearer "+u.Z.get("._token"));var t={method:"GET",headers:e,redirect:"follow"};const a=await fetch("http://143.110.228.113/ErpFashion/closure",t).then((e=>{if(!e.ok)throw new Error(`${e.status} - ${e.statusText}`);return e.json()})).then((e=>e.data)).catch((e=>{q("error",e.message)}));return a}async function Ra(e){var t=new Headers;t.append("Authorization","Bearer "+u.Z.get("._token"));var a=JSON.stringify(e),r={method:"POST",headers:t,body:a,redirect:"follow"};const s=await fetch("http://143.110.228.113/ErpFashion/closure",r).then((e=>{if(!e.ok)throw new Error(`${e.status} - ${e.statusText}`);return e.json()})).then((e=>e.data.data)).catch((e=>{q("error",e.message)}));return s}var za={name:"NewClosureForm",computed:{methods_computed(){return this.$store.state.auth.cashier_session.payment_methods},cashier_session(){return this.$store.state.auth.cashier_session}},data:()=>({number:"",loading:!1,active:!1,finished:!1,closure_cache:[],payments:[],e6:0,steps:0,rules:{value:[e=>(e||e<=0).length>0||"necessário informar o valor!!"]},icons:[{method:"Dinheiro",icon:"fa-solid fa-money-bill"},{method:"Cartão De Credito a Vista",icon:"fa-solid fa-credit-card"},{method:"Cartão De Crédito Prazo",icon:"fa-solid fa-money-check"},{method:"Cartão De Débito",icon:"fa-solid fa-money-check-dollar"},{method:"Crédito Loja",icon:"fa-solid fa-building-columns"},{method:"Carteira Digital",icon:"fa-solid fa-wallet"},{method:"cashback",icon:"fa-solid fa-rotate-left"},{method:"Pix",icon:"fa-brands fa-pix"},{method:"Crédito Funcionário",icon:"fa-solid fa-user-tag"}]}),methods:{valueFormat(e){if("number"===typeof e)return e.toLocaleString("pt-br",{style:"currency",currency:"BRL"})},getPaymentIcon(e){let t=this.icons.findIndex((t=>t.method===e.trim()));return-1!==t?this.icons[t].icon:"fa fa-triangle-exclamation"},stepCalculate(){this.e6++,this.e6===this.steps&&(this.finished=!0),this.e6>this.steps&&this.createClosure()},getPaymentByAlias(e){let t=this.payments.findIndex((t=>t.method_alias===e));return-1!==t&&this.payments[t]},async createClosure(){this.loading=!0;var e="undefined"===typeof this.closure_cache["obs"]?"":this.closure_cache["obs"],t={closure_type:!1,ref_date:(0,E.Z)(new Date,"yyyy-MM-dd"),cashier:this.cashier_session.cashier_id,store:this.cashier_session.store.store_id,obs:e};delete this.closure_cache["obs"];var a=[];for(const r in this.closure_cache)a.push({payment_method:this.getPaymentByAlias(r).method_id,value:this.closure_cache[r],quantity:0});t.closure_payment_method=a,await Ra(t),this.active=!1,this.loading=!1},findRemovePayment(e){let t=this.payments.findIndex((t=>t.method_id===e));-1!==t&&this.payments.splice(t,1)}},beforeMount(){this.loading=!0;var e=[7,5];this.payments=Object.assign(this.methods_computed),e.forEach((e=>{this.findRemovePayment(e)})),this.e6=0,this.closure_cache=[],this.steps=this.payments.length,this.loading=!1},components:{LoadComponent:se}},Ba=za,Na=a(3446),Ma=a(8937),qa=a(8975),Ha=(0,Q.Z)(Ba,Fa,Oa,!1,null,null,null),Ka=Ha.exports;ee()(Ha,{VBtn:ne.Z,VCard:ce.Z,VDialog:sa.Z,VDivider:ve.Z,VIcon:pe.Z,VListItemSubtitle:ge.oZ,VStepper:Na.Z,VStepperContent:Ma.Z,VStepperStep:qa.Z,VTextField:De.Z});var Ua=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"800"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"ma-3 pa-3",attrs:{color:"red",dark:"",fab:"",title:"salvar uma nova sangria"}},"v-btn",s,!1),r),[a("v-icon",{attrs:{size:"35"}},[e._v("fa-solid fa-money-bill-transfer")])],1)]}}]),model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[[a("v-card",[a("v-list-item-subtitle",{staticClass:"text-h4 d-flex justify-center align-center pa-4"},[a("v-icon",{staticClass:"pr-5",attrs:{size:"40",color:"var(--primary)",title:"Fechamento não verificado"}},[e._v(" fa-solid fa-money-bill-transfer")]),a("b",[e._v("Nova Sangria de Caixa")])],1),a("v-divider",{staticClass:"mr-3 ml-3"}),a("div",{staticClass:"pa-6"},[a("v-select",{staticClass:"pa-2",attrs:{label:"Motivo da sangria",autofocus:"","hide-details":"auto","item-text":"name","item-value":"id",color:"var(--primary)",items:e.accounts,hint:e.hint,"prepend-icon":"fa fa-table-list",rules:e.rules.account,"persistent-hint":""},on:{change:function(t){return e.changeAccount()}},model:{value:e.account,callback:function(t){e.account=t},expression:"account"}}),a("v-currency-field",{staticClass:"pr-2 pl-1",attrs:{label:"valor",clearable:"",prefix:"R$",id:"price",color:"var(--primary)","text-color":"var(--primary)","prepend-icon":"fa fa-dollar-sign"},model:{value:e.withdrawal_cache["value"],callback:function(t){e.$set(e.withdrawal_cache,"value",t)},expression:"withdrawal_cache['value']"}}),a("v-text-field",{staticClass:"pa-2",attrs:{label:"Observação","hide-details":"auto",color:"var(--primary)","prepend-icon":"fa fa-note-sticky"},model:{value:e.withdrawal_cache["obs"],callback:function(t){e.$set(e.withdrawal_cache,"obs",t)},expression:"withdrawal_cache['obs']"}})],1),a("div",{staticClass:"d-flex flex-row-reverse pa-5"},[a("v-btn",{attrs:{color:"green",dark:""},on:{click:function(t){return e.createWithdrawal()}}},[e._v("Finalizar"),a("v-icon",{staticClass:"pl-5",attrs:{size:"25"}},[e._v("fa-solid fa-check")])],1),a("v-btn",{attrs:{text:""},on:{click:function(t){e.active=!e.active}}},[e._v("Cancel")])],1)],1)]],2)},Ja=[];async function Xa(){var e=new Headers;e.append("Authorization","Bearer "+u.Z.get("._token"));var t={method:"GET",headers:e,redirect:"follow"};const a=await fetch("http://143.110.228.113/ErpFashion/withdrawal/accounts",t).then((e=>{if(!e.ok)throw new Error(`${e.status} - ${e.statusText}`);return e.json()})).then((e=>e.data.data)).catch((e=>{q("error",e.message)}));return a}async function Wa(e){var t=new Headers;t.append("Authorization","Bearer "+u.Z.get("._token"));var a=JSON.stringify(e),r={method:"POST",headers:t,body:a,redirect:"follow"};const s=await fetch("http://143.110.228.113/ErpFashion/withdrawal",r).then((e=>{if(!e.ok)throw new Error(`${e.status} - ${e.statusText}`);return e.json()})).then((e=>e.data.data)).catch((e=>{q("error",e.message)}));return s}async function Ga(e){var t=new Headers;t.append("Authorization","Bearer "+u.Z.get("._token"));var a={method:"DELETE",headers:t,redirect:"follow"};const r=await fetch(`http://143.110.228.113/ErpFashion/withdrawal/${e}`,a).then((e=>{if(!e.ok)throw new Error(`${e.status} - ${e.statusText}`);return e.json()})).then((e=>e.data.data)).catch((e=>{q("error",e.message)}));return r}var Qa={name:"NewWithdrawalForm",computed:{methods(){return this.$store.state.auth.cashier_session.payment_methods},cashier_session(){return this.$store.state.auth.cashier_session}},data:()=>({number:"",loading:!1,active:!1,accounts:[],hint:"",account:[],withdrawal_cache:[],rules:{value:[e=>(e||e<=0||"undefined"===typeof e).length>0||"necessário informar o valor!!"],account:[e=>(e||e<=0).length>0||"necessário informar a conta!"]},icons:[{method:"Dinheiro",icon:"fa-solid fa-money-bill"},{method:"Cartão De Credito a Vista",icon:"fa-solid fa-credit-card"},{method:"Cartão De Crédito Prazo",icon:"fa-solid fa-money-check"},{method:"Cartão De Débito",icon:"fa-solid fa-money-check-dollar"},{method:"Crédito Loja",icon:"fa-solid fa-building-columns"},{method:"Carteira Digital",icon:"fa-solid fa-wallet"},{method:"cashback",icon:"fa-solid fa-rotate-left"},{method:"Pix",icon:"fa-brands fa-pix"},{method:"Crédito Funcionário",icon:"fa-solid fa-user-tag"}]}),methods:{validLabel(){console.log(this.withdrawal_cache["value"])},valueFormat(e=!1){if("number"===typeof e)return e.toLocaleString("pt-br",{style:"currency",currency:"BRL"})},changeAccount(){let e=this.accounts.findIndex((e=>e.id===this.account));return-1!==e&&(this.withdrawal_cache["account"]=this.accounts[e],this.hint=`${this.withdrawal_cache["account"]["number"]} - ${this.withdrawal_cache["account"]["name"]} -> ${this.withdrawal_cache["account"]["description"]}`),"fa fa-triangle-exclamation"},getMethodId(e){let t=this.methods.findIndex((t=>t.method_alias===e));if(-1!==t)return this.methods[t].method_id},createWithdrawal(){var e={id:"",ref_date:(0,E.Z)(new Date,"yyyy-MM-dd"),value:this.withdrawal_cache.value,obs:"undefined"===typeof this.withdrawal_cache.obs?"":this.withdrawal_cache.obs,cashier:this.cashier_session.cashier_id,store:this.cashier_session.store.store_id,payment_method:this.getMethodId("Dinheiro"),withdrawal_account:this.withdrawal_cache["account"]["id"],user:this.cashier_session.user_id};Wa(e),this.withdrawal_cache=[],this.active=!1}},async beforeMount(){this.loading=!0,this.accounts=await Xa(),this.loading=!1}},Ya=Qa,er=(0,Q.Z)(Ya,Ua,Ja,!1,null,null,null),tr=er.exports;ee()(er,{VBtn:ne.Z,VCard:ce.Z,VDialog:sa.Z,VDivider:ve.Z,VIcon:pe.Z,VListItemSubtitle:ge.oZ,VSelect:ft.Z,VTextField:De.Z});var ar=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{staticClass:"pt-5",attrs:{"no-gutters":"",dense:""}},[a("LoadComponent",{attrs:{overlay:e.loading}}),a("v-sheet",{staticClass:"mx-auto",staticStyle:{background:"none"},attrs:{height:"100%",width:"100%","min-width":"100%",dark:""}},[a("v-slide-group",{attrs:{"center-active":"","show-arrows":""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.closures,(function(t,r){return a("v-slide-item",{key:r,attrs:{color:"white"},scopedSlots:e._u([{key:"default",fn:function(s){var o=s.toggle;return[a("v-card",{staticClass:"ma-1",attrs:{height:"650",width:"400","min-height":"650",light:""},on:{click:o}},[a("div",{staticStyle:{width:"100%",background:"var(--primary)"}},[a("v-list-item-content",{staticClass:"mb-2"},[a("v-list-item-title",{staticClass:"text-h5 white--text d-flex justify-center align-center"},[a("v-btn",{staticClass:"mr-3",attrs:{color:"white",fab:"",small:"",elevation:"0"}},[a("v-icon",{attrs:{size:"30",color:"var(--primary)"}},[e._v("fa-regular fa-calendar-days")])],1),e._v(" "+e._s(e.convertDate(r))+" "),t.verify?a("v-btn",{staticClass:"ml-3",attrs:{color:"white",fab:"",small:"","x-small":"",elevation:"0"}},[a("v-icon",{attrs:{size:"25",color:"green",title:"Fechamento Verificado"}},[e._v(" fa fa-check")])],1):a("v-btn",{staticClass:"ml-3",attrs:{color:"white",fab:"",small:"","x-small":"",elevation:"0"}},[a("v-icon",{attrs:{size:"25",color:"red",title:"Fechamento não verificado"}},[e._v(" fa fa-ban")])],1)],1)],1),a("v-tabs",{staticClass:"d-flex justify-center",attrs:{"background-color":"var(--primary)",color:"white"},model:{value:e.tab[r],callback:function(t){e.$set(e.tab,r,t)},expression:"tab[day]"}},[a("v-tab",[e._v("Total")]),a("v-tab",[e._v("Por Caixa")]),a("v-tab",[e._v("Sangrias")])],1)],1),a("v-tabs-items",{attrs:{height:"100%",width:"100%"},model:{value:e.tab[r],callback:function(t){e.$set(e.tab,r,t)},expression:"tab[day]"}},[a("v-tab-item",[a("v-divider"),a("div",{staticClass:"d-flex flex-row align-center px-2 "},[a("v-list-item-title",[e._v("Forma Pgto.")]),a("v-list-item-title",{staticClass:"text-center"},[e._v("Informado")]),t.verify?a("v-list-item-title",{staticClass:"text-right"},[e._v("Calculado")]):e._e()],1),a("v-divider"),a("v-list",{staticClass:"transparent overflow-y-auto px-2"},e._l(t.totals,(function(r,s){return a("div",{key:s,staticClass:"d-flex flex-row align-center",attrs:{title:s}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(e.getPaymentIcon(s)))])],1),a("v-list-item-title",[e._v(e._s(s))]),a("v-list-item-title",{staticClass:"text-center "},[a("b",[e._v(e._s(e.valueFormat(r.reported)))])]),t.verify?a("v-list-item-title",{staticClass:"text-right "},[a("b",[e._v(e._s(e.valueFormat(r.calculated)))])]):e._e()],1)})),0)],1),a("v-tab-item",[a("v-carousel",{attrs:{"show-arrows-on-hover":"","hide-delimiter-background":"","hide-delimiters":""},scopedSlots:e._u([{key:"prev",fn:function(t){var r=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({attrs:{color:"var(--primary)",fab:"",small:"",title:"caixa anterior"}},"v-btn",s,!1),r),[a("v-icon",[e._v("fa-solid fa-chevron-left")])],1)]}},{key:"next",fn:function(t){var r=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({attrs:{color:"var(--primary)",fab:"",small:"",title:"proximo caixa"}},"v-btn",s,!1),r),[a("v-icon",[e._v("fa-solid fa-chevron-right")])],1)]}}],null,!0)},e._l(t.closures,(function(t,r){return a("v-carousel-item",{key:r},[a("v-list-item",{staticClass:" d-flex justify:center align-center"},[a("v-list-item-subtitle",{staticClass:"text-h5 d-flex justify-center align-center "},[a("div",{staticClass:" d-flex justify:center align-center "},[e._v(" "+e._s(t.cashier_name)+" "),t.verify?a("v-icon",{staticClass:"ml-3",attrs:{size:"15",color:"green",title:"Fechamento Verificado"}},[e._v(" fa fa-check")]):a("v-icon",{staticClass:"ml-1",attrs:{size:"15",color:"red",title:"Fechamento não verificado"}},[e._v(" fa fa-ban")])],1)])],1),a("br"),a("h6",{staticClass:"d-flex flex-row-reverse pr-2"},[e._v("por: "+e._s(t.user_name))]),a("v-list",{staticClass:"transparent overflow-y-auto mg-0 pa-0"},[a("div",{staticClass:"d-flex flex-row align-center px-2"},[a("v-list-item-title",[e._v("Forma Pgto.")]),a("v-list-item-title",{staticClass:"text-center"},[e._v("Informado")]),t.verify?a("v-list-item-title",{staticClass:"text-right"},[e._v("Calculado")]):e._e()],1),a("v-divider"),e._l(t.closure_payment_method,(function(r,s){return a("div",{key:s,staticClass:"d-flex flex-row align-center px-2",attrs:{title:r.payment_alias}},[a("v-list-item-icon",[a("v-icon",{attrs:{title:"Forma de Pagamento "+r.payment_alias}},[e._v(e._s(e.getPaymentIcon(r.payment_alias)))])],1),a("v-list-item-title",[e._v(e._s(r.payment_alias))]),a("v-list-item-subtitle",{staticClass:"text-center"},[a("b",[e._v(e._s(e.valueFormat(r.reported_value)))])]),t.verify?a("v-list-item-subtitle",{staticClass:"text-right"},[e._v(e._s(e.valueFormat(r.calculated_value)))]):e._e()],1)})),a("v-divider"),t.obs?a("h6",{staticClass:"d-flex justify-left align-center"},[a("v-icon",{staticClass:"ma-3",attrs:{size:"20",color:"var(--primary)",title:"Fechamento não verificado"}},[e._v(" fa fa-note-sticky")]),e._v(" Observação:"),a("br"),e._v(e._s(e.obsListener(t.obs))+" ")],1):e._e()],2)],1)})),1)],1),a("v-tab-item",[a("v-list",{staticClass:" overflow-y-auto mg-0 pa-0 "},[a("div",{staticClass:"d-flex flex-row align-center px-2"},[a("v-list-item-title",{staticClass:"text-left"},[e._v("Conta")]),a("v-list-item-title",{staticClass:"text-right"},[e._v("Valor")])],1),a("v-divider"),e._l(t.withdrawal,(function(t,r){return a("div",{key:r,staticClass:"d-flex flex-row align-center px-2",attrs:{title:t.withdrawal_account.withdrawal_description}},[a("v-list-item-icon",[a("v-icon",{attrs:{color:"red",title:"apagar sangria"},on:{click:function(a){return e.removeWithdrawal(t)}}},[e._v("fa-solid fa-xmark")])],1),a("v-list-item-icon",[a("v-icon",[e._v("fa fa-receipt")])],1),a("v-list-item-title",[e._v(e._s(t.withdrawal_account.withdrawal_number)),a("br"),e._v(e._s(t.withdrawal_account.withdrawal_name))]),a("v-list-item-subtitle",{staticClass:"text-right"},[a("b",[e._v(e._s(e.valueFormat(t.value)))])])],1)}))],2)],1)],1),a("v-row",{staticClass:"fill-height",attrs:{align:"center",justify:"center"}})],1)]}}],null,!0)})})),1)],1)],1)},rr=[],sr={name:"ClosureList",computed:{is_manager(){return this.$store.state.auth.cashier_session.is_manager}},data(){return{loading:!1,closures:[],tab:[],refDate:null,check_cashier:!1,error:!1,obs:"",model:null,icons:[{method:"Dinheiro",icon:"fa-solid fa-money-bill"},{method:"Cartão De Credito a Vista",icon:"fa-solid fa-credit-card"},{method:"Cartão De Crédito Prazo",icon:"fa-solid fa-money-check"},{method:"Cartão De Débito",icon:"fa-solid fa-money-check-dollar"},{method:"Crédito Loja",icon:"fa-solid fa-building-columns"},{method:"Carteira Digital",icon:"fa-solid fa-wallet"},{method:"cashback",icon:"fa-solid fa-rotate-left"},{method:"Pix",icon:"fa-brands fa-pix"},{method:"Crédito Funcionário",icon:"fa-solid fa-user-tag"}]}},methods:{async updateClosure(){this.loading=!0;var e=await ja();"string"===typeof e?q("error",e):this.closures=e.data,this.loading=!1},setDate(e){this.refDate=e},getStore(e){return e.closures[0].store},getCashier(e){return e.closures[0].cashier},obsListener(e){return e},convertDate(e){return e+=" 12:00",(0,E.Z)(new Date(e),"dd/MM/yyyy")},valueFormat(e){if("number"===typeof e)return e.toLocaleString("pt-br",{style:"currency",currency:"BRL"})},removeWithdrawal(e){let t=this.closures[e.ref_date].withdrawal.findIndex((t=>t.id===e.id));if(-1!==t){var a=Ga(e.id);if(a)return this.closures[e.ref_date].withdrawal.splice(t,1)}else console.log("methodo não encontrado");console.log(this.closures[e.ref_date].withdrawal,e)},getPaymentIcon(e){let t=this.icons.findIndex((t=>t.method===e.trim()));if(-1!==t)return this.icons[t].icon;console.log("methodo não encontrado")},focus(){console.log(this.updateClosure())}},async beforeMount(){await this.updateClosure()},components:{LoadComponent:se}},or=sr,ir=a(459),nr=a(3385),cr=a(7955),lr=a(4820),dr=(0,Q.Z)(or,ar,rr,!1,null,null,null),ur=dr.exports;ee()(dr,{VBtn:ne.Z,VCard:ce.Z,VCarousel:de.Z,VCarouselItem:ue.Z,VDivider:ve.Z,VIcon:pe.Z,VList:Le.Z,VListItem:_e.Z,VListItemContent:ge.km,VListItemIcon:ir.Z,VListItemSubtitle:ge.oZ,VListItemTitle:ge.V9,VRow:be.Z,VSheet:nr.Z,VSlideGroup:cr.ZP,VSlideItem:lr.Z,VTab:Bt.Z,VTabItem:Nt.Z,VTabs:Mt.Z,VTabsItems:qt.Z});var mr={name:"ClosurePage",components:{NewClosureForm:Ka,NewWithdrawalForm:tr,ClosureList:ur}},vr=mr,hr=(0,Q.Z)(vr,La,Da,!1,null,null,null),pr=hr.exports;ee()(hr,{VCol:me.Z,VIcon:pe.Z,VListItem:_e.Z,VListItemAvatar:ye.Z,VListItemContent:ge.km,VRow:be.Z});var fr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"basePage"},[a("v-row",{staticStyle:{"max-height":"20%"},attrs:{"no-gutters":"",dense:""}},[a("v-col",{attrs:{cols:"auto","align-self":"center"}},[a("v-list-item",[a("v-list-item-avatar",{attrs:{rouded:"",color:"var(--primary"}},[a("v-icon",{attrs:{color:"white"}},[e._v(" fa fa-cart-arrow-down")])],1),a("v-list-item-content",[a("h1",{staticClass:"white--text"},[e._v("Vendas")])])],1)],1)],1),a("SalesCard")],1)},_r=[],yr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",[a("v-card-title",[a("v-list-item-avatar",{attrs:{rouded:"",color:"var(--primary"}},[a("v-icon",{attrs:{color:"white"}},[e._v(" fa fa-search")])],1),e._v(" Procurar Venda "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"procurar...","single-line":"",dense:"",autofocus:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-card-text",[a("LoadComponent",{attrs:{overlay:e.loading}}),e.to_sync_sales?a("v-data-table",{staticClass:"overflow-y-auto pb-0 mb-0",staticStyle:{height:"30vh","padding-left":"3px","padding-right":"3px"},attrs:{items:e.to_sync_sales,search:e.search,headers:e.header,"fixed-header":"","calculate-widths":"",dense:"","no-data-text":"Não há registros de venda","no-results-text":"resultado não encontrado",sortBy:"sale_date",sortDesc:!0,"hide-default-footer":"","items-per-page":-1},on:{"click:row":function(t){return e.detailSale()}},scopedSlots:e._u([{key:"item",fn:function(t){return[a("tr",[a("td",[a("v-btn",{staticClass:"ma-1",attrs:{elevation:"3",icon:"",color:"red",outlined:"",title:"Cancelar venda"}},[a("v-icon",{attrs:{size:"20"}},[e._v("fa fa-xmark ")])],1),a("v-btn",{staticClass:"ma-1",attrs:{elevation:"3",icon:"",color:"green",outlined:"",title:"imprimir Nfc-e"},on:{click:function(a){return e.openInvoice(t.item)}}},[a("v-icon",{attrs:{size:"20"}},[e._v("fa fa-receipt ")])],1),"Erro"===t.item.status?a("v-btn",{staticClass:"ma-1",attrs:{elevation:"3",icon:"",color:"blue",outlined:"",title:"Re-sincronizar"},on:{click:function(a){return e.reSendSale(t.item)}}},[a("v-icon",{attrs:{size:"20"}},[e._v("fa fa-rotate")])],1):e._e(),"Erro"===t.item.status?a("v-btn",{staticClass:"ma-1",attrs:{elevation:"3",icon:"",color:"red",outlined:"",title:"Informar bug na venda"}},[a("v-icon",{attrs:{size:"20"}},[e._v("fa-solid fa-bug")])],1):e._e()],1),a("td",[e._v("id:"+e._s(t.item.id)),a("br"),a("b",[e._v(e._s(t.item.number))])]),a("td",[e._v(e._s(e.dateFormat(t.item.sale_date)))]),a("td",[e._v(e._s(t.item.cashier.cashier_name))]),a("td",[e._v(e._s(t.item.employee_cashier.user_name))]),a("td",[e._v(e._s(t.item.salesman.name))]),a("td",[e._v(e._s(t.item.customer.name))]),a("td",[a("v-chip",{staticClass:"ma-1",attrs:{title:e.formatPaymentMethod(t.item)?t.item.payment_method:"Forma de pagamento não disponível na data atual",color:"var(--primary)",outlined:""}},[e._v(" "+e._s(e.formatPaymentMethod(t.item)?e.formatPaymentMethod(t.item):"????????"))])],1),a("td",[e._v(e._s(e.valueFormat(t.item.discont_value)))]),a("td",[e._v(e._s(e.valueFormat(t.item.total_value)))]),a("td",{staticClass:"justify-center"},[a("v-btn",{staticClass:"ma-1",attrs:{elevation:"2",icon:"",title:e.setTitle(t.item),color:t.item.status.status_color,outlined:""}},[a("v-icon",{attrs:{size:"20"}},[e._v(" "+e._s(t.item.status.status_icon))])],1)],1)])]}}],null,!1,1468375529)}):e._e(),a("v-data-table",{staticClass:"overflow-y-auto",staticStyle:{"padding-left":"3px","padding-right":"3px"},style:{height:e.to_sync_sales?"50vh":"80vh"},attrs:{items:e.sales,search:e.search,headers:e.header,"fixed-header":"","calculate-widths":"",dense:"",sortBy:"sale_date",sortDesc:!0,"hide-default-footer":"","items-per-page":-1},on:{"click:row":function(t){return e.detailSale()}},scopedSlots:e._u([{key:"item",fn:function(t){return[a("tr",[a("td",[a("v-btn",{staticClass:"ma-1",attrs:{elevation:"3",icon:"",color:"red",outlined:"",title:"Cancelar venda"}},[a("v-icon",{attrs:{size:"20"}},[e._v("fa fa-xmark ")])],1),a("v-btn",{staticClass:"ma-1",attrs:{elevation:"3",icon:"",color:"green",outlined:"",title:"imprimir Nfc-e"},on:{click:function(a){return e.openInvoice(t.item)}}},[a("v-icon",{attrs:{size:"20"}},[e._v("fa fa-receipt ")])],1),"Erro"===t.item.status?a("v-btn",{staticClass:"ma-1",attrs:{elevation:"3",icon:"",color:"blue",outlined:"",title:"Re-sincronizar"},on:{click:function(a){return e.reSendSale(t.item)}}},[a("v-icon",{attrs:{size:"20"}},[e._v("fa fa-rotate")])],1):e._e(),"Erro"===t.item.status?a("v-btn",{staticClass:"ma-1",attrs:{elevation:"3",icon:"",color:"red",outlined:"",title:"Informar bug na venda"}},[a("v-icon",{attrs:{size:"20"}},[e._v("fa-solid fa-bug")])],1):e._e()],1),a("td",[e._v("id:"+e._s(t.item.id)),a("br"),a("b",[e._v(e._s(t.item.number))])]),a("td",[e._v(e._s(e.dateFormat(t.item.sale_date)))]),a("td",[e._v(e._s(t.item.cashier.cashier_name))]),a("td",[e._v(e._s(t.item.employee_cashier.user_name))]),a("td",[e._v(e._s(t.item.salesman.name))]),a("td",[e._v(e._s(t.item.customer.name))]),a("td",[a("v-chip",{attrs:{title:e.formatPaymentMethod(t.item)?t.item.payment_method:"Forma de pagamento não disponível na data atual",color:"var(--primary)",outlined:""}},[e._v(" "+e._s(e.formatPaymentMethod(t.item)?e.formatPaymentMethod(t.item):"????????"))])],1),a("td",[e._v(e._s(e.valueFormat(t.item.discont_value)))]),a("td",[e._v(e._s(e.valueFormat(t.item.total_value)))]),a("td",{staticClass:"justify-center"},[a("v-btn",{attrs:{elevation:"2",icon:"",title:e.setTitle(t.item),color:t.item.status.status_color,outlined:""}},[a("v-icon",{attrs:{size:"20"}},[e._v(e._s(t.item.status.status_icon))])],1)],1)])]}}])})],1)],1)],1)},gr=[],br={name:"SalesCard",computed:{sales(){return this.$store.state.salesStore.sales},to_sync_sales(){return this.$store.state.salesStore.to_sync_sales.length>0&&this.$store.state.salesStore.to_sync_sales},updated_at(){return this.$store.state.salesStore.updated_at},methods(){return this.$store.state.auth.cashier_session.payment_methods},session(){return this.$store.state.auth.cashier_session}},data:()=>({search:"",detailMenu:!1,loading:!1,header:[{text:"Ações",align:"center",value:""},{text:"Numero",align:"center",sortable:!0,value:"number"},{text:"Data",align:"center",value:"sale_date"},{text:"Caixa",align:"center",value:"cashier"},{text:"Funcionário do caixa",align:"center",value:"employee_cashier"},{text:"Vendedor",align:"center",value:"name"},{text:"Cliente",align:"center",value:"customer"},{text:"Forma pagamento",align:"center",value:"payment_method"},{text:"Desconto",align:"center",value:"discont_value"},{text:"Total",align:"center",value:"total_value"},{text:"Status",align:"center",value:"status"}]}),methods:{valueFormat(e){return e.toLocaleString("pt-br",{style:"currency",currency:"BRL"})},dateFormat(e){return e=new Date(e),(0,E.Z)(e,"dd/MM/yyyy HH:mm:ss")},formatPaymentMethod(e){var t=new Date(e.sale_date),a=(0,E.Z)(new Date,"dd/MM/yyyy");return t=(0,E.Z)(t,"dd/MM/yyyy"),t!==a&&this.getMethodAlias(e.payment_method)},getMethodAlias(e){let t=this.methods.findIndex((t=>t.method_id===e));return-1!==t?this.methods[t].method_alias:"Metodo não incontrado"},verifyStatus(e){return"Erro"===e.status?e.status:""!==e.id||(e.id,1)?"Finalizada":"A enviar"},setTitle(e){return e.sys_obs?e.sys_obs:e.status.status_description},detailSale(){this.detailMenu=!0},async openInvoice(e){if(this.loading=!0,""===e.invoice_coupon||null===e.invoice_coupon||"undefined"===typeof e.invoice_coupon){var t=await Gt(e.id);console.log("no NFCE nfce",t.data.data),window.open(t.data.data.invoice_coupon,"_blank"),await this.updateSales()}else console.log("with nfce",e.invoice_coupon),window.open(e.invoice_coupon,"_blank");this.loading=!1},async reSendSale(e){var t=Object.assign({},this.session),a=await Qt(e,this.sales,t);"Erro"===a.status&&"Negada"===a.status||(await this.dispatchSale(a),await this.updateSales())},async updateSales(){this.loading=!0;var e=await Wt();await this.$store.dispatch("salesMerge",e.data.data),this.loading=!1},async dispatchSale(e){await this.$store.dispatch("newSale",e),await this.$store.dispatch("cleanSale")}},async beforeMount(){await this.updateSales()},components:{LoadComponent:se}},Cr=br,wr=a(5424),xr=(0,Q.Z)(Cr,yr,gr,!1,null,null,null),kr=xr.exports;ee()(xr,{VBtn:ne.Z,VCard:ce.Z,VCardText:le.ZB,VCardTitle:le.EB,VChip:wr.Z,VDataTable:Ye.Z,VIcon:pe.Z,VListItemAvatar:ye.Z,VSpacer:Ce.Z,VTextField:De.Z});var Vr={name:"HistorySalePage",components:{SalesCard:kr}},Zr=Vr,Sr=(0,Q.Z)(Zr,fr,_r,!1,null,null,null),Ir=Sr.exports;ee()(Sr,{VCol:me.Z,VIcon:pe.Z,VListItem:_e.Z,VListItemAvatar:ye.Z,VListItemContent:ge.km,VRow:be.Z});var Ar=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"basePage"},[e._v(" ESTA PÁGINA AINDA NÃO FOI IMPLEMENTADA ")])},Pr=[],Er={name:"ProductPick",components:{}},$r=Er,Tr=(0,Q.Z)($r,Ar,Pr,!1,null,null,null),Lr=Tr.exports,Dr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" ESTA PÁGINA AINDA NÂO FOI IMPLEMENTADA ")])},Fr=[],Or={},jr=Or,Rr=(0,Q.Z)(jr,Dr,Fr,!1,null,null,null),zr=Rr.exports,Br=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-overlay",[a("v-progress-circular",{staticClass:"d-flex justify-center align-center",attrs:{size:"64"}},[a("v-icon",{attrs:{size:"50"}},[e._v("fa-regular fa-face-sad-cry")])],1),a("h1",[e._v("ERRO 404")]),a("h2",[e._v(" PÁGINA NÃO ENCONTRADA... ")]),a("v-btn",{attrs:{to:"/"}},[e._v(" voltar para o inicio")])],1)},Nr=[],Mr={name:"NotFound"},qr=Mr,Hr=(0,Q.Z)(qr,Br,Nr,!1,null,null,null),Kr=Hr.exports;ee()(Hr,{VBtn:ne.Z,VIcon:pe.Z,VOverlay:te.Z,VProgressCircular:ae.Z});var Ur=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"background d-flex justify-center align-center"},[r("LoadComponent",{attrs:{overlay:e.loading}}),r("v-card",{staticClass:"pa-4 text-center ",attrs:{width:"30%",elevation:"24"}},[r("v-avatar",{attrs:{size:"90"}},[r("v-img",{attrs:{src:a(5426)}})],1),r("h2",[e._v("Definir Loja / Caixa")]),r("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.setStart()}}},[r("v-text-field",{attrs:{rules:e.rules.store,disabled:"",type:"text",label:e.startValue.store.store_name+" - "+e.startValue.store.store_abbreviation,"prepend-inner-icon":"mdi-store"},model:{value:e.startValue.store.store_name,callback:function(t){e.$set(e.startValue.store,"store_name",t)},expression:"startValue.store.store_name"}}),r("v-select",{attrs:{items:e.startValue.store.store_cashiers,rules:e.rules.cashier,"item-text":"cashier_name","item-value":"cashier_id",type:"combobox",label:"selecione o caixa","prepend-inner-icon":"fas fa-cash-register"},on:{change:e.verifyCashier},model:{value:e.cashier_selected.cashier_id,callback:function(t){e.$set(e.cashier_selected,"cashier_id",t)},expression:"cashier_selected.cashier_id"}}),r("v-card-actions",{staticClass:"justify-end mt-5"},[r("v-btn",{staticClass:" mr-2",attrs:{color:"var(--primary)",text:"",to:"/login"}},[r("span",{staticClass:"pl-3 "},[e._v(" voltar ")])]),r("v-btn",{staticClass:" mr-2",attrs:{type:"submit",color:"var(--primary)"}},[r("v-icon",{attrs:{color:"white"}},[e._v("fa-solid fa-house")]),r("span",{staticClass:"white--text pl-3 "},[e._v(" Inicio ")])],1)],1),r("v-dialog",{attrs:{"max-width":"350"},on:{"click:outside":e.noKickUser},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"text-h5"},[e._v(" Caixa já com um usuário ")]),r("v-card-text",[e._v(" O usuário "),r("b",[e._v(e._s(e.cashier_selected.user_authenticated?e.cashier_selected.user_authenticated.user_name:""))]),e._v(" está logado neste caixa, deseja remove-lo e conectar a este caixa ? ")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.noKickUser}},[e._v(" Não derrubar ")]),r("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Derrubar ")])],1)],1)],1)],1)],1)],1)},Jr=[],Xr={name:"LoginPage",computed:{},data:()=>({loading:!1,dialog:!1,alert:{type:"",message:""},startValue:{store:{store_id:1,store_name:"SEM RESULTADO DE LOJA",store_abbreviation:"",store_group_id:"",store_group_name:"",store_group_theme:null,store_cashiers:[{cashier_id:"",cashier_name:"Selecione um caixa",cashier_store:""}]}},cashier_selected:{cashier_id:"",cashier_name:"Selecione um caixa",cashier_store:"",user_authenticated:{user_id:"",user_name:""}},rules:{store:[e=>!!e||"a loja é obrigatória!"],cashier:[e=>!!e||"o cashier é obrigatório!"]}}),async beforeMount(){try{this.startValue=await Ie(),this.cashier_selected=[]}catch(e){alert(e)}},methods:{verifyCashier(){if(this.$refs.form.validate())try{let t=this.startValue.store.store_cashiers.findIndex((e=>e.cashier_id===this.cashier_selected.cashier_id));if(-1===t)throw new Error("store cashier not found");var e=this.startValue.store.store_cashiers[t];e.user_authenticated&&e.user_authenticated.user_id!==this.startValue.user_id?(this.cashier_selected=Object.assign({},e),this.dialog=!0):this.cashier_selected=Object.assign({},e)}catch(t){alert(t)}},noKickUser(){this.dialog=!1,this.cashier_selected=[]},async setStart(){this.$refs.form.validate()?""!==this.cashier_selected.cashier_id&&(this.loading=!0,await Ae(this.cashier_selected.cashier_id),this.startValue.cashier_id=this.cashier_selected.cashier_id,this.startValue.cashier_name=this.cashier_selected.cashier_name,this.$store.dispatch("start",this.startValue),cs.push("/"),this.loading=!1):(this.rules.cashier=[!0],this.rules.cashier=["informe um caixa desta loja!"])}},components:{LoadComponent:se}},Wr=Xr,Gr=(0,Q.Z)(Wr,Ur,Jr,!1,null,null,null),Qr=Gr.exports;ee()(Gr,{VAvatar:$e.Z,VBtn:ne.Z,VCard:ce.Z,VCardActions:le.h7,VCardText:le.ZB,VCardTitle:le.EB,VDialog:sa.Z,VForm:Te.Z,VIcon:pe.Z,VImg:fe.Z,VSelect:ft.Z,VSpacer:Ce.Z,VTextField:De.Z});var Yr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center"},[a("v-overlay",[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}},[a("v-icon",{attrs:{size:"50"}},[e._v("fa-regular fa-face-sad-cry")])],1),a("h2",[e._v(" Seção inativa, Redirecionando... ")])],1)],1)},es=[],ts={name:"SessionExpiredPage",mounted(){setTimeout((()=>{cs.push("/login")}),1e3)}},as=ts,rs=(0,Q.Z)(as,Yr,es,!1,null,null,null),ss=rs.exports;ee()(rs,{VIcon:pe.Z,VOverlay:te.Z,VProgressCircular:ae.Z});var os={auth(e,t,a){const r=u.Z.get("._token"),s=u.Z.get("expires");var o=Math.round((new Date).getTime()/1e3);(!r||s<=o)&&a("/expired"),a()}};r.Z.use(c.Z);const is=[{path:"/login",name:"login",component:Oe},{path:"/start",name:"start",component:Qr,beforeEnter:os.auth},{path:"/",name:"news",component:ke,beforeEnter:os.auth},{path:"/caixa",name:"caixa",component:Ta,beforeEnter:os.auth},{path:"/fechamentoCaixa",name:"fechamento",component:pr,beforeEnter:os.auth},{path:"/historico",name:"historico",component:Ir,beforeEnter:os.auth},{path:"/product_count",name:"contar_produto",component:zr,beforeEnter:os.auth},{path:"/solicitar_produto",name:"solicitar_produto",component:Lr,beforeEnter:os.auth},{path:"/expired",name:"SessionExpiredPage",component:ss},{path:"*",name:"NotFound",component:Kr}],ns=new c.Z({mode:"history",base:"/pdv/",routes:is});var cs=ns,ls={name:"SideMenu",props:{},setup(){},computed:{user(){return this.$store.state.auth.cashier_session}},data:()=>({selectedItem:0,drawer:!0,mini:!0,closeMenu:!1,time:0,userImg:"../../assets/defaultUser.jpg",items_manager:[{icon:"fas fa-newspaper",title:"Novidades",link:"/"},{icon:"fas fa-cart-plus",title:"Caixa",link:"caixa"},{icon:"fas fa-history",title:"Histórico",link:"historico"},{icon:"mdi-cart-check",title:"Fechamento",link:"fechamentoCaixa"},{icon:"fa fa-scale-balanced",title:"Balanço",link:"product_count"},{icon:"fa fa-boxes-packing",title:"Solicitar produtos",link:"solicitar_produto"}],items:[{icon:"fas fa-newspaper",title:"Novidades",link:"/"},{icon:"fas fa-cart-plus",title:"Caixa",link:"caixa"},{icon:"fas fa-history",title:"Histórico",link:"historico"},{icon:"mdi-cart-check",title:"Fechamento",link:"fechamentoCaixa"}]}),methods:{menuSet(){return 1!==this.user.is_manager?(this.items=this.items.slice(3,2),console.log("ITEMS",this.items),this.items):this.items},logoff(){this.$store.dispatch("logout"),cs.push("/login")}}},ds=ls,us=a(7429),ms=(0,Q.Z)(ds,i,n,!1,null,null,null),vs=ms.exports;ee()(ms,{VDivider:ve.Z,VIcon:pe.Z,VImg:fe.Z,VList:Le.Z,VListItem:_e.Z,VListItemAvatar:ye.Z,VListItemContent:ge.km,VListItemIcon:ir.Z,VListItemSubtitle:ge.oZ,VListItemTitle:ge.V9,VNavigationDrawer:us.Z});var hs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{id:"alert"}},[a("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.alert.active,expression:"alert.active"}],attrs:{dense:"",type:e.alert.type,transition:"scale-transition"},on:{click:function(t){return e.removeAlert()}}},[e._v(e._s(e.alert.message))])],1)},ps=[],fs={name:"App",computed:{alert(){return this.$store.state.errorHandle.alert}},methods:{removeAlert(){this.$store.dispatch("AlertRemove")}}},_s=fs,ys=a(1234),gs=(0,Q.Z)(_s,hs,ps,!1,null,null,null),bs=gs.exports;ee()(gs,{VAlert:ys.Z,VContainer:ct.Z});var Cs={name:"App",computed:{},components:{SideMenu:vs,AlertComponent:bs},data:()=>({sidemenu:!0}),methods:{noIsLoginPage(){return"login"!==this.$route.name&&"start"!==this.$route.name&&"NotFound"!==this.$route.name&&"expired"!==this.$route.name}}},ws=Cs,xs=a(7524),ks=a(7877),Vs=(0,Q.Z)(ws,s,o,!1,null,null,null),Zs=Vs.exports;ee()(Vs,{VApp:xs.Z,VMain:ks.Z});var Ss=a(9132);r.Z.use(Ss.Z);var Is=new Ss.Z({icons:{iconfont:"fa"},theme:{themes:{dark:{background:"#301228",primary:"#ED0280",secondary:"#FF4FAD",accent:"#4A1C35",backgroundSecondary:"#ffc9fd"}}}}),As=a(9278),Ps=a(9015);r.Z.config.productionTip=!1,new r.Z({router:cs,store:M,vuetify:Is,render:e=>e(Zs)}).$mount("#app"),r.Z.component("v-text-field",De.Z),r.Z.use(As.ZP),r.Z.use(Ps.ZP,{locale:"pt-BR",decimalLength:2,autoDecimalMode:!0,min:null,max:null,defaultValue:0,valueAsInteger:!1,allowNegative:!0})},5426:function(e,t,a){e.exports=a.p+"img/PDV.f4359d96.svg"},8061:function(e){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAK8AAADICAYAAACeY7GXAAAACXBIWXMAAAsTAAALEwEAmpwYAAABNmlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjarY6xSsNQFEDPi6LiUCsEcXB4kygotupgxqQtRRCs1SHJ1qShSmkSXl7VfoSjWwcXd7/AyVFwUPwC/0Bx6uAQIYODCJ7p3MPlcsGo2HWnYZRhEGvVbjrS9Xw5+8QMUwDQCbPUbrUOAOIkjvjB5ysC4HnTrjsN/sZ8mCoNTIDtbpSFICpA/0KnGsQYMIN+qkHcAaY6addAPAClXu4vQCnI/Q0oKdfzQXwAZs/1fDDmADPIfQUwdXSpAWpJOlJnvVMtq5ZlSbubBJE8HmU6GmRyPw4TlSaqo6MukP8HwGK+2G46cq1qWXvr/DOu58vc3o8QgFh6LFpBOFTn3yqMnd/n4sZ4GQ5vYXpStN0ruNmAheuirVahvAX34y/Axk/96FpPYgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6AAAUggAARVYAAA6lwAAF2/XWh+QAAAJEklEQVR42uydf4jXZx3AXzO5RIaZLBlyjG+HmMg4RIa4oUPKzEmU7UdtBmu37KTWtNVC11piEhSDZIxa+/qN736wYmM/jIabay3RYbBihZmZuHWMCJFRTeQ6RLQ/nkf3vZ+ep+d9nud5veDLHQd3fD/P87r39/1+fl52+vRpRFJkkk0gyiuivCLKK8ororwiyiuivKK8IsororyivCLKK6K8IsoryiuivCLKK8ororwiyiuivKK8IsororyivCLKK6K8IsoryitSASZf6B9oNuolt18HMB3oA2YCJ+L3vfHrmdeJ+DMZQNea7omTN3PmAO3Aa0ANWAF8skVa4s+H4oNRWqlq5M2Y7wC3AI8AW4FpI4g6FH8fEIVfA94C3gQOKrbyjgdTgL8BJ4HZwKNj/DsDRb+u5fse4BSwD9gD7I9yn7T5lXesLACeO88IeyFidwCrWoQ+ArwOvATsioKLow2jKr4uhbgjCb0IuBf4LfB7YEuM/qK8I7JzAsUdioXAd4EX4nubbxcp71C0VziFuhpYHj8VvmefKe8ZZsSc856KRd3h0prNsZhcprplFmxzgK8AnwHaEpB2qPe/DXgC2KS8ZTAX2AAsTVDYoYq722NKcZPy5s0dMTXozOiZzvwD7gGWmPPmyUbgU5mJ2ypwO/C08uZJL3Brxs9XIwyrPai8+XXs+gL6sQbcDKxW3nz4HWGIiUIEvj+DYlR5CWOhRwv7JJ1HWAGnvImzPuaCpTGjlPQh16Gy8117mxPXR4F/YeRNk07CAH6pTALWKW+a/KuEyHOO3He98qbJ24QdESUzCbhTedPjSsKuiJKpAV3Kmx4dBRdsrbQDs5Q3vYJNwj/wXcqbFjfo7VlWK29auGmxP/OVNx3c0t8/dVimvOnQprP9+JzySqrMUl5JmWnKK6nmvbOVV1KlQ3klVa5QXkmVmcorqfIB5U2Do7qaf1/nKu8hXR3EKeVNgz/p6iD+o7xp8EddHcQR5U2DA4Q7HkR5k+NdXR3EMeVNh3f0tV8Be1B50+HXOnuWNjK8PjZneXeb9+b9KZSzvG/gJXxneEF5fb4U6SFcDWvnJsYjuksf4Y5j5U2IqThZAeHoq/mE9bxtyptGjvdXwh2+pbOSMF3+FvAj5a023YSL9mp6O4hVZLSjIkd5P0Y44lMGUyOj0+JzlPcqHR2WHsLZxcpbURzbHZ5ewuSN8laU4zo6LC9bsFUbtwANnzI8pLzVxl0Uw38ivaO81ebPuCBnKLbn9kA5ynsIOKGrg/iN8qbBfUbf/GuBXOV9HkcdBhZrbytvOjyls/04obzp8KypQ786AOVNh8M6e5aXlDc99uotPcCLypseO3U330+h3OU17w0jLyhvevQCuwpPGZ5T3nRpFh559ypvurweX6VxAFib8wOWIO8pwlLA0g6cPga8orx5FG7PxmiUK4eA7/P+qrqbcu/Ukk6UuR+4BfgE0Mjw+dqATcC1wEfJaK/acJR2O/qB+Mpxd/GZvXt9pXRmqWd57c7wmbaU1omlynuIvCYvesj0PDLlHUwfed3RcAp4U3nLIaeZpx0ldmDJ8j6RUerwtPKWxVHyGPc9RKFLP0s/OXwb6c+87aDQI65Kl3c7aY+LHgR+VWrneWdD2tvkj1Dwkk/lDR+7Kd5R1kPhd24ob2BrgtH3MPCM8kqKC3WKP5dCedOkh0x3BCtv/pzEm+2VN1E8BVN5k468ymsTJEmbTaC8qeK9G8qbLN41p7zJ0gdMUV5JMYecC3xdeQXCfby1xN7zXcBfgEXKWy63Ak8m+L5rwNXA48DmEjtucsHSLiMc0tGeYNRtZQ5wc0x97lPe/FkH3JO4tK3MA6YC7wE/VN58+Tnw8YzEbU0j1gL/BX5mzpsfP8lU3FaBN5RSxJUk76Mxz61l/pw14JfAcuXNgwdjZ84p5HlrwA9ibq+8iXIV8IdYjdcoi2uA9cA/gBUWbOnQEaNtJzCbcumIX89s1HyVcEfHXuWtHqsIY7fTC4y050ojANbEvL8XeDmKvF95J7ZjVgLfHtBRMrLI84AbCfvhdgI/JrEdGinLu4BwVP8Chb0gkWvAUuBLwBuEcfDdynvxmQLcDtwNXK60F5W58bU4FvI7Ygr2rvJeeMNuiFG2U88uSZH3tZiO7SKcEfGq8o6eacCdwG2xAJujVxOSVtwR04oTcdTiMcIUtPIOwYqYfy0yLahckbcV6IpR+Ckm+CqBqsi7APgqcB1hdZTSVpfO+LoROB4LvJ9OxEjFRMo7N0bY5cAMhU06Gt8NPE9Y1L8vV3kXEq4VXQrMVNisirx7CdPw/4wSPzbe0fhSyLuYcG3qMlOCIqJxLfb52jhS8fh4RePxkrezRdgrFbZIFsTXKsLxVF8mXOp9vKryrouF1xSFlZaUAmAP4Q6N7TFPPloFeWcRlt592rRARlGkbyTs2N4PPAy8MtY/dtnp06fH9IvNRn0KYbfqaspedihjpycWePuAB7rWdP973OVtNurdwLdw1ksuHgeAh7rWdNfHRd5mo57LWQdS3Uj8IrC5a033ORcETT4Pcb8JfJYwDCIyHtQIZ7DNIswHjMikUYr7MPBF4HrbVy4B85uN+rYLlrfZqG+JIwkLbFO5RHQAy5qN+uox57zNRv0bhGEw81uZCA4DS7rWdB85r8gbrVdcmUhmAw+MJW3YpLhSAVY2G/WFo5a32ahvxhtnpDojEJtGJW+zUW+jzBNmpLrMazbql48m8m4k7OkXqVL0fXI08i6xraSCtMesYGh5m416By6ykWpyDfD5kSLvYnNdqTC3jSTvDbaPVLlwG0neRbaPVJlmo754kLzNRv0Km0YqTg34wlCR1xNqJAVWDCXvtbaLJMDkuAWtn7zzbRdJJHVoHyivs2qSCnMHyiuSCnOUV1LlI2flbTbq04FTtokkwqTWyDud94/lEak6fa3yTrE9JCH+1yrvTNtDEuLDrfK65UfSTHwJd5qJJCnvNJtCUpV3qk0hqcprzivJyjvZppBU5XWaWJKV90M2hSTEe0ZcySLyiqTEKeUV5RVRXhHlFQs2kQQir9PDkhLHjLySKieVV1KlV3klVY4rryiviPKKnEfO+/8BAGzOkqbvcTVZAAAAAElFTkSuQmCC"}},t={};function a(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,r,s,o){if(!r){var i=1/0;for(d=0;d<e.length;d++){r=e[d][0],s=e[d][1],o=e[d][2];for(var n=!0,c=0;c<r.length;c++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](r[c])}))?r.splice(c--,1):(n=!1,o<i&&(i=o));if(n){e.splice(d--,1);var l=s();void 0!==l&&(t=l)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[r,s,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/pdv/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,o,i=r[0],n=r[1],c=r[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(c)var d=c(a)}for(t&&t(r);l<i.length;l++)o=i[l],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},r=self["webpackChunkv_pdv"]=self["webpackChunkv_pdv"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(3729)}));r=a.O(r)})();
//# sourceMappingURL=app.70320899.js.map