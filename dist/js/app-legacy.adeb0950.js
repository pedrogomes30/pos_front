(function(){"use strict";var e={3729:function(e,t,a){a(6992),a(8674),a(9601),a(7727);var r=a(144),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("AlertComponent"),e.noIsLoginPage()?a("SideMenu"):e._e(),a("v-main",{attrs:{transition:"scroll-x-transition"}},[a("router-view")],1)],1)},o=[],s=(a(8309),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-navigation-drawer",{staticStyle:{"border-radius":"5px",margin:"0.3%","border-right":"solid 1px var(--primary)",height:"98vh"},attrs:{"mini-variant":e.mini,app:"",floating:"","expand-on-hover":e.mini},on:{"update:expandOnHover":function(t){e.mini=t},"update:expand-on-hover":function(t){e.mini=t}},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list-item",{staticClass:"pa-0"},[r("div",{staticClass:"d-flex flex-row pa-0 "},[r("v-list-item-avatar",{staticClass:"ma-2",attrs:{size:"45"}},[r("v-img",{attrs:{src:a(8061)}})],1),r("div",{staticClass:"pl-3 pt-2"},[r("v-list-item-title",[r("b",[e._v(e._s(e.user.user_name))])]),r("v-list-item-subtitle",[e._v(e._s(e.user.cashier_name))]),r("v-list-item-subtitle",[e._v(e._s(e.user.profession))])],1)],1)]),r("v-divider"),r("v-list",{attrs:{dense:""}},[e._l(e.user.is_manager?e.items_manager:e.items,(function(t){return r("v-list-item",{key:t.title,attrs:{link:"",to:t.link,color:"var(--primary)"}},[r("v-list-item-icon",[r("v-icon",[e._v(e._s(t.icon))])],1),r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(t.title))])],1)],1)})),r("v-list-item",{on:{click:function(t){return e.logoff()}}},[r("v-list-item-icon",[r("b",[r("v-icon",{attrs:{title:"Deslogar"}},[e._v("fas fa-sign-out-alt")])],1)]),r("v-list-item-content",[r("v-list-item-title",[r("b",[e._v("Deslogar")])])],1)],1)],2)],1)}),i=[],c=(a(7042),a(8345)),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"basePage"},[a("v-row",{staticStyle:{"max-height":"20%"},attrs:{"no-gutters":"",dense:""}},[a("v-col",{attrs:{cols:"auto","align-self":"center"}},[a("v-list-item",[a("v-list-item-avatar",{attrs:{rouded:"",color:"var(--primary"}},[a("v-icon",{attrs:{color:"white"}},[e._v(" fa fa-newspaper")])],1),a("v-list-item-content",[a("h1",{staticClass:"white--text"},[e._v("NOVIDADES")])])],1)],1),a("v-col",{attrs:{cols:"auto","align-self":"center"}})],1),a("LoadComponent",{attrs:{overlay:this.loading}}),a("v-row",{staticClass:"pa-0 ma-0 mt-3 d-flex justify-start align-start"},e._l(e.news,(function(t,r){return a("div",{key:r,staticClass:"ma-2"},[a("v-card",{staticClass:"mx-auto pa-1",attrs:{"max-width":"500px","min-height":"500px"}},[a("v-img",{attrs:{src:t.main_img_url,title:t.main_img_title,height:"200px"}}),a("v-card-title",{staticStyle:{"min-height":"100px"}},[e._v(" "+e._s(t.title)+" ")]),a("v-card-subtitle",{staticStyle:{"min-height":"100px"}},[a("b",[e._v(e._s(t.resume))])]),a("v-card-text",{staticClass:"d-flex flex-row-reverse mt-0 pt-0"},[e._v(" "+e._s(e.dateFormat(t.dt_news))+" - "+e._s(t.author)+" ")]),a("v-card-actions",[a("v-btn",{attrs:{color:"var(--primary)",icon:""},on:{click:function(a){return e.newLike(t)}}},[a("v-icon",[e._v("fa-regular fa-thumbs-up")]),a("h6",{staticClass:"pl-1"},[e._v(" "+e._s(t.reactions.length)+" ")])],1),a("v-btn",{staticClass:"ml-3",attrs:{color:"var(--primary)",icon:""},on:{click:function(t){return e.onlyOneDetail(!0)}}},[a("v-icon",[e._v("fa-regular fa-comments")]),a("h6",{staticClass:"pl-1"},[e._v(" "+e._s(t.coments.length)+" ")])],1),a("v-spacer"),a("v-btn",{attrs:{icon:"",title:"mais informações"},on:{click:function(t){return e.onlyOneDetail(!1)}}},[a("v-icon",[e._v(e._s(e.more?"mdi-chevron-up":"mdi-chevron-down"))])],1)],1),a("v-expand-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.more,expression:"more"}]},[a("v-divider"),a("div",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"190px"}},e._l(t.texts,(function(t,r){return a("div",{key:r},[a("v-card-text",[e._v(" "+e._s(t.news_text)+" ")])],1)})),0),[a("v-carousel",{attrs:{height:"150px","show-arrows-on-hover":"","hide-delimiter-background":"","hide-delimiters":""}},e._l(t.img,(function(t,r){return a("v-carousel-item",{key:r},[a("v-img",{attrs:{src:t.url,alt:t.description,center:""},on:{click:function(a){return e.openImg(t.url)}}})],1)})),1)]],2)]),a("v-expand-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.coments,expression:"coments"}]},[a("v-card-subtitle",[a("v-icon",[e._v("fa-regular fa-comments")]),e._v(" Comentários ")],1),a("div",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"200px"}},e._l(t.coments,(function(t,r){return a("div",{key:r,staticStyle:{"max-height":"400px"}},[a("v-card-text",{staticClass:"mb-0 mb-0"},[a("v-icon",[e._v("fa fa-quote-left")]),a("b",{staticClass:"ml-3 mr-3"},[e._v(e._s(t.coment))]),a("v-icon",[e._v("fa fa-quote-right")])],1),a("v-card-text",{staticClass:"d-flex flex-row-reverse mt-0 pt-0"},[e._v(" "+e._s(e.dateFormat(t.dt_coment))+" - "+e._s(t.author)+" - "+e._s(t.author)+" ")])],1)})),0),a("v-textarea",{staticClass:"pa-3 d-flex justify-center align-center",attrs:{"append-outer-icon":"fa fa-paper-plane",label:"novo comentário",outlined:"","no-resize":"",height:"50px",color:"var(--primary)"},on:{"click:append-outer":function(a){return e.sendComent(t)}},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.sendComent(t)}},model:{value:e.coment_cache[t.id],callback:function(a){e.$set(e.coment_cache,t.id,a)},expression:"coment_cache[eachNews.id]"}})],1)])],1)],1)})),0)],1)},l=[],d=a(6198),m=(a(5666),a(1539),a(1703),a(2222),a(8862),a(1955)),v=(a(4916),a(5306),a(629)),p=a(4702),h={cashier_session:{}},f={getStore:function(e){return e.cashier_session.store},getPymentMethod:function(e){return e.cashier_session.payment_methods},getCupoms:function(e){return e.cashier_session.cupoms},getCashierSession:function(e){return e.cashier_session}},_={logout:function(e){var t=e.commit;return new Promise((function(){t("logout")}))},start:function(e,t){var a=e.commit;return new Promise((function(e){setTimeout((function(){a("SET_START",t),e()}),250)}))}},g={logout:function(e){e.cashier_session="",m.Z.remove("._token"),m.Z.remove("expires")},SET_START:function(e,t){e.cashier_session=t}},y={state:h,getters:f,actions:_,mutations:g},b=(a(4553),a(561),a(4747),a(6977),a(2526),a(1817),{change_value:0,qtd_items:0,qtd_payments:0,forceCustomer:!1,payment_method:"",valid_sale:!1,number:"",sale_date:"",store:"",cashier:"",employee_cashier:"",employee_sale:!1,obs:"",sys_obs:"",products_value:0,payments_value:0,discont_value:0,total_value:0,invoice:!1,invoice_serie:"",invoice_number:"",invoice_coupon:"",invoice_xml:"",customer:{document:"1",name:"Cliente não identificado",email:"",phone:"",type:"",store_partiner_id:"",store_partiner_name:""},salesman:{document:"2",name:"Vendedor não identificado",email:"",phone:"",type:"",store_partiner_id:"",store_partiner_name:""},payments:[],items:[],disconts:[]}),x={addItem:function(e,t){var a=e.commit;return new Promise((function(e){a("addItem",t),e(t)}))},removeItem:function(e,t){var a=e.commit;return new Promise((function(e){a("removeItem",t),e(t)}))},qtdItem:function(e,t){var a=e.commit;return new Promise((function(e){a("qtdItem",t),e(t)}))},quicksearch:function(e,t){var a=e.commit;return new Promise((function(e){a("quicksearch",t),e(t)}))},cleanCart:function(e){var t=e.commit;return new Promise((function(e){t("cleanCart"),e()}))},addPayment:function(e,t){var a=e.commit;return new Promise((function(e){a("addPayment",t),e(t)}))},removePayment:function(e,t){var a=e.commit;return new Promise((function(e){a("removePayment",t),e(t)}))},addDisconts:function(e,t){var a=e.commit;return new Promise((function(e){a("addDisconts",t),e(t)}))},removeDisconts:function(e,t){var a=e.commit;return new Promise((function(e){a("removeDisconts",t),e(t)}))},addObs:function(e,t){var a=e.commit;return new Promise((function(e){a("addObs",t),e(t)}))},cleanSale:function(e){var t=e.commit;return new Promise((function(e){t("cleanSale",b),e()}))},addCustomer:function(e,t){var a=e.commit;return new Promise((function(e){a("addCustomer",t),e()}))},removeCustomer:function(e){var t=e.commit;return new Promise((function(e){t("removeCustomer"),e()}))},addSalesman:function(e,t){var a=e.commit;return new Promise((function(e){a("addSalesman",t),e()}))},removeSalesman:function(e){var t=e.commit;return new Promise((function(e){t("removeSalesman"),e()}))},forceCustomer:function(e,t){var a=e.commit;return new Promise((function(e){a("forceCustomer",t),e(t)}))}},C={addItem:function(e,t){e.status="seleção de products";var a=e.items.findIndex((function(e){return e.sku===t.sku}));-1!==a?e.items[a].quantity=e.items[a].quantity+1:(t.quantity=1,t.disconts=[],t.value=t.price,e.items.push(t),e.qtd_items=e.qtd_items+1),k.processItemValue(e)},removeItem:function(e,t){e.status="seleção de products";var a=e.items.findIndex((function(e){return e.sku===t.sku}));-1!==a?(e.items.splice(a,1),e.qtd_items=e.qtd_items-1):alert("produto não pode ser removido"),k.processItemValue(e)},qtdItem:function(e,t){e.status="seleção de products";var a=e.items.findIndex((function(e){return e.sku===t.sku}));e.items[a].quantity=t.quantity,k.processItemValue(e,a)},cleanCart:function(e){e.status="sem venda",e.items=[],k.total(e)},addPayment:function(e,t){e.status="em pagamento";var a=e.payments.findIndex((function(e){return e.method_id===t.method_id}));-1!==a?e.payments[a].method_value=t.method_value:e.payments.push(t),k.total(e)},removePayment:function(e,t){e.status="em pagamento";var a=e.payments.findIndex((function(e){return e.method_id===t.method_id}));-1!==a?e.payments.splice(a,1):alert("impossivel remover este apgamento"),k.total(e)},addDisconts:function(e,t){e.status="em disconts",e.disconts.push(t),e.forceCustomer=t.with_client,k.addDiscontsToProducts(e)},removeDisconts:function(e,t){e.status="em disconts";var a=e.disconts.findIndex((function(e){return e.id===t.id}));-1!==a?e.disconts.splice(a,1):alert("impossivel remover discont"),t.with_client&&k.removeForceCustomer(e),k.addDiscontsToProducts(e)},addObs:function(e,t){e.obs=t},cleanSale:function(e){e.change_value=0,e.qtd_items=0,e.qtd_payments=0,e.forceCustomer=!1,e.payment_method="",e.valid_sale=!1,e.number="",e.sale_date="",e.store="",e.cashier="",e.employee_cashier="",e.employee_sale=!1,e.obs="",e.sys_obs="",e.invoice=!1,e.products_value=0,e.payments_value=0,e.discont_value=0,e.total_value=0,e.nfce={serie:"",number:"",cupom_pdf:"",nfce_xml:""},e.customer={document:"1",name:"Cliente não identificado",email:"",phone:"",type:"",store_partiner_id:"",store_partiner_name:""},e.salesman={document:"2",name:"Vendedor não identificado",email:"",phone:"",type:"",store_partiner_id:"",store_partiner_name:""},e.payments=[],e.items=[],e.disconts=[],k.total(e)},addCustomer:function(e,t){e.customer=t,k.total(e)},removeCustomer:function(e){e.customer={document:"1",name:"Cliente não identificado",email:"",phone:"",type:"",store_partiner_id:"",store_partiner_name:""},k.total(e)},addSalesman:function(e,t){e.salesman=t,k.total(e)},removeSalesman:function(e){e.salesman={document:"2",name:"Vendedor não identificado",email:"",phone:"",type:"",store_partiner_id:"",store_partiner_name:""},k.total(e)}},w={getItems:function(e){return e.items}},k={processItemValue:function(e,t){"undefined"!==typeof t?("undefined"===typeof e.items[t].value&&alert("erro ao calcular total do produto"),e.items[t].total=e.items[t].quantity*e.items[t].value):e.items.forEach((function(e){"undefined"===typeof e.value&&alert("erro ao calcular total do produto"),e.total=e.quantity*e.value})),this.addDiscontsToProducts(e)},total:function(e){e.products_value=0,e.payments_value=0,e.discont_value=0,e.total_value=0,e.change_value=0,e.qtd_items=0,e.qtd_payments=0,e.items.forEach((function(t){0!==t.disconts.lenght&&t.disconts.forEach((function(t){e.discont_value+=t.price})),e.total_value+=t.total,e.products_value+=t.quantity*t.price,e.qtd_items++})),e.payments.length>0&&e.payments.forEach((function(t){e.payments_value+=t.method_value,e.qtd_payments++})),e.change_value=e.payments_value-e.total_value,e.change_value=+e.change_value.toFixed(2),e.valid_sale=!0,e.status="Finalizada","undefined"===typeof e.items&&(e.valid_sale=!1,e.status=" Não há item nesta venda."),e.change_value>=0&&0===e.payments_value&&(e.valid_sale=!1,e.status=" Não há pagamentos nesta venda."),e.total_value<0&&(e.valid_sale=!1,e.status=" venda com o total negativo."),e.products_value<=0&&(e.valid_sale=!1,e.status=" venda com o total de products zerado."),e.discont_value>e.products_value&&(e.valid_sale=!1,e.status=" valor de discont maior que o valor total da venda."),e.change_value<0&&(e.valid_sale=!1,e.status=" valor de pagamento menor que o valor total da venda."),e.forceCustomer&&e.customer.type!==e.forceCustomer&&(e.valid_sale=!1,e.status="necessário informar um ".concat(e.forceCustomer," nesta venda."))},addDiscontsToProducts:function(e){e.status="em disconts",e.discont_value=0;var t=0;e.items.forEach((function(e){t+=e.total})),"undefined"!==typeof e.disconts&&(e.items.forEach((function(a){a.disconts=[],a.total=a.price*a.quantity,e.disconts.forEach((function(r){if(r.all_products){var n=a.total;if(r.percent){var o=r.value/100*n;a.disconts.push({code:r.code,description:r.description,price:o,value:r.value,percent:r.percent}),a.total-=o}else{var s=a.total/t,i=r.valor*s;a.disconts.push({code:r.code,description:r.description,price:i,value:"",percent:r.percent}),a.total-=i}}else if(r.sku===a.sku){var c=a.total;if(r.percent){var u=r.value/100*c;a.disconts.push({code:r.cade,description:r.description,price:u,value:r.value,percent:r.percent}),a.total-=u}else a.disconts.push({code:r.code,price:r.value,description:r.description,value:"",percent:r.percent}),a.total-=r.value}e.forceCustomer=!!r.with_client&&r.with_client}))})),this.total(e))},removeForceCustomer:function(e){e.forceCustomer=!1,k.total(e)}},Z={state:b,getters:w,actions:x,mutations:C,service:k},V={products:[],categorys:[]},S={updateProducts:function(e,t){var a=e.commit;return new Promise((function(e){e(a("updateProducts",t))}))}},I={updateProducts:function(e,t){e.categorys=t.category,e.products=t.products}},A={},P={state:V,getters:A,actions:S,mutations:I};function R(e,t){var a={up:[],not_up:[]};return"undefined"===typeof e&&e&&0!==e.length?"undefined"===typeof t&&t&&0!==t.length?(e.length>0&&e.forEach((function(e){var r=t.findIndex((function(t){return t.number===e.number}));-1===r&&a.not_up.push(e)})),a.up=t,a):(a.up=[],a.not_up=e,a):(a.up=t,a.not_up=[],a)}var E=a(8582),T={to_sync_sales:[],sales:[],updated_at:""},L={sales:function(e){return e.sales},updated_at:function(e){return e.updated_at}},D={newSale:function(e,t){var a=e.commit;return new Promise((function(e){e(a("newSale",t))}))},salesMerge:function(e,t){var a=e.commit;return new Promise((function(e){e(a("salesMerge",t))}))}},F={newSale:function(e,t){""!==t.id&&"Erro"!==t.status?e.sales.push(t):e.to_sync_sales.push(t)},salesMerge:function(e,t){var a=R(e.to_sync_sales,t);e.sales=a.up?a.up:e.sales,e.to_sync_sales=a.not_up?a.not_up:e.to_up_sales,e.updated_at=(0,E.Z)(new Date,"yyyy-MM-dd HH:mm:ss")}},O={state:T,getters:L,actions:D,mutations:F},j={alert:{message:"",type:"error",active:!1}},$={Alert:function(e,t){var a=e.commit;return new Promise((function(e){e(a("Alert",t)),e(setTimeout((function(){a("AlertRemove")}),"5000"))}))},AlertRemove:function(e){var t=e.commit;return new Promise((function(e){e(t("AlertRemove"))}))}},z={Alert:function(e,t){e.alert.type=t.type,e.alert.message=t.message,e.alert.active=!0},AlertRemove:function(e){e.alert.type="error",e.alert.message="",e.alert.active=!1}},B={},N={state:j,getters:B,actions:$,mutations:z};r.Z.use(v.ZP);var M=new v.ZP.Store({modules:{auth:y,cashierStore:Z,productStore:P,salesStore:O,errorHandle:N},plugins:[(0,p.Z)()]}),q=M;function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"success",t=arguments.length>1?arguments[1]:void 0;switch(e){case"success":break;case"error":var a=t.replace(/[^0-9]/g,"");401==a&&En.push("/expired");break}q.dispatch("Alert",{type:e,message:t})}function K(){return U.apply(this,arguments)}function U(){return U=(0,d.Z)(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new Headers,t.append("Authorization","Bearer "+m.Z.get("._token")),a={method:"GET",headers:t,redirect:"follow"},e.next=5,fetch("".concat("http://143.110.228.113/ErpFashion","/news"),a).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText," "));return e.json()})).then((function(e){return e.data.data})).catch((function(e){H("error",e.message)}));case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}function J(e){return X.apply(this,arguments)}function X(){return X=(0,d.Z)(regeneratorRuntime.mark((function e(t){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new Headers,a.append("Authorization","Bearer "+m.Z.get("._token")),r={method:"POST",headers:a,redirect:"follow",body:JSON.stringify(t)},e.next=5,fetch("".concat("http://143.110.228.113/ErpFashion","/news/coment"),r).then((function(e){if(!e.ok)throw new Error("".concat(e.status,"- ").concat(e.statusText));return e.json()})).then((function(e){return e.data.data})).catch((function(e){H("error",e.message)}));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),X.apply(this,arguments)}function W(e){return G.apply(this,arguments)}function G(){return G=(0,d.Z)(regeneratorRuntime.mark((function e(t){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new Headers,a.append("Authorization","Bearer "+m.Z.get("._token")),r={method:"POST",headers:a,redirect:"follow",body:JSON.stringify(t)},e.next=5,fetch("".concat("http://143.110.228.113/ErpFashion","/news/reaction"),r).then((function(e){if(!e.ok)throw new Error("".concat(e.status,"- ").concat(e.statusText));return e.json()})).then((function(e){return e.data.data})).catch((function(e){H("error",e.message)}));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}var Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center"},[a("v-overlay",{attrs:{value:e.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}}),a("h2",[e._v(" Carregando... ")])],1)],1)},Y=[],ee={props:{overlay:Boolean}},te=ee,ae=a(1001),re=a(3453),ne=a.n(re),oe=a(1058),se=a(624),ie=(0,ae.Z)(te,Q,Y,!1,null,null,null),ce=ie.exports;ne()(ie,{VOverlay:oe.Z,VProgressCircular:se.Z});var ue={name:"NewsPage",data:function(){return{news:[],more:!1,coments:!1,coment_cache:[],loading:!1}},computed:{},components:{LoadComponent:ce},methods:{onlyOneDetail:function(e){e?(this.coments=!this.coments,this.coments&&(this.more=!1)):(this.more=!this.more,this.more&&(this.coments=!1))},openImg:function(e){window.open(e,"_blank")},newLike:function(e){var t=this;return(0,d.Z)(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,r={news:e.id,news_reaction:"like"},a.next=4,W(r);case 4:return t.loading=!1,a.next=7,K();case 7:t.news=a.sent,H("success","+1 curtir");case 9:case"end":return a.stop()}}),a)})))()},dateFormat:function(e){return e=new Date(e),(0,E.Z)(e,"dd/MM/yyyy HH:mm:ss")},sendComent:function(e){var t=this;return(0,d.Z)(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.loading=!0,""===t.coment_cache[e.id]){a.next=10;break}return r={news:e.id,author:null,coment:t.coment_cache[e.id],dt_coment:(0,E.Z)(new Date,"yyyy-MM-dd HH:mm:ss")},t.coment_cache[e.id]="",a.next=6,J(r);case 6:return a.next=8,K();case 8:t.news=a.sent,H("success","comentário postado.");case 10:t.loading=!1;case 11:case"end":return a.stop()}}),a)})))()}},beforeMount:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,K();case 3:e.news=t.sent,e.loading=!1;case 5:case"end":return t.stop()}}),t)})))()}},le=ue,de=a(3150),me=a(3237),ve=a(7118),pe=a(7813),he=a(6501),fe=a(2102),_e=a(1418),ge=a(5827),ye=a(6428),be=a(7047),xe=a(7620),Ce=a(6421),we=a(413),ke=a(2877),Ze=a(9762),Ve=a(4350),Se=(0,ae.Z)(le,u,l,!1,null,null,null),Ie=Se.exports;ne()(Se,{VBtn:de.Z,VCard:me.Z,VCardActions:ve.h7,VCardSubtitle:ve.Qq,VCardText:ve.ZB,VCardTitle:ve.EB,VCarousel:pe.Z,VCarouselItem:he.Z,VCol:fe.Z,VDivider:_e.Z,VExpandTransition:ge.Fx,VIcon:ye.Z,VImg:be.Z,VListItem:xe.Z,VListItemAvatar:Ce.Z,VListItemContent:we.km,VRow:ke.Z,VSpacer:Ze.Z,VTextarea:Ve.Z});var Ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"background d-flex justify-center align-center"},[r("LoadComponent",{attrs:{overlay:e.loading}}),r("v-card",{staticClass:"pa-4 text-center ",attrs:{width:"30%",elevation:"24"}},[r("v-avatar",{attrs:{size:"90"}},[r("v-img",{attrs:{src:a(5426)}})],1),r("h2",[e._v("Autenticação")]),r("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.login()}}},[r("v-text-field",{attrs:{rules:e.rules.email,type:"email",label:"Usuário","prepend-inner-icon":"mdi-account"},model:{value:e.userTemp.email,callback:function(t){e.$set(e.userTemp,"email",t)},expression:"userTemp.email"}}),r("v-text-field",{staticClass:"pb-0 mb-0",attrs:{rules:e.rules.password,type:e.passwordShow?"text":"password",label:"Senha","prepend-inner-icon":"mdi-key","append-icon":e.passwordShow?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(t){e.passwordShow=!e.passwordShow}},model:{value:e.userTemp.password,callback:function(t){e.$set(e.userTemp,"password",t)},expression:"userTemp.password"}}),r("v-card-actions",{staticClass:"justify-end mt-5"},[r("v-btn",{staticClass:" mr-2",attrs:{color:"var(--primary)",text:""},on:{click:function(t){e.passRecover=!e.passRecover}}},[r("span",{staticClass:"pl-3 "},[e._v(" esqueci minha senha ")])]),r("v-btn",{staticClass:" mr-2",attrs:{type:"submit",color:"var(--primary)"}},[r("v-icon",{attrs:{color:"white"}},[e._v("fa fa-right-to-bracket")]),r("span",{staticClass:"white--text pl-3 "},[e._v(" Logar-se! ")])],1)],1)],1),r("v-expand-transition",[r("div",{directives:[{name:"show",rawName:"v-show",value:e.passRecover,expression:"passRecover"}]},[r("v-divider"),r("v-card",{attrs:{width:"100%"}},[r("v-list",[r("v-list-item",[r("v-list-item-avatar",{attrs:{rouded:"",color:"var(--primary"}},[r("v-icon",{attrs:{color:"white"}},[e._v(" fa fa-at")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v("Recuperar Senha")])],1)],1)],1),r("v-list",[r("v-card-subtitle",[e._v(" Favor informar o e-mail abaixo apra recuperação de Senha ")]),r("v-text-field",{staticClass:"pa-2",attrs:{label:"Email","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",rules:e.rules.validarDocumento,type:"text","prepend-icon":"fa fa-at",autofocus:""},model:{value:e.userTemp.emailRecovery,callback:function(t){e.$set(e.userTemp,"emailRecovery",t)},expression:"userTemp.emailRecovery"}})],1),r("v-card-actions",[r("v-btn",{attrs:{color:"var(--primary)",text:""},on:{click:function(t){return e.enviarRecuperacao()}}},[e._v("Enviar")])],1)],1)],1)])],1)],1)},Pe=[];function Re(e){return Ee.apply(this,arguments)}function Ee(){return Ee=(0,d.Z)(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={method:"GET",headers:{Authorization:"Basic 6048eb749c6000030fa67ddb8d68ac9006be1ef2fbec4a4c9ef8e9a6ea51","Content-Type":"application/json"},redirect:"follow"},e.next=3,fetch("".concat("http://143.110.228.113/ErpFashion","/auth/").concat(t.email,"/").concat(t.password),a).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()})).then((function(e){return m.Z.set("._token",e.data.access),m.Z.set("expires",e.data.expires),e})).catch((function(e){H("error",e.message)}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)}))),Ee.apply(this,arguments)}function Te(){return Le.apply(this,arguments)}function Le(){return Le=(0,d.Z)(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{Authorization:"Bearer "+m.Z.get("._token")},redirect:"follow"},e.next=3,fetch("".concat("http://143.110.228.113/ErpFashion","/start"),t).then((function(e){if(console.log("url","http://143.110.228.113/ErpFashion"),!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()})).then((function(e){if(e.data.error)throw new Error(e.data.data);return e.data.data})).catch((function(e){H("error",e.message)}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))),Le.apply(this,arguments)}function De(e){return Fe.apply(this,arguments)}function Fe(){return Fe=(0,d.Z)(regeneratorRuntime.mark((function e(t){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=JSON.stringify({cashier:t}),r={method:"POST",body:a,headers:{Authorization:"Bearer "+m.Z.get("._token")},redirect:"follow"},e.next=4,fetch("".concat("http://143.110.228.113/ErpFashion","/start"),r).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()})).then((function(e){if(e.data.error)throw new Error(e.data.data);return m.Z.set("._token",e.data.access),m.Z.set("expires",e.data.expires),e})).catch((function(e){H("error",e.message)}));case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),Fe.apply(this,arguments)}var Oe={name:"LoginPage",computed:{},data:function(){return{loading:!1,snackbar:!1,passwordShow:!1,passRecover:!1,alert:{type:"",message:"",active:!1},rules:{password:[function(e){return!!e||"Informe a senha"}],email:[function(e){return!!e||"Informe o e-mail"}],validarDocumento:[function(e){return!!e||"informe email de recuperação"}]},userTemp:{email:"",password:"",emailRecovery:""}}},methods:{login:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=13;break}return e.loading=!0,t.prev=2,t.next=5,Re(e.userTemp);case 5:En.push("/start"),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](2),console.log("SHOW RESULT",t.t0),e.$store.dispatch("Alert",{type:"error",message:t.t0});case 12:e.loading=!1;case 13:case"end":return t.stop()}}),t,null,[[2,8]])})))()},enviarRecuperacao:function(){this.rules.validarDocumento=[!0],this.rules.validarDocumento=["serviço de recuperar e-mail ainda está indisponivel!"]}},components:{LoadComponent:ce},beforeMount:function(){this.transition=!0}},je=Oe,$e=a(6370),ze=a(6232),Be=a(6816),Ne=a(5978),Me=(0,ae.Z)(je,Ae,Pe,!1,null,null,null),qe=Me.exports;ne()(Me,{VAvatar:$e.Z,VBtn:de.Z,VCard:me.Z,VCardActions:ve.h7,VCardSubtitle:ve.Qq,VDivider:_e.Z,VExpandTransition:ge.Fx,VForm:ze.Z,VIcon:ye.Z,VImg:be.Z,VList:Be.Z,VListItem:xe.Z,VListItemAvatar:Ce.Z,VListItemContent:we.km,VListItemTitle:we.V9,VTextField:Ne.Z});var He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"basePage"},[a("v-row",{attrs:{"no-gutters":"",dense:""}},[a("v-col",{attrs:{cols:"cols-10","align-self":"center"}},[a("v-list-item",[a("v-list-item-avatar",{attrs:{rouded:"",color:"var(--primary"}},[a("v-icon",{attrs:{color:"white"}},[e._v(" fa fa-cart-plus")])],1),a("v-list-item-content",[a("h1",{staticClass:"white--text"},[e._v("CAIXA")])])],1)],1),a("v-spacer")],1),a("v-row",{attrs:{"no-gutters":"",dense:""}},[a("v-col",{attrs:{cols:"7"}},[a("ProductCard")],1),a("v-col",{attrs:{cols:"5",id:"tabMenu"}},[a("TabCashierSubmenu"),a("TotalCard"),a("v-row",{staticClass:"pa-0 d-flex justify-center align-center",staticStyle:{height:"2.5vh"},attrs:{dense:"","no-gutters":""}},[a("v-spacer"),"Finalizada"!==e.sale.status?a("h5",{staticClass:"white--text mx-3 "},[e._v(" "+e._s(e.sale.status))]):e._e()],1),a("v-row",{staticClass:"px-3",staticStyle:{height:"13.2vh"},attrs:{justify:"space-around"}},[a("ObsCard"),a("ChangeCard"),a("v-btn",{attrs:{height:"100%",width:"15%",color:"red",dark:"",title:"cancelar a venda"},on:{click:function(t){return e.onCancelOrder()}}},[a("v-icon",{attrs:{color:"white",size:"35"}},[e._v(" fa fa-ban")])],1),a("DetailSaleCard")],1)],1)],1)],1)},Ke=[],Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("LoadComponent",{attrs:{overlay:e.loading}}),a("v-card",{attrs:{elevation:"0",id:"productCard"}},[a("v-card-title",[a("v-list-item-avatar",{attrs:{rouded:"",color:"var(--primary"}},[a("v-icon",{attrs:{color:"white"}},[e._v(" fa fa-boxes")])],1),e._v(" Produtos "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"procurar...","single-line":"",dense:"",autofocus:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchProduct(e.search)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[e._v(" >")]),a("v-btn",{staticClass:"ma-3",attrs:{icon:"",title:"Atualizar Produtos",right:"",center:"",fab:"",outlined:"",small:"",color:"green"},on:{click:function(t){return e.updateproducts(!0)}}},[a("v-icon",[e._v("fa-solid fa-arrows-rotate")])],1)],1),a("v-card-text",[a("v-data-table",{staticClass:"overflow-y-auto",staticStyle:{height:"76vh"},attrs:{items:e.products,search:e.search,headers:e.header,"fixed-header":"","calculate-widths":"",dense:"","no-data-text":"Não foi possivel carregar produtos.","no-results-text":"Produto não encontrado.","items-per-page":50},scopedSlots:e._u([{key:"item",fn:function(t){return[a("tr",{on:{click:function(a){return e.newItem(t.item)}}},[a("td",[a("v-icon",{attrs:{size:"20",title:"Enviar apra o carrinho",color:"var(--primary)"}},[e._v(" fa fa-cart-plus ")])],1),a("td",{},[e._v(e._s(t.item.sku)),a("br"),a("b",[e._v(e._s(t.item.description))])]),a("td",{},[a("h5",[e._v(e._s(t.item.provider.toLowerCase()))]),a("h4",[e._v(e._s(e.nameCategory(t.item.category)))])]),a("td",[a("h3",[e._v(" "+e._s(e.valueFormat(t.item.price))+" ")])]),a("td",[a("PriceReport",{attrs:{item:t.item}})],1)])]}}])})],1)],1)],1)},Je=[];a(4765);function Xe(){return We.apply(this,arguments)}function We(){return We=(0,d.Z)(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new Headers,t.append("Authorization","Bearer "+m.Z.get("._token")),a={method:"GET",headers:t,redirect:"follow"},e.next=5,fetch("".concat("http://143.110.228.113/ErpFashion","/product"),a).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()})).then((function(e){return e.data.data})).catch((function(e){H("error",e.message)}));case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)}))),We.apply(this,arguments)}function Ge(e,t){return Qe.apply(this,arguments)}function Qe(){return Qe=(0,d.Z)(regeneratorRuntime.mark((function e(t,a){var r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new Headers,r.append("Authorization","Bearer "+m.Z.get("._token")),n={method:"POST",headers:r,body:JSON.stringify(t),redirect:"follow"},e.next=5,fetch("".concat("http://143.110.228.113/ErpFashion","/product/").concat(a),n).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()})).then((function(e){return e.data.data})).catch((function(e){H("error",e.message)}));case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)}))),Qe.apply(this,arguments)}var Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-icon",e._g(e._b({attrs:{size:"18",title:"Reportar diferença de preço",color:"red"}},"v-icon",n,!1),r),[e._v("fa-solid fa-triangle-exclamation ")])]}}]),model:{value:e.reportMenu,callback:function(t){e.reportMenu=t},expression:"reportMenu"}},[a("v-card",[a("v-list",[a("v-list-item",[a("v-list-item-avatar",{attrs:{rouded:"",color:"red"}},[a("v-icon",{attrs:{color:"white"}},[e._v(" fa-solid fa-triangle-exclamation")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Informar preço errado")])],1)],1)],1),a("v-divider"),a("v-list",{staticClass:"pa-3"},[a("v-list-item-subtitle",[e._v("SKU: "+e._s(e.item.sku))]),a("v-list-item-subtitle",[e._v("Descrição: "+e._s(e.item.description))]),a("v-list-item-subtitle",[e._v("Categoria: "+e._s(e.nameCategory(e.item.category)))]),a("v-list-item-subtitle",[e._v("Fornecedor: "+e._s(e.item.provider.toUpperCase()))]),a("v-list-item-subtitle",{staticClass:"pt-3 pl-6"},[e._v("Preço Atual: "+e._s(e.valueFormat(e.item.price)))]),a("v-currency-field",{staticClass:"px-3",attrs:{label:"Valor correto",clearable:"",prefix:"R$",color:"var(--primary)",id:"price","prepend-icon":"fa fa-dollar-sign"},model:{value:e.right_price,callback:function(t){e.right_price=t},expression:"right_price"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.reportMenu=!1}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"var(--primary)",text:""},on:{click:function(t){return e.report()}}},[e._v("reportar")])],1)],1)],1)},et=[],tt={name:"PriceReport",props:{item:{}},computed:{categorys:function(){return this.$store.state.productStore.categorys},store:function(){return this.$store.state.auth.cashier_session.store.store_name}},data:function(){return{reportMenu:!1,right_price:0}},methods:{nameCategory:function(e){var t=this.categorys.findIndex((function(t){return t.id===e}));return this.categorys[t].name},valueFormat:function(e){if("undefined"!==typeof e)return e.toLocaleString("pt-br",{style:"currency",currency:"BRL"})},report:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.item.id,r={store:e.store,right_price:e.right_price},t.next=4,Ge(r,a);case 4:e.reportMenu=!1,H("success","Preço de produto reportado");case 6:case"end":return t.stop()}}),t)})))()}}},at=tt,rt=a(6768),nt=(0,ae.Z)(at,Ye,et,!1,null,null,null),ot=nt.exports;ne()(nt,{VBtn:de.Z,VCard:me.Z,VCardActions:ve.h7,VDivider:_e.Z,VIcon:ye.Z,VList:Be.Z,VListItem:xe.Z,VListItemAvatar:Ce.Z,VListItemContent:we.km,VListItemSubtitle:we.oZ,VListItemTitle:we.V9,VMenu:rt.Z,VSpacer:Ze.Z});var st={name:"ProductsCard",computed:{products:function(){return this.$store.state.productStore.products},categorys:function(){return this.$store.state.productStore.categorys}},data:function(){return{search:"",loading:!1,report:!1,header:[{text:"",align:"center",sortable:!1,value:""},{text:"Sku / Descricao",align:"start",value:"description"},{text:"Categoria / Fornecedor",align:"start",value:"provider"},{text:"Preco(R$)",align:"center",value:"price"},{text:"",align:"center",value:""}]}},methods:{newItem:function(e){this.$store.dispatch("addItem",e),H("info","Produto ".concat(e.description,"adicionado."))},searchProduct:function(e){var t=this.products.findIndex((function(t){return t.sku===e}));-1!==t&&(e=this.products[t],this.$store.dispatch("addItem",e),this.search="")},valueFormat:function(e){return e.toLocaleString("pt-br",{style:"currency",currency:"BRL"})},nameCategory:function(e){var t=this.categorys.findIndex((function(t){return t.id===e}));return this.categorys[t].name},colorCategory:function(e){var t=this.categorys.findIndex((function(t){return t.id===e}));return this.categorys[t].color},updateproducts:function(e){var t=this;return(0,d.Z)(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,!(t.products.length<=0||e)){a.next=9;break}return t.loading=!0,a.next=5,Xe();case 5:r=a.sent,t.$store.dispatch("updateProducts",r),t.loading=!1,H("success","Produtos atualizados.");case 9:a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](0),H("error",a.t0.message);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})))()}},beforeMount:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.updateproducts(!1);case 1:case"end":return t.stop()}}),t)})))()},components:{LoadComponent:ce,PriceReport:ot}},it=st,ct=a(4998),ut=(0,ae.Z)(it,Ue,Je,!1,null,null,null),lt=ut.exports;ne()(ut,{VBtn:de.Z,VCard:me.Z,VCardText:ve.ZB,VCardTitle:ve.EB,VDataTable:ct.Z,VIcon:ye.Z,VListItemAvatar:Ce.Z,VSpacer:Ze.Z,VTextField:Ne.Z});var dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-slide-x-transition",[a("v-tabs",{staticClass:"d-flex justify-center align-center",attrs:{centered:""},model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[a("v-hover",{model:{value:e.menuHover["carrinho"],callback:function(t){e.$set(e.menuHover,"carrinho",t)},expression:"menuHover['carrinho']"}},[a("v-tab",{attrs:{color:"var(--primary)"},on:{keyup:function(t){e.tabs=e.tabs}}},[a("v-icon",{staticClass:"pr-3",attrs:{color:"var(--primary)",size:"30"}},[e._v(" fa fa-cart-shopping")]),a("v-slide-x-transition",[a("span",{directives:[{name:"show",rawName:"v-show",value:e.menuHover["carrinho"],expression:"menuHover['carrinho']"}]},[e._v("Carrinho")])])],1)],1),a("v-hover",{model:{value:e.menuHover["descontos"],callback:function(t){e.$set(e.menuHover,"descontos",t)},expression:"menuHover['descontos']"}},[a("v-tab",[a("v-icon",{staticClass:"pr-3",attrs:{color:"var(--primary)",size:"30"}},[e._v(" fa fa-tags")]),a("v-slide-x-transition",[a("span",{directives:[{name:"show",rawName:"v-show",value:e.menuHover["descontos"],expression:"menuHover['descontos']"}]},[e._v("Descontos")])])],1)],1),a("v-hover",{model:{value:e.menuHover["pagamentos"],callback:function(t){e.$set(e.menuHover,"pagamentos",t)},expression:"menuHover['pagamentos']"}},[a("v-tab",[a("v-icon",{staticClass:"pr-3",attrs:{color:"var(--primary)",size:"30"}},[e._v(" fa fa-sack-dollar")]),a("v-slide-x-transition",[a("span",{directives:[{name:"show",rawName:"v-show",value:e.menuHover["pagamentos"],expression:"menuHover['pagamentos']"}]},[e._v("Pagamentos")])])],1)],1),a("v-hover",{model:{value:e.menuHover["cliente"],callback:function(t){e.$set(e.menuHover,"cliente",t)},expression:"menuHover['cliente']"}},[a("v-tab",[a("v-icon",{staticClass:"pr-3",attrs:{color:"var(--primary)",size:"30"}},[e._v(" fa-solid fa-user-group")]),a("v-slide-x-transition",[a("span",{directives:[{name:"show",rawName:"v-show",value:e.menuHover["cliente"],expression:"menuHover['cliente']"}]},[e._v("Cliente / Vendedor")])])],1)],1)],1)],1),a("v-divider"),a("v-tabs-items",{staticStyle:{"min-height":"36vh","max-height":"36vh"},model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[a("v-tab-item",[a("ItemCard")],1),a("v-tab-item",[a("DiscontCard")],1),a("v-tab-item",[a("PaymentCard")],1),a("v-tab-item",[a("CustomerCard"),a("v-spacer"),a("h3",{staticClass:"pl-6"},[e._v("Vendedor está temporariamente indisponível")])],1)],1)],1)},mt=[],vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex flex-column align-center justify-center",attrs:{height:"100%"}},[a("v-data-table",{staticClass:"overflow-y-auto",staticStyle:{height:"30vh",width:"100%","padding-left":"3px","padding-right":"3px"},attrs:{headers:e.header,items:e.Items,"disable-filtering":"","fixed-header":"","calculate-widths":"",dense:"","hide-default-header":"","hide-default-footer":"","items-per-page":-1,id:"scroll-cart"},scopedSlots:e._u([{key:"item",fn:function(t){return[0!==t.item.id?a("tr",[a("td",[a("v-icon",{staticClass:"ma-0 pa-0",attrs:{size:"20",color:"red"},on:{click:function(a){return e.removeItem(t)}}},[e._v("fa fa-xmark ")])],1),a("td",[e._v(" "+e._s(t.item.sku)),a("br"),a("b",[e._v(e._s(t.item.description))])]),a("td",[a("v-container",{attrs:{id:"miniButtons"}},[a("h5",[e._v(e._s(e.valueFormat(t.item.value)))]),a("v-icon",{staticClass:"mr-1",attrs:{size:"10",color:"green"},on:{click:function(a){return e.qtdAdd(t)}}},[e._v("fa fa-plus")]),e._v(" "+e._s(t.item.quantity)+" "),a("v-icon",{staticClass:"ml-1",attrs:{size:"10",color:"red"},on:{click:function(a){return e.qtdSub(t)}}},[e._v("fa fa-minus")])],1)],1),a("td",[a("div",[a("h5",[e._v(" "+e._s(e.valueFormat(t.item.price*t.item.quantity))+" ")]),void 0!==t.item.disconts?a("div",e._l(t.item.disconts,(function(t){return a("div",{key:t.code},[a("h5",{staticStyle:{color:"red"},attrs:{title:e.getDescTitle(t)}},[e._v(e._s(e.valueFormat(t.price))+"-")])])})),0):e._e(),a("h4",[a("b",[e._v(e._s(e.valueFormat(t.item.total)))])])])])]):e._e()]}}])}),a("v-btn",{attrs:{fab:"",small:""}},[a("v-icon",{attrs:{color:"red",title:"esvaziar carrinho",size:"25"},on:{click:e.cleanCart}},[e._v(" fa fa-trash ")])],1)],1)},pt=[],ht={name:"productSelecionadoCard",computed:{Items:function(){return this.$store.state.cashierStore.items}},data:function(){return{header:[{text:"",align:"center",sortable:!1,value:""},{text:"Produto",align:"center",value:"description"},{text:"preço / quantidade",align:"center",value:"price"},{text:"total / descontos",align:"center",value:"total"}]}},methods:{qtdAdd:function(e){e.item.quantity++,this.$store.dispatch("qtdItem",e.item)},qtdSub:function(e){e.item.quantity--,e.item.quantity<=0?(this.$store.dispatch("removeItem",e.item),H("warning","Produto ".concat(e.item.description," removido."))):this.$store.dispatch("qtdItem",e.item)},removeItem:function(e){this.$store.dispatch("removeItem",e.item),H("warning","Produto ".concat(e.item.description," removido."))},cleanCart:function(){this.$store.dispatch("cleanCart"),H("warning","Carrinho limpo.")},valueFormat:function(e){return e.toLocaleString("pt-br",{style:"currency",currency:"BRL"})},getDescTitle:function(e){return e.code+": "+e.description}}},ft=ht,_t=a(9846),gt=(0,ae.Z)(ft,vt,pt,!1,null,null,null),yt=gt.exports;ne()(gt,{VBtn:de.Z,VContainer:_t.Z,VDataTable:ct.Z,VIcon:ye.Z});var bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex flex-column align-center justify-center",attrs:{height:"100%"}},[a("v-data-table",{staticClass:"overflow-y-auto",staticStyle:{height:"27vh",width:"100%","padding-left":"3px","padding-right":"3px"},attrs:{headers:e.header,items:e.disconts,"hide-default-footer":"","hide-default-header":"","calculate-widths":""},scopedSlots:e._u([{key:"item",fn:function(t){return[a("tr",[a("td",[a("v-icon",{attrs:{size:"15",color:"var(--primary)"}},[e._v("fa fa-ticket ")])],1),a("td",[e._v(e._s(t.item.code))]),a("td",[e._v(e._s(e.skuFormat(t.item)))]),a("td",[e._v(e._s(t.item.percent?t.item.value+"%":e.valueFormat(t.item.value)))]),a("td",[a("v-icon",{attrs:{size:"10",color:"red"},on:{click:function(a){return e.removeCupom(t.item)}}},[e._v("fa fa-xmark")])],1)])]}}])}),a("v-form",{staticClass:"px-3 pb-6 d-flex flex-row",staticStyle:{width:"100%"},on:{submit:function(t){return t.preventDefault(),e.addCupom()}}},[a("v-text-field",{staticClass:"pa-2",staticStyle:{"max-width":"45%"},attrs:{label:"código do cupom","hide-details":"auto",hint:e.cupom.description,"persistent-hint":"",autofocus:"",color:"var(--primary)",rules:e.rules.validcode,"prepend-icon":"fa fa-ticket"},on:{change:e.code_validate,focus:e.onFocuscode},model:{value:e.cupom.code,callback:function(t){e.$set(e.cupom,"code",t)},expression:"cupom.code"}}),a("v-select",{staticClass:"pa-2",staticStyle:{"max-width":"40%"},attrs:{label:"selecione o produto","hide-details":"auto","item-text":"sku","item-value":"sku",color:"var(--primary)",disabled:0!==e.cupom.all_products,items:e.items,hint:"sku: "+e.cupom.sku,"prepend-icon":"fa fa-box",rules:e.rules.produto,"persistent-hint":"","single-line":""},model:{value:e.cupom.sku,callback:function(t){e.$set(e.cupom,"sku",t)},expression:"cupom.sku"}}),a("v-btn",{staticClass:"ml-6 mt-3",attrs:{type:"submit",color:"green",fab:"",small:""}},[a("v-icon",{attrs:{color:"white"}},[e._v("fa fa-plus")])],1)],1)],1)},xt=[];function Ct(e){return wt.apply(this,arguments)}function wt(){return wt=(0,d.Z)(regeneratorRuntime.mark((function e(t){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new Headers,a.append("Authorization","Bearer "+m.Z.get("._token")),r={method:"POST",headers:a,body:JSON.stringify({code:t}),redirect:"follow"},e.next=5,fetch("".concat("http://143.110.228.113/ErpFashion","/cupom"),r).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()})).then((function(e){return e.data.data})).catch((function(e){H("error",e.message)}));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),wt.apply(this,arguments)}var kt={name:"CupomDescontoCard",computed:{disconts:function(){return this.$store.state.cashierStore.disconts},items:function(){return this.$store.state.cashierStore.items},prefabCupons:function(){return this.$store.state.auth.cashier_session.cupoms}},data:function(){return{menu:!1,cupom:{id:0,with_client:"",code:"",description:"",value:0,all_products:0,acumulate:1,percent:1,quantity:0,sku:""},header:[{text:"code",align:"start",sortable:!1,value:"code"},{text:"value(R$)",value:"value"},{text:"Icon",value:"icon"}],rules:{validcode:[!0],value:[function(e){return(e||"").length>0||"necessário informar o produto!"}]}}},methods:{code_validate:function(e){var t=this;return(0,d.Z)(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,r=t.prefabCupons.findIndex((function(t){return t.code===e})),-1===r){a.next=6;break}t.cupom=t.prefabCupons[r],a.next=10;break;case 6:return a.next=8,Ct(e);case 8:n=a.sent,"undefined"!==typeof n?t.cupom=t.newCupom:t.rules.validcode=["Cupom inválido"];case 10:a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](0),H("error","Cupom inválido");case 15:case"end":return a.stop()}}),a,null,[[0,12]])})))()},addCupom:function(){var e=this;try{if(""==this.cupom.description)throw new Error("sem cupom válido definido!");var t=Object.assign({},this.cupom);if(t.acumulate){var a=this.disconts.findIndex((function(t){return t.sku===e.cupom.sku}));if(console.log(a),-1!==a)return this.rules.validcode=["Cupom já incluso neste item!"],!1;this.$store.dispatch("addDisconts",t),H("success","Cupom ".concat(t.code," adicionado ao carrinho"))}else{var r=this.disconts.findIndex((function(t){return t.code===e.cupom.code}));if(-1!==r)return this.rules.validcode=["cupom já incluido!"],!1;if(r=this.disconts.findIndex((function(e){return!1===e.acumulate})),-1!==r)return this.rules.validcode=["já possui outro cupom não acumulativo"],!1;this.$store.dispatch("addDisconts",t),H("success","Cupom ".concat(t.code," adicionado ao carrinho"))}this.clearCupom(),this.menu=!1}catch(n){this.clearCupom(),this.rules.validcode=["já possui outro cupom não acumulativo"]}},removeCupom:function(e){this.$store.dispatch("removeDisconts",e),H("warning","Cupom ".concat(e.code," removido."))},onFocuscode:function(){this.rules.validcode=[!0],this.clearCupom()},clearCupom:function(){this.cupom={id:0,with_client:"",code:"",description:"",value:0,all_products:0,acumulate:1,percent:1,quantity:0}},isPercent:function(e){return e?"%":"R$"},valueFormat:function(e){return e.toLocaleString("pt-br",{style:"currency",currency:"BRL"})},skuFormat:function(e){return""===e.sku||"undefined"===typeof e.sku?"PARA TODOS OS PRODUTOS":e.sku}}},Zt=kt,Vt=a(7032),St=(0,ae.Z)(Zt,bt,xt,!1,null,null,null),It=St.exports;ne()(St,{VBtn:de.Z,VDataTable:ct.Z,VForm:ze.Z,VIcon:ye.Z,VSelect:Vt.Z,VTextField:Ne.Z});var At=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex flex-column align-center justify-center",attrs:{height:"100%"}},[a("v-data-table",{staticClass:"overflow-y-auto",staticStyle:{height:"29vh",width:"100%","padding-left":"3px","padding-right":"3px"},attrs:{headers:e.header,items:e.payments,"hide-default-footer":"","hide-default-header":"",id:"scroll-onPayment"},on:{"click:row":e.editPay},scopedSlots:e._u([{key:"item",fn:function(t){return[a("tr",[a("td",[a("v-icon",{attrs:{size:"15",color:"blue"},on:{click:function(a){return e.editPay(t.item)}}},[e._v("fa fa-pencil")])],1),a("td",[a("v-icon",[e._v(e._s(e.changeList(t.item.method_alias)))])],1),a("td",[e._v(e._s(t.item.method_alias))]),a("td",[e._v(e._s(e.valueFormat(t.item.method_value)))]),a("td",[a("v-icon",{attrs:{size:"15",color:"red"},on:{click:function(a){return e.removePay(t.item)}}},[e._v("fa fa-xmark")])],1)])]}}])}),a("v-divider"),a("v-form",{staticClass:"px-3 pb-7 d-flex flex-row",staticStyle:{width:"100%"},on:{submit:function(t){return t.preventDefault(),e.newPayment()}}},[a("v-select",{staticClass:"mr-3",staticStyle:{"max-width":"45%"},attrs:{label:"Forma de pagamento","hide-details":"auto","item-text":"method_alias","item-value":"method_alias",items:e.payment_method,color:"var(--primary)",id:"price",autofocus:"","prepend-icon":e.payIcon},on:{input:function(t){return e.changeIconSelect(e.onPayment.method_alias,!0)}},model:{value:e.onPayment.method_alias,callback:function(t){e.$set(e.onPayment,"method_alias",t)},expression:"onPayment.method_alias"}}),a("v-currency-field",{staticStyle:{"max-width":"40%",color:"var(--primary)"},attrs:{label:"valor",clearable:"",prefix:"R$",id:"price",color:"var(--primary)","prepend-icon":"fa fa-dollar-sign"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.newPayment(e.onPayment)}},model:{value:e.onPayment.method_value,callback:function(t){e.$set(e.onPayment,"method_value",t)},expression:"onPayment.method_value"}}),a("v-btn",{staticClass:"ml-6 mt-3",attrs:{type:"submit",color:"green",fab:"",small:""},on:{click:function(t){return e.newPayment(e.onPayment)}}},[a("v-icon",{attrs:{color:"white"}},[e._v("fa fa-plus")])],1)],1)],1)},Pt=[],Rt=(a(3210),{name:"PagamentoCard",computed:{payments:function(){return this.$store.state.cashierStore.payments},payment_method:function(){return this.$store.state.auth.cashier_session.payment_methods}},data:function(){return{icons:[{method:"Dinheiro",icon:"fa-solid fa-money-bill"},{method:"Cartão De Credito a Vista",icon:"fa-solid fa-credit-card"},{method:"Cartão De Crédito Prazo",icon:"fa-solid fa-money-check"},{method:"Cartão De Débito",icon:"fa-solid fa-money-check-dollar"},{method:"Crédito Loja",icon:"fa-solid fa-building-columns"},{method:"Carteira Digital",icon:"fa-solid fa-wallet"},{method:"cashback",icon:"fa-solid fa-rotate-left"},{method:"Pix",icon:"fa-brands fa-pix"},{method:"Crédito Funcionário",icon:"fa-solid fa-user-tag"}],header:[{text:"",align:"start",sortable:!1,value:"method_icon"},{text:"forma pgto.",value:"method"},{text:"valor(R$)",value:"valor"}],rules:{value:[function(e){return(e||e<=0).length>0||"necessário informar o valor!!"}],method:[function(e){return(e||"").length>0||"necessário informar o methodo!"}]},menu:!1,onPayment:{method_id:"",method_description:"",method_alias:"",method_issue:0,method_date:"",method_value:0,method_icon:""},payIcon:"fa fa-ban",money:{decimal:",",thousands:".",prefix:"R$ ",precision:2,masked:!1}}},methods:{newPayment:function(e){if(e.method_value>=0&&e.method_value<=1e4){var t=e.method_value,a=this.payment_method.findIndex((function(t){return t.method_alias===e.method_alias}));-1!==a?(e=this.payment_method[a],e.method_value=t,e.method_date=(new Date).toLocaleDateString(),this.$store.dispatch("addPayment",e),H("success","Pagamento ".concat(e.method_alias," no valor de ").concat(this.valueFormat(e.method_value)," adicionado")),this.onPayment={method_id:"",method_description:"",method_alias:"",method_issue:0,method_date:"",method_value:0,method_icon:""},this.menu=!1):console.log("methodo não encontrado")}else H("Pagamento inválido!"),this.onPayment={method_id:"",method_description:"",method_alias:"",method_issue:0,method_date:"",method_value:0,method_icon:""}},changeIconSelect:function(e){var t=this.icons.findIndex((function(t){return t.method===e.trim()}));-1!==t?(this.onPayment.method_icon=this.icons[t].icon,this.payIcon=this.icons[t].icon):console.log("methodo não encontrado");var a=this.payments.findIndex((function(t){return t.method_alias===e}));-1!==a?this.onPayment=Object.assign({},this.payments[a]):this.onPayment.method_value=0},changeList:function(e){var t=this.icons.findIndex((function(t){return t.method===e.trim()})),a="";return-1!==t?a=this.icons[t].icon:console.log("methodo não encontrado"),a},editPay:function(e){this.onPayment=e,this.menu=!0},removePay:function(e){this.$store.dispatch("removePayment",e)},valueFormat:function(e){return e.toLocaleString("pt-br",{style:"currency",currency:"BRL"})}},components:{}}),Et=Rt,Tt=(0,ae.Z)(Et,At,Pt,!1,null,null,null),Lt=Tt.exports;ne()(Tt,{VBtn:de.Z,VDataTable:ct.Z,VDivider:_e.Z,VForm:ze.Z,VIcon:ye.Z,VSelect:Vt.Z});var Dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-list-item",[r("v-list-item-avatar",{attrs:{rouded:"",color:"var(--backgroundLight)"}},[r("v-img",{attrs:{src:a(8061)}})],1),r("v-list-item-content",[r("v-list-item-subtitle",[e._v("Cliente "),r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,n=t.attrs;return[e.checkCustomer()?r("v-icon",{attrs:{color:"red",size:"20",title:e.cashier.forceCustomer}},[e._v(" fa-solid fa-triangle-exclamation")]):e._e(),r("v-icon",e._g(e._b({attrs:{color:"var(--primary)",size:"20",title:"Adicionar um cliente"}},"v-icon",n,!1),a),[e._v(" mdi-pencil")])]}}]),model:{value:e.menuCustomer,callback:function(t){e.menuCustomer=t},expression:"menuCustomer"}},[r("v-card",[r("v-list",[r("v-list-item",[r("v-list-item-avatar",{attrs:{rouded:"",color:"var(--primary"}},[r("v-icon",{attrs:{color:"white"}},[e._v(" "+e._s(e.newCustomer?"fa fa-user-plus":"fa fa-user"))])],1),r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(e.newCustomer?"Cadastrar Cliente":"Incluir Cliente"))])],1)],1)],1),r("v-divider"),r("v-row",{staticClass:"pa-3"},[r("v-list",[r("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:e.customerCache.document.length<=14?"###.###.###-##":"##.###.###/####-##",expression:"customerCache.document.length <= 14 ? '###.###.###-##' : '##.###.###/####-##'"}],staticClass:"pa-2",attrs:{label:"Cpf/Cnpj","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",rules:e.rules.documentValidate,type:"text",counter:"18","prepend-icon":"fa fa-id-card",autofocus:""},on:{change:function(t){return e.documentValidate(!1)}},model:{value:e.customerCache.document,callback:function(t){e.$set(e.customerCache,"document",t)},expression:"customerCache.document"}}),e.newCustomer?r("div",[r("v-text-field",{staticClass:"pa-2",attrs:{label:"Nome","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",disabled:!e.newCustomer,"prepend-icon":"fa fa-user",autofocus:""},on:{focus:function(t){e.customerCache.name=""}},model:{value:e.customerCache.name,callback:function(t){e.$set(e.customerCache,"name",t)},expression:"customerCache.name"}}),r("v-text-field",{staticClass:"pa-2",attrs:{label:"Email","hide-details":"auto",disabled:!e.newCustomer,color:"var(--primary)",type:"email","prepend-icon":"fa fa-envelope"},model:{value:e.customerCache.email,callback:function(t){e.$set(e.customerCache,"email",t)},expression:"customerCache.email"}}),r("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:e.customerCache.phone.length>13?"(##)#-####-####":"(##)####-####",expression:"customerCache.phone.length > 13 ? '(##)#-####-####' : '(##)####-####'"}],staticClass:"pa-2",attrs:{label:"Telefone(opcional)","hide-details":"auto",color:"var(--primary)",type:"text","hide-spin-buttons":"",disabled:!e.newCustomer,"prepend-icon":"fa fa-phone"},model:{value:e.customerCache.phone,callback:function(t){e.$set(e.customerCache,"phone",t)},expression:"customerCache.phone"}})],1):e._e()],1),r("v-list",[e.newCustomer?r("div",[r("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"#####-###",expression:"'#####-###'"}],staticClass:"pa-2",attrs:{label:"Cep","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",rules:e.rules.cep,type:"text",counter:"9","prepend-icon":"fa fa-envelopes-bulk"},on:{change:function(t){return e.checkGetAdressByCep()}},model:{value:e.customerCache.postal_code,callback:function(t){e.$set(e.customerCache,"postal_code",t)},expression:"customerCache.postal_code"}}),r("v-text-field",{staticClass:"pa-2",attrs:{label:"Cidade","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",type:"text","prepend-icon":"fa fa-city"},model:{value:e.customerCache.city,callback:function(t){e.$set(e.customerCache,"city",t)},expression:"customerCache.city"}}),r("v-text-field",{staticClass:"pa-2",attrs:{label:"Uf","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",counter:"2",type:"text","prepend-icon":"fa fa-earth-americas"},model:{value:e.customerCache.uf,callback:function(t){e.$set(e.customerCache,"uf",t)},expression:"customerCache.uf"}}),r("v-text-field",{staticClass:"pa-2",attrs:{label:"Bairro","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",type:"text","prepend-icon":"fa fa-tree-city"},model:{value:e.customerCache.district,callback:function(t){e.$set(e.customerCache,"district",t)},expression:"customerCache.district"}}),r("v-text-field",{staticClass:"pa-2",attrs:{label:"Logradouro","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",type:"text","prepend-icon":"fa fa-road"},model:{value:e.customerCache.street,callback:function(t){e.$set(e.customerCache,"street",t)},expression:"customerCache.street"}}),r("v-text-field",{staticClass:"pa-2",attrs:{label:"Numero","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",type:"text",counter:"10","prepend-icon":"fa fa-hashtag"},model:{value:e.customerCache.number,callback:function(t){e.$set(e.customerCache,"number",t)},expression:"customerCache.number"}})],1):e._e()])],1),r("v-list",[e.newCustomer?r("div",[e.newCustomer&&"shopping"===e.store_type?r("v-switch",{staticClass:"pl-2 pr-2",attrs:{color:"var(--primary)",label:"Funcionário de loja parceira","append-icon":"fa-solid fa-store"},model:{value:e.customer_partioner,callback:function(t){e.customer_partioner=t},expression:"customer_partioner"}}):e._e(),e.customer_partioner?r("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"##.###.###/####-##",expression:"'##.###.###/####-##'"}],staticClass:"pa-2",attrs:{label:"Cnpj da loja deste funcionário","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",rules:e.rules.validarEmprParc,type:"text",counter:"18","prepend-icon":"fa fa-id-card"},on:{change:function(t){return e.documentValidate(!0)}},model:{value:e.customerCache.store_partiner_cnpj,callback:function(t){e.$set(e.customerCache,"store_partiner_cnpj",t)},expression:"customerCache.store_partiner_cnpj"}}):e._e(),e.customer_partioner?r("v-text-field",{staticClass:"pa-2",attrs:{label:"Nome da loja","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",disabled:!e.customer_partioner,"prepend-icon":"fa-solid fa-store"},model:{value:e.customerCache.store_partiner_name,callback:function(t){e.$set(e.customerCache,"store_partiner_name",t)},expression:"customerCache.store_partiner_name"}}):e._e()],1):e._e()]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{text:""},on:{click:function(t){e.menuCustomer=!1}}},[e._v("Cancelar")]),r("v-btn",{attrs:{color:"var(--primary)",text:""},on:{click:function(t){e.newCustomer?e.saveCustomer():e.addCustomer()}}},[e._v(e._s(e.newCustomer?"cadastrar":"salvar"))])],1)],1)],1),e.btnRemoveCustomer?r("v-btn",{attrs:{plain:"",small:"",icon:""},on:{click:function(t){return e.cleanCustomer()}}},[r("v-icon",{attrs:{right:"",color:"var(--primary)"}},[e._v("fa fa-xmark")])],1):e._e()],1),r("v-list-item-title",[e._v(e._s(e.sale_customer.name))]),"undefined"!==typeof e.sale_customer.store_partiner_name||""!==e.sale_customer.store_partiner_name?r("h6",[e._v(" "+e._s(e.sale_customer.store_partiner_name))]):e._e()],1)],1)},Ft=[];a(9714);function Ot(e){return jt.apply(this,arguments)}function jt(){return jt=(0,d.Z)(regeneratorRuntime.mark((function e(t){var a,r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new Headers,a.append("Authorization","Bearer "+m.Z.get("._token")),r=JSON.stringify({document:t}),n={method:"PUT",headers:a,body:r,redirect:"follow"},e.next=6,fetch("".concat("http://143.110.228.113/ErpFashion","/customer"),n).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()})).then((function(e){return e})).catch((function(e){H("error",e.message)}));case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)}))),jt.apply(this,arguments)}function $t(e){return zt.apply(this,arguments)}function zt(){return zt=(0,d.Z)(regeneratorRuntime.mark((function e(t){var a,r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new Headers,a.append("Authorization","Bearer "+m.Z.get("._token")),r=JSON.stringify({customer:t}),n={method:"POST",headers:a,body:r,redirect:"follow"},e.next=6,fetch("".concat("http://143.110.228.113/ErpFashion","/customer"),n).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then((function(e){return e})).catch((function(e){throw new Error(e)}));case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)}))),zt.apply(this,arguments)}function Bt(e){return Nt.apply(this,arguments)}function Nt(){return Nt=(0,d.Z)(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={method:"GET",redirect:"follow"},e.next=3,fetch("http://viacep.com.br/ws/".concat(t,"/json/"),a).then((function(e){return e.json()})).catch(!1);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)}))),Nt.apply(this,arguments)}function Mt(e){var t=!0;if(""===e||"undefined"===typeof e)throw Error("documento inválido!");if(e=e.toString(),e=e.replace(/[^0-9]/g,""),11===e.length){if(!qt(e))throw Error("cpf Inválido!")}else{if(14!==e.length)throw Error("número inválido!");if(!Ht(e))throw Error("cnpj Inválido!")}return t}function qt(e){if(!e||11!=e.length||"00000000000"==e||"11111111111"==e||"22222222222"==e||"33333333333"==e||"44444444444"==e||"55555555555"==e||"66666666666"==e||"77777777777"==e||"88888888888"==e||"99999999999"==e)return!1;for(var t=0,a=0,r=1;r<=9;r++)t+=parseInt(e.substring(r-1,r))*(11-r);if(a=10*t%11,10!=a&&11!=a||(a=0),a!=parseInt(e.substring(9,10)))return!1;for(t=0,r=1;r<=10;r++)t+=parseInt(e.substring(r-1,r))*(12-r);return a=10*t%11,10!=a&&11!=a||(a=0),a==parseInt(e.substring(10,11))}function Ht(e){if(!e||14!=e.length||"00000000000000"==e||"11111111111111"==e||"22222222222222"==e||"33333333333333"==e||"44444444444444"==e||"55555555555555"==e||"66666666666666"==e||"77777777777777"==e||"88888888888888"==e||"99999999999999"==e)return!1;for(var t=e.length-2,a=e.substring(0,t),r=e.substring(t),n=0,o=t-7,s=t;s>=1;s--)n+=a.charAt(t-s)*o--,o<2&&(o=9);var i=n%11<2?0:11-n%11;if(i!=r.charAt(0))return!1;for(t+=1,a=e.substring(0,t),n=0,o=t-7,s=t;s>=1;s--)n+=a.charAt(t-s)*o--,o<2&&(o=9);return i=n%11<2?0:11-n%11,i==r.charAt(1)}var Kt={name:"ClienteVendedorCard",computed:{store_type:function(){return this.$store.state.auth.cashier_session.store.store_type},cashier:function(){return this.$store.state.cashierStore},sale_customer:function(){return this.$store.state.cashierStore.customer}},data:function(){return{loading:!1,menuCustomer:!1,newCustomer:!1,customer_partioner:!1,btnRemoveCustomer:!1,customerCache:{name:"Cliente não identificado",document:"",email:"",city:"",uf:"",postal_code:"",phone:"",type:"",street:"",number:"",district:"",store_partiner_id:"",store_partiner_name:"",store_partiner_cnpj:""},rules:{documentValidate:[!0],validarEmprParc:[!0],email:[!0],cep:[!0]}}},methods:{checkCustomer:function(){return!!this.cashier.forceCustomer},documentValidate:function(e){var t=this;return(0,d.Z)(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=e?t.customerCache.store_partiner_cnpj:t.customerCache.document,r=r.toString(),r=r.replace(/[^0-9]/g,""),a.prev=3,!Mt(r)){a.next=7;break}return a.next=7,t.checkDocumentserver(r,e);case 7:a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](3),e?t.rules.validarEmprParc=[a.t0.message]:t.rules.documentValidate=[a.t0.message];case 12:case"end":return a.stop()}}),a,null,[[3,9]])})))()},checkGetAdressByCep:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.rules.cep=[!0],t.next=3,Bt(e.customerCache.postal_code);case 3:a=t.sent,"undefined"===typeof a.cep&&(e.rules.cep=["cep inválido!"]),e.customerCache.district=a.bairro,e.customerCache.city=a.localidade,e.customerCache.uf=a.uf,e.customerCache.street=a.logradouro,e.customerCache.number="";case 10:case"end":return t.stop()}}),t)})))()},checkDocumentserver:function(e){var t=this;return(0,d.Z)(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,""===e&&null===e&&"undefined"===typeof e){a.next=8;break}return t.loading=!0,a.next=5,Ot(e);case 5:r=a.sent,r.data.data?t.customerCache=r.data.data:t.newCustomer=!0,t.loading=!1;case 8:a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](0),H("error",a.t0.message);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()},saveCustomer:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object.assign({},e.customerCache),a.document=a.document.toString(),a.document=a.document.replace(/[^0-9]/g,""),a.phone=a.phone.toString(),a.phone=a.phone.replace(/[^0-9]/g,""),a.store_partiner_cnpj=a.store_partiner_cnpj.toString(),a.store_partiner_cnpj=a.store_partiner_cnpj.replace(/[^0-9]/g,""),a.postal_code=a.postal_code.toString(),a.postal_code=a.postal_code.replace(/[^0-9]/g,""),""!==a.store_partiner_cnpj&&(a.store_partiner={name:a.store_partiner_name,cnpj:a.store_partiner_cnpj}),e.customerCache.type=e.customer_partioner?"funcionarioParceiro":"cliente",t.next=13,$t(a);case 13:e.addCustomer(),H("success","Cliente salvo.");case 15:case"end":return t.stop()}}),t)})))()},addCustomer:function(){var e=Object.assign({},this.customerCache);e.document=""===e.document?1:e.document,this.$store.dispatch("addCustomer",e),this.newCustomer=!1,this.btnRemoveCustomer=!0,this.menuCustomer=!1,H("info","Cliente informado.")},cleanCache:function(){this.customerCache={name:"Cliente não identificado",document:"",email:"",city:"",uf:"",postal_code:"",phone:"",type:"",street:"",number:"",district:"",store_partiner_id:"",store_partiner_name:"",store_partiner_cnpj:""},this.newCustomer=!1},cleanCustomer:function(){this.$store.dispatch("removeCustomer",this.customerCache),this.cleanCache(),this.newCustomer=!1,this.btnRemoveCustomer=!1,H("warning","Cliente removido.")}},mounted:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.cleanCache(),1!=e.sale_customer.document&&(e.btnRemoveCustomer=!0);case 2:case"end":return t.stop()}}),t)})))()}},Ut=Kt,Jt=a(6251),Xt=(0,ae.Z)(Ut,Dt,Ft,!1,null,null,null),Wt=Xt.exports;ne()(Xt,{VBtn:de.Z,VCard:me.Z,VCardActions:ve.h7,VDivider:_e.Z,VIcon:ye.Z,VImg:be.Z,VList:Be.Z,VListItem:xe.Z,VListItemAvatar:Ce.Z,VListItemContent:we.km,VListItemSubtitle:we.oZ,VListItemTitle:we.V9,VMenu:rt.Z,VRow:ke.Z,VSpacer:Ze.Z,VSwitch:Jt.Z,VTextField:Ne.Z});var Gt={name:"TabCaixaCard",computed:{qtdItens:function(){return this.$store.state.caixa.qtdItens}},data:function(){return{tabs:null,menuHover:[]}},mounted:function(){this._keyListener=function(e){"c"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.tabs=0),"d"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.tabs=1),"p"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.tabs=2),"k"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.tabs=3)},document.addEventListener("keydown",this._keyListener.bind(this))},beforeDestroy:function(){document.removeEventListener("keydown",this._keyListener)},components:{ItemCard:yt,DiscontCard:It,PaymentCard:Lt,CustomerCard:Wt}},Qt=Gt,Yt=a(5189),ea=a(4227),ta=a(4584),aa=a(5587),ra=a(6480),na=(0,ae.Z)(Qt,dt,mt,!1,null,null,null),oa=na.exports;ne()(na,{VCard:me.Z,VDivider:_e.Z,VHover:Yt.Z,VIcon:ye.Z,VSlideXTransition:ge.Qn,VSpacer:Ze.Z,VTab:ea.Z,VTabItem:ta.Z,VTabs:aa.Z,VTabsItems:ra.Z});var sa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"800"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({attrs:{height:"100%",width:"52%",color:"green",dark:"",disabled:!e.sale.valid_sale}},"v-btn",n,!1),r),[a("v-row",{staticClass:"text-h5 pa-10"},[e._v(" Continuar "),a("v-spacer"),a("v-icon",{attrs:{size:"30"}},[e._v("fa-solid fa-arrow-right")])],1)],1)]}},{key:"default",fn:function(t){return[a("LoadComponent",{attrs:{overlay:e.loading}}),a("v-card",[a("v-toolbar",{staticClass:"text-h5 pa-0",attrs:{color:"var(--primary)",dark:""}},[e._v("Confirmar Venda")]),a("v-card-text",{staticClass:"pa-1",attrs:{dense:""}},[[a("v-row",{staticClass:"ma-4 justify-center"},[a("v-card",{attrs:{center:"",width:"25%"}},[a("v-card-text",[a("v-icon",{staticClass:"pa-0",attrs:{size:"45",color:"var(--primary)"}},[e._v("fa fa-boxes")])],1),a("v-card-text",[a("span",[e._v("PRODUTOS")])]),a("v-card-text",[a("h3",[e._v(e._s(e.valueFormat(e.sale.products_value)))])])],1),a("v-card",{attrs:{center:"",width:"25%"}},[a("v-card-text",[a("v-icon",{staticClass:"pa-0",attrs:{size:"45",color:"var(--primary)"}},[e._v("fa fa-equals")])],1),a("v-card-text",[a("span",[e._v(" TOTAL DA VENDA")])]),a("v-card-text",[a("h3",[e._v(e._s(e.valueFormat(e.sale.total_value)))])])],1),a("v-card",{attrs:{center:"",width:"25%"}},[a("v-card-text",[a("v-icon",{staticClass:"pa-0",attrs:{size:"45",color:"var(--primary)"}},[e._v("fa fa-money-bill")])],1),a("v-card-text",[a("span",[e._v("PAGAMENTOS")])]),a("v-card-text",[a("h3",[e._v(e._s(e.valueFormat(e.sale.payments_value)))])])],1),a("v-card",{attrs:{center:"",width:"25%"}},[a("v-card-text",[a("v-icon",{staticClass:"pa-0",attrs:{size:"45",color:"var(--primary)"}},[e._v("fa-solid fa-money-bill-transfer")])],1),a("v-card-text",[a("span",[e._v("TROCO")])]),a("v-card-text",[a("h3",[e._v(e._s(e.valueFormat(e.sale.change_value)))])])],1)],1)],[a("v-expansion-panels",{staticClass:"pa-4"},[a("v-expansion-panel",[a("v-expansion-panel-header",[a("span",[e._v("Informção da Venda")])]),a("v-expansion-panel-content",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("span",[e._v("Loja: "),a("b",[e._v(e._s(e.session.store.store_name))])])]),a("v-col",{attrs:{cols:"6"}},[a("span",[e._v("Operador de caixa: "),a("b",[e._v(e._s(e.session.user_name))])])])],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("span",[e._v("Número: "),a("b",[e._v(e._s(e.session.number))])])]),a("v-col",{attrs:{cols:"6"}},[a("span",[e._v("Caixa: "),a("b",[e._v(e._s(e.session.cashier_name))])])])],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("span",[e._v("Cliente: "),a("b",[e._v(e._s(e.sale.customer.name))])])]),a("v-col",{attrs:{cols:"6"}},[a("span",[e._v("Vendedor:"),a("b",[e._v(e._s(e.sale.salesman.name))])])])],1)],1)],1),a("v-expansion-panel",[a("v-expansion-panel-header",[a("span",[e._v("Items da Venda")])]),a("v-expansion-panel-content",e._l(e.sale.items,(function(t){return a("tr",{key:t.id},[a("td",{staticClass:"pa-3"},[a("span",[a("b",[e._v(e._s(t.sku))]),a("br"),e._v(e._s(t.description))])]),a("td",{staticClass:"pa-3"},[a("span",[a("b",[e._v(e._s(t.quantity)+"und ")]),a("br"),e._v(e._s(e.valueFormat(t.value)))])]),a("td",{staticClass:"pa-3"},[a("h4",[a("b",[e._v(e._s(e.valueFormat(t.total)))])])])])})),0)],1),a("v-expansion-panel",[a("v-expansion-panel-header",[a("span",[e._v("Pagamentos da Venda")])]),a("v-expansion-panel-content",e._l(e.sale.payments,(function(t){return a("tr",{key:t.method_id},[a("td",{staticClass:"pa-3"},[a("span",[a("b",[e._v(e._s(t.method_alias))])])]),a("td",{staticClass:"pa-3"},[a("h4",[a("b",[e._v(e._s(e.valueFormat(t.method_value)))])])])])})),0)],1),a("v-expansion-panel",[a("v-expansion-panel-header",[a("span",[e._v("Descontos da Venda")])]),a("v-expansion-panel-content",e._l(e.sale.disconts,(function(t){return a("tr",{key:t.id},[a("td",{staticClass:"pa-3"},[a("span",[a("b",[e._v(e._s(t.code))])])]),a("td",{staticClass:"pa-3"},[a("span",[a("b",[e._v(e._s(t.description))])])]),a("td",{staticClass:"pa-3"},[a("h4",[a("b",[e._v(e._s(t.percent?t.value+" %":e.valueFormat(t.value)))])])])])})),0)],1)],1)]],2),a("v-card-actions",{staticClass:"justify-end"},[a("v-btn",{attrs:{dark:""},on:{click:function(e){t.value=!1}}},[e._v("Fechar "),a("v-icon",{attrs:{right:"",dark:""}},[e._v(" fa-xmark ")])],1),a("v-btn",{attrs:{color:"green",dark:""},on:{click:e.createSale}},[e._v("Finalizar "),a("v-icon",{attrs:{right:"",dark:""}},[e._v(" fa-check ")])],1)],1)],1)]}}]),model:{value:e.active,callback:function(t){e.active=t},expression:"active"}})},ia=[];function ca(e){return ua.apply(this,arguments)}function ua(){return ua=(0,d.Z)(regeneratorRuntime.mark((function e(t){var a,r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new Headers,a.append("Authorization","Bearer "+m.Z.get("._token")),r=JSON.stringify({sale:t}),n={method:"POST",headers:a,body:r,redirect:"follow"},e.next=6,fetch("".concat("http://143.110.228.113/ErpFashion","/sale"),n).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()})).then((function(e){return e})).catch((function(e){H("error",e.message)}));case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)}))),ua.apply(this,arguments)}function la(e){return da.apply(this,arguments)}function da(){return da=(0,d.Z)(regeneratorRuntime.mark((function e(t){var a,r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new Headers,a.append("Authorization","Bearer "+m.Z.get("._token")),r=JSON.stringify({getObj:t}),n={method:"PUT",headers:a,body:r,redirect:"follow"},e.next=6,fetch("".concat("http://143.110.228.113/ErpFashion","/sale"),n).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()})).then((function(e){return e})).catch((function(e){H("error",e.message)}));case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)}))),da.apply(this,arguments)}function ma(e){return va.apply(this,arguments)}function va(){return va=(0,d.Z)(regeneratorRuntime.mark((function e(t){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new Headers,a.append("Authorization","Bearer "+m.Z.get("._token")),r={method:"GET",headers:a,redirect:"follow"},e.next=5,fetch("".concat("http://143.110.228.113/ErpFashion","/sale/").concat(t),r).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()})).then((function(e){return e})).catch((function(e){H("error",e.message)}));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),va.apply(this,arguments)}function pa(e,t,a){return ha.apply(this,arguments)}function ha(){return ha=(0,d.Z)(regeneratorRuntime.mark((function e(t,a,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.store={store_id:r.store.store_id,store_name:r.store.store_name,store_abbreviation:r.store.store_abbreviation},t.cashier={cashier_id:r.cashier_id,cashier_name:r.cashier_name},t.employee_cashier={user_id:r.user_id,user_name:r.user_name},t.status={status_id:8,status_description:"Enviando",status_icon:"fa fa-rotate",status_color:"green"},t.payment_method=t.payments.lengh>1?6:t.payments[0].method_id,t.sale_date=""==t.sale_date?(0,E.Z)(new Date,"yyyy-MM-dd HH:mm:ss"):t.sale_date,t.number=""==t.number?_a(t,a,r):t.number,e.next=10,ca(t);case 10:return n=e.sent,n.data.error?(t.status="Erro",t.sys_obs=n.data.data):(t.id=n.data.data.id,t.nfce=n.data.data.nfce,t.status="Finalizada"),e.abrupt("return",t);case 15:return e.prev=15,e.t0=e["catch"](0),t.status.description="Erro",t.sys_obs=e.t0,console.log("ERRO AO CRIAR VENDA",e.t0),e.abrupt("return",t);case 21:case"end":return e.stop()}}),e,null,[[0,15]])}))),ha.apply(this,arguments)}function fa(e,t){var a=t.findIndex((function(t){return t.number===e}));return-1===a}function _a(e,t,a){var r=ga(e,a,!1),n=fa(r,t);while(!n){r=ga(e,a,r),n=fa(r,t);break}return r}function ga(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!a){var r=(0,E.Z)(new Date,"yyyyMMddkkmm");return r+=t.store.store_id,r+=t.cashier_id,r+=t.user_id,r+=e.payment_method,r+=100*e.total_value.toFixed(),r=r+"-"+t.store.store_abbreviation,r}return a=a.toString(),a=a.replace(/[^0-9]/g,""),a=parseInt(a),a+=1,a=a+"-"+t.store.store_abbreviation,a}var ya={name:"FinishSaleBt",computed:{sale:function(){return this.$store.state.cashierStore},session:function(){return this.$store.state.auth.cashier_session},sales:function(){return this.$store.state.salesStore.sales}},data:function(){return{number:"",loading:!1,active:!1}},methods:{valueFormat:function(e){return e.toLocaleString("pt-br",{style:"currency",currency:"BRL"})},createSale:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=Object.assign({},e.sale),r=Object.assign({},e.session),t.next=5,pa(a,e.sales,r);case 5:return n=t.sent,t.next=8,e.dispatchSale(n);case 8:e.active=!1,e.loading=!1,H("success","Venda registrada");case 11:case"end":return t.stop()}}),t)})))()},dispatchSale:function(e){var t=this;return(0,d.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("newSale",e);case 2:return a.next=4,t.$store.dispatch("cleanSale");case 4:case"end":return a.stop()}}),a)})))()}},components:{LoadComponent:ce}},ba=ya,xa=a(4497),Ca=a(6845),wa=a(2443),ka=a(1192),Za=a(5630),Va=a(6656),Sa=(0,ae.Z)(ba,sa,ia,!1,null,null,null),Ia=Sa.exports;ne()(Sa,{VBtn:de.Z,VCard:me.Z,VCardActions:ve.h7,VCardText:ve.ZB,VCol:fe.Z,VDialog:xa.Z,VExpansionPanel:Ca.Z,VExpansionPanelContent:wa.Z,VExpansionPanelHeader:ka.Z,VExpansionPanels:Za.Z,VIcon:ye.Z,VRow:ke.Z,VSpacer:Ze.Z,VToolbar:Va.Z});var Aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{"no-gutters":"",dense:""}},[a("v-col",{attrs:{cols:"12","align-self":"center"}},[a("v-card",{attrs:{id:"totalizadorCard"}},[a("v-card-title",[a("v-list-item-avatar",{attrs:{rouded:"",color:"var(--primary"}},[a("v-icon",{attrs:{color:"white"}},[e._v(" fa fa-equals")])],1),e._v(" Total da Venda ")],1),a("div",{staticClass:"pl-2 pr-2"},[a("v-row",{attrs:{"no-gutters":"",dense:""}},[a("v-icon",{staticClass:"pa-1",attrs:{size:"15",color:"var(--primary)"}},[e._v("fa fa-boxes")]),e._v(" Total produtos "),a("v-spacer"),e._v(e._s(e.valueFormat(e.sale.products_value)))],1),a("v-row",{attrs:{"no-gutters":"",dense:""}},[a("v-icon",{staticClass:"pa-1",attrs:{size:"15",color:"var(--primary)"}},[e._v("fa fa-ticket")]),e._v(" Total descontos "),a("v-spacer"),e._v("-"+e._s(e.valueFormat(e.sale.discont_value)))],1),a("v-divider"),a("v-row",{attrs:{"no-gutters":"",dense:""}},[a("v-icon",{staticClass:"pa-1",attrs:{size:"15",color:"var(--primary)"}},[e._v("fa fa-equals")]),a("b",[e._v("Total da venda")]),a("v-spacer"),a("b",[e._v(e._s(e.valueFormat(e.sale.total_value)))])],1),a("v-row",{attrs:{"no-gutters":"",dense:""}},[a("v-icon",{staticClass:"pa-1",attrs:{size:"15",color:"var(--primary)"}},[e._v("fa fa-money-bill")]),e._v(" Total pago "),a("v-spacer"),e._v(e._s(e.valueFormat(e.sale.payments_value)))],1),a("v-divider"),e.sale.change_value<0?a("v-row",{staticClass:"text-h4 red--text d-flex flex-row-reverse",attrs:{"no-gutters":"",color:"red",dark:"",dense:""}},[a("v-icon",{staticClass:"pa-1 ml-3",attrs:{size:"35",color:"red"}},[e._v("fa-solid fa-down-long")]),a("b",{staticClass:"pl-6"},[e._v(e._s(e.valueFormat(e.sale.change_value)))]),e._v(" à pagar ")],1):a("v-row",{staticClass:"text-h4 green--text d-flex flex-row-reverse",attrs:{"no-gutters":"",color:"green",dark:"",dense:""}},[a("v-icon",{staticClass:"pa-1 ml-3",attrs:{size:"35",color:"green"}},[e._v("fa-solid fa-up-long")]),a("b",{staticClass:"pl-6"},[e._v(e._s(e.valueFormat(e.sale.change_value)))]),e._v(" troco ")],1)],1)],1)],1)],1)},Pa=[],Ra={name:"TotalCard",computed:{sale:function(){return this.$store.state.cashierStore}},data:function(){return{colorPayment:"#d94343"}},methods:{valueFormat:function(e){return e.toLocaleString("pt-br",{style:"currency",currency:"BRL"})}}},Ea=Ra,Ta=(0,ae.Z)(Ea,Aa,Pa,!1,null,null,null),La=Ta.exports;ne()(Ta,{VCard:me.Z,VCardTitle:ve.EB,VCol:fe.Z,VDivider:_e.Z,VIcon:ye.Z,VListItemAvatar:Ce.Z,VRow:ke.Z,VSpacer:Ze.Z});var Da=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({attrs:{height:"100%",width:"15%",color:"grey",dark:"",title:"adicionar uma observação"},on:{click:e.aditObs}},"v-btn",n,!1),r),[a("v-icon",{attrs:{color:"white",size:"35"}},[e._v(" fa fa-list")])],1)]}}]),model:{value:e.menuObs,callback:function(t){e.menuObs=t},expression:"menuObs"}},[a("v-card",[a("v-list",[a("v-list-item",[a("v-list-item-avatar",{attrs:{rouded:"",color:"var(--primary"}},[a("v-icon",{attrs:{color:"white"}},[e._v(" fa fa-list")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Observação da sale")])],1)],1)],1),a("v-divider"),a("v-list",[a("v-textarea",{staticClass:"pa-2",attrs:{autofocus:"",label:"Observação","hide-details":"auto",couter:"200",color:"var(--primary)",counter:"200","prepend-icon":"fa fa-list"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveObs()}},model:{value:e.observacao,callback:function(t){e.observacao=t},expression:"observacao"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.menuObs=!1}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"var(--primary)",text:""},on:{click:function(t){return e.saveObs()}}},[e._v("salvar")])],1)],1)],1)},Fa=[],Oa={name:"ObsCard",computed:{sale:function(){return this.$store.state.cashierStore}},data:function(){return{menuObs:!1,observacao:""}},methods:{aditObs:function(){this.observacao=this.sale.obs},saveObs:function(){this.observacao.length<=200?(this.$store.dispatch("addObs",this.observacao),this.menuObs=!1,this.observacao="",H("info","Comentário adicionado.")):H("error","O comentário possui mais de 200 caracteres.")}}},ja=Oa,$a=(0,ae.Z)(ja,Da,Fa,!1,null,null,null),za=$a.exports;ne()($a,{VBtn:de.Z,VCard:me.Z,VCardActions:ve.h7,VDivider:_e.Z,VIcon:ye.Z,VList:Be.Z,VListItem:xe.Z,VListItemAvatar:Ce.Z,VListItemContent:we.km,VListItemTitle:we.V9,VMenu:rt.Z,VSpacer:Ze.Z,VTextarea:Ve.Z});var Ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({attrs:{height:"100%",width:"15%",color:"grey",dark:"",title:"troca produto"}},"v-btn",n,!1),r),[a("v-icon",{attrs:{color:"white",size:"35"}},[e._v(" fa fa-boxes-packing")])],1)]}}]),model:{value:e.changeMenu,callback:function(t){e.changeMenu=t},expression:"changeMenu"}},[a("v-card",[a("v-list",[a("v-list-item",[a("v-list-item-avatar",{attrs:{rouded:"",color:"var(--primary"}},[a("v-icon",{attrs:{color:"white"}},[e._v(" fa fa-boxes-packing")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Troca de produto")])],1)],1)],1),a("v-divider"),a("v-list",[a("v-switch",{directives:[{name:"show",rawName:"v-show",value:e.is_manager,expression:"is_manager"}],staticClass:"pa-2",attrs:{label:"troca SEM sku do produto",color:"var(--primary)"},on:{click:function(t){return e.cleanSku()}},model:{value:e.changeBySku,callback:function(t){e.changeBySku=t},expression:"changeBySku"}}),a("v-text-field",{staticClass:"pa-2",attrs:{label:"SKU do produto","hide-details":"auto",color:"var(--primary)","hide-spin-buttons":"",type:"number",counter:"13",disabled:e.changeBySku,rules:!0!==e.changeBySku?e.rules.SKU:[!0],"prepend-icon":"fa fa-box",autofocus:""},on:{change:function(t){return e.changeProductsBySku()}},model:{value:e.productChange.sku,callback:function(t){e.$set(e.productChange,"sku",t)},expression:"productChange.sku"}}),a("v-text-field",{staticClass:"pa-2",attrs:{label:"Quantidade","hide-details":"auto",type:"number",color:"var(--primary)","prepend-icon":"fa fa-boxes"},model:{value:e.productChange.quantity,callback:function(t){e.$set(e.productChange,"quantity",t)},expression:"productChange.quantity"}}),a("v-currency-field",{staticClass:"pr-2",attrs:{label:"valor",clearable:"",id:"price",prefix:"R$",color:"var(--primary)","prepend-icon":"fa fa-dollar-sign",disabled:!e.changeBySku},model:{value:e.productChange.value,callback:function(t){e.$set(e.productChange,"value",t)},expression:"productChange.value"}}),a("v-select",{staticClass:"pa-2",attrs:{items:e.justifyChange,rules:e.rules.motivo,color:"var(--primary)",label:"Motivo da troca",required:"","prepend-icon":"fa fa-question"},model:{value:e.productChange.description,callback:function(t){e.$set(e.productChange,"description",t)},expression:"productChange.description"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.changeMenu=!1}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"var(--primary)",text:""},on:{click:function(t){return e.newChange()}}},[e._v("salvar")])],1)],1)],1)},Na=[],Ma={name:"ChangeCard",computed:{is_manager:function(){return this.$store.state.auth.cashier_session.is_manager},sale:function(){return this.$store.state.cashierStore},products:function(){return this.$store.state.productStore.products}},data:function(){return{changeMenu:!1,changeBySku:!1,productChange:{with_client:"",code:"#TROC",description:"Cupom de troca do SKU: ",value:0,all_products:0,acumulate:0,percent:0,quantity:1,sku:""},justifyChange:["danificado","fora da validade","desistência do cliente"],rules:{validCodigo:[!0],validSKU:[!0],motivo:[function(e){return(e||"").length>0||"motivo obrigatório!"}],value:[function(e){return(e||0).length>0||"necessário informar o valor do produto!"}],quantidade:[function(e){return(e||0).length>0||"quantidade obrigatoria!"}],SKU:[function(e){return(e||"").length>0||"necessário informar sku do produto!"}]}}},methods:{changeProductsBySku:function(){var e=this,t=this.sale.items.findIndex((function(t){return t.sku===e.productChange.sku}));if(-1!==t){var a=this.sale.items[t].total/this.sale.items[t].quantity;this.productChange.value=a,this.productChange.description="troca referente ao SKU: "+this.sale.items[t].sku,H("success","Desconto de troca adicionado ao carrinho.")}else H("error","SKU não encontrado no carrinho."),this.rules.SKU=["sku não encontrado no carrinho."]},cleanSku:function(){this.productChange.sku=this.changeBySku?"":this.productChange.sku},newChange:function(){if(this.productChange.value>0&&this.productChange.value<=1e4){this.productChange.value=this.productChange.quantity*this.productChange.value,this.productChange.description=""===this.productChange.sku?"Cupom de troca ao produto não identificado. motivo:"+this.productChange.description:this.productChange.description;var e=Object.assign({},this.productChange);this.$store.dispatch("addDisconts",e),this.productChange={with_client:"",code:"#TROC",description:"Cupom de troca do SKU: ",value:0,all_products:0,acumulate:0,percent:0,quantity:1,sku:""},H("success","Desconto de troca adicionado ao carrinho."),this.changeMenu=!1,this.changeBySku=!1}else H("error","valor de troca inválida")}}},qa=Ma,Ha=(0,ae.Z)(qa,Ba,Na,!1,null,null,null),Ka=Ha.exports;ne()(Ha,{VBtn:de.Z,VCard:me.Z,VCardActions:ve.h7,VDivider:_e.Z,VIcon:ye.Z,VList:Be.Z,VListItem:xe.Z,VListItemAvatar:Ce.Z,VListItemContent:we.km,VListItemTitle:we.V9,VMenu:rt.Z,VSelect:Vt.Z,VSpacer:Ze.Z,VSwitch:Jt.Z,VTextField:Ne.Z});var Ua={name:"caixaPage",computed:{sale:function(){return this.$store.state.cashierStore}},methods:{onCancelOrder:function(){this.$store.dispatch("cleanSale"),H("warning","Sua venda foi limpada.")}},components:{ProductCard:lt,TabCashierSubmenu:oa,TotalCard:La,DetailSaleCard:Ia,ObsCard:za,ChangeCard:Ka}},Ja=Ua,Xa=(0,ae.Z)(Ja,He,Ke,!1,null,null,null),Wa=Xa.exports;ne()(Xa,{VBtn:de.Z,VCol:fe.Z,VIcon:ye.Z,VListItem:xe.Z,VListItemAvatar:Ce.Z,VListItemContent:we.km,VRow:ke.Z,VSpacer:Ze.Z});var Ga=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"basePage"},[a("v-row",{attrs:{"no-gutters":"",dense:""}},[a("v-col",{attrs:{cols:"cols-10","align-self":"center"}},[a("v-list-item",[a("v-list-item-avatar",{attrs:{rouded:"",color:"var(--primary"}},[a("v-icon",{attrs:{color:"white"}},[e._v(" mdi-cart-check")])],1),a("v-list-item-content",[a("h1",{staticClass:"white--text"},[e._v("FECHAMENTOS DE CAIXA")])])],1)],1),a("v-col",[a("v-row",{staticClass:"d-flex flex-row-reverse pr-5 pt-3"},[a("NewClosureForm"),a("NewWithdrawalForm")],1)],1)],1),a("div",{staticStyle:{height:"100%"},attrs:{id:"exemplo"}},[a("ClosureList")],1)],1)},Qa=[],Ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"1000"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"ma-3 pa-3",attrs:{color:"green",dark:"",rounded:"",fab:"",title:"Realizar novo fechamento de caixa"}},"v-btn",n,!1),r),[a("v-icon",{attrs:{size:"35"}},[e._v("fa-solid fa-check")])],1)]}}]),model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[[a("LoadComponent",{attrs:{overlay:e.loading}}),a("v-stepper",{attrs:{vertical:""},model:{value:e.e6,callback:function(t){e.e6=t},expression:"e6"}},[a("v-list-item-subtitle",{staticClass:"text-h4 d-flex justify-center align-center pa-4"},[a("v-icon",{staticClass:"pr-5",attrs:{size:"40",color:"var(--primary)",title:"Fechamento não verificado"}},[e._v(" mdi-cart-check")]),a("b",[e._v("Novo Fechamento")])],1),a("v-divider",{staticClass:"mr-3 ml-3"}),e._l(e.payments,(function(t,r){return a("div",{key:r},[a("v-stepper-step",{staticClass:"d-flex justify-center",attrs:{complete:e.e6>r,step:r,color:"var(--primary)"},on:{click:function(t){e.e6=r}}},[a("h4",[e._v(e._s(t.method_alias)),a("h4",{staticClass:"text-right"},[e._v(" "+e._s(e.valueFormat(e.closure_cache[t.method_alias])))])])]),a("v-stepper-content",{attrs:{step:r}},[a("v-card",{staticClass:"mb-12 d-flex justify-center flex-column",attrs:{color:"var(--backgroundLight)",height:"150px"}},[a("v-list-item-subtitle",{staticClass:"text-h4 d-flex justify-center align-center"},[a("v-icon",{staticClass:"ma-3",attrs:{size:"40",color:"var(--primary)"}},[e._v(" "+e._s(e.getPaymentIcon(t.method_alias)))]),e._v(" "+e._s(t.method_alias)+" ")],1),a("v-currency-field",{staticClass:"pr-2 pl-4",attrs:{label:"valor",autofocus:"",clearable:"",prefix:"R$",color:"var(--primary)","prepend-icon":"fa fa-dollar-sign",rule:"value"},nativeOn:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.stepCalculate()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.stepCalculate()}]},model:{value:e.closure_cache[t.method_alias],callback:function(a){e.$set(e.closure_cache,t.method_alias,a)},expression:"closure_cache[method.method_alias]"}})],1),a("v-btn",{attrs:{color:"var(--primary)",dark:""},on:{click:function(a){return e.stepCalculate(t,e.e6,r)}}},[e._v("Próximo")]),a("v-btn",{attrs:{text:""}},[e._v("Cancel")])],1)],1)})),a("v-text-field",{staticClass:"pa-2",attrs:{autofocus:e.e6==e.steps,label:"observação:","hide-details":"auto",color:"var(--primary)","prepend-icon":"fa fa-note-sticky"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.stepCalculate()}},model:{value:e.closure_cache["obs"],callback:function(t){e.$set(e.closure_cache,"obs",t)},expression:"closure_cache['obs']"}}),e.finished?a("div",{staticClass:"d-flex flex-row-reverse pr-5"},[a("v-btn",{attrs:{color:"green",dark:""},on:{click:function(t){return e.createClosure()}}},[e._v("Finalizar"),a("v-icon",{staticClass:"pl-5",attrs:{size:"25"}},[e._v("fa-solid fa-check")])],1),a("v-btn",{attrs:{text:""},on:{click:function(t){e.active=!e.active}}},[e._v("Cancel")])],1):e._e()],2)]],2)},er=[];function tr(){return ar.apply(this,arguments)}function ar(){return ar=(0,d.Z)(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new Headers,t.append("Authorization","Bearer "+m.Z.get("._token")),a={method:"GET",headers:t,redirect:"follow"},e.next=5,fetch("".concat("http://143.110.228.113/ErpFashion","/closure"),a).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()})).then((function(e){return e.data})).catch((function(e){H("error",e.message)}));case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)}))),ar.apply(this,arguments)}function rr(e){return nr.apply(this,arguments)}function nr(){return nr=(0,d.Z)(regeneratorRuntime.mark((function e(t){var a,r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new Headers,a.append("Authorization","Bearer "+m.Z.get("._token")),r=JSON.stringify(t),n={method:"POST",headers:a,body:r,redirect:"follow"},e.next=6,fetch("".concat("http://143.110.228.113/ErpFashion","/closure"),n).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()})).then((function(e){return e.data.data})).catch((function(e){H("error",e.message)}));case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)}))),nr.apply(this,arguments)}var or={name:"NewClosureForm",computed:{methods_computed:function(){return this.$store.state.auth.cashier_session.payment_methods},cashier_session:function(){return this.$store.state.auth.cashier_session}},data:function(){return{number:"",loading:!1,active:!1,finished:!1,closure_cache:[],payments:[],e6:0,steps:0,rules:{value:[function(e){return(e||e<=0).length>0||"necessário informar o valor!!"}]},icons:[{method:"Dinheiro",icon:"fa-solid fa-money-bill"},{method:"Cartão De Credito a Vista",icon:"fa-solid fa-credit-card"},{method:"Cartão De Crédito Prazo",icon:"fa-solid fa-money-check"},{method:"Cartão De Débito",icon:"fa-solid fa-money-check-dollar"},{method:"Crédito Loja",icon:"fa-solid fa-building-columns"},{method:"Carteira Digital",icon:"fa-solid fa-wallet"},{method:"cashback",icon:"fa-solid fa-rotate-left"},{method:"Pix",icon:"fa-brands fa-pix"},{method:"Crédito Funcionário",icon:"fa-solid fa-user-tag"}]}},methods:{valueFormat:function(e){if("number"===typeof e)return e.toLocaleString("pt-br",{style:"currency",currency:"BRL"})},getPaymentIcon:function(e){var t=this.icons.findIndex((function(t){return t.method===e.trim()}));return-1!==t?this.icons[t].icon:"fa fa-triangle-exclamation"},stepCalculate:function(){this.e6++,this.e6===this.steps&&(this.finished=!0),this.e6>this.steps&&this.createClosure()},getPaymentByAlias:function(e){var t=this.payments.findIndex((function(t){return t.method_alias===e}));return-1!==t&&this.payments[t]},createClosure:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){var a,r,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(o in e.loading=!0,a="undefined"===typeof e.closure_cache["obs"]?"":e.closure_cache["obs"],r={closure_type:!1,ref_date:(0,E.Z)(new Date,"yyyy-MM-dd"),cashier:e.cashier_session.cashier_id,store:e.cashier_session.store.store_id,obs:a},delete e.closure_cache["obs"],n=[],e.closure_cache)n.push({payment_method:e.getPaymentByAlias(o).method_id,value:e.closure_cache[o],quantity:0});return r.closure_payment_method=n,t.next=9,rr(r);case 9:e.active=!1,e.loading=!1;case 11:case"end":return t.stop()}}),t)})))()},findRemovePayment:function(e){var t=this.payments.findIndex((function(t){return t.method_id===e}));-1!==t&&this.payments.splice(t,1)}},beforeMount:function(){var e=this;this.loading=!0;var t=[7,5];this.payments=Object.assign(this.methods_computed),t.forEach((function(t){e.findRemovePayment(t)})),this.e6=0,this.closure_cache=[],this.steps=this.payments.length,this.loading=!1},components:{LoadComponent:ce}},sr=or,ir=a(3446),cr=a(8937),ur=a(8975),lr=(0,ae.Z)(sr,Ya,er,!1,null,null,null),dr=lr.exports;ne()(lr,{VBtn:de.Z,VCard:me.Z,VDialog:xa.Z,VDivider:_e.Z,VIcon:ye.Z,VListItemSubtitle:we.oZ,VStepper:ir.Z,VStepperContent:cr.Z,VStepperStep:ur.Z,VTextField:Ne.Z});var mr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"800"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"ma-3 pa-3",attrs:{color:"red",dark:"",fab:"",title:"salvar uma nova sangria"}},"v-btn",n,!1),r),[a("v-icon",{attrs:{size:"35"}},[e._v("fa-solid fa-money-bill-transfer")])],1)]}}]),model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[[a("v-card",[a("v-list-item-subtitle",{staticClass:"text-h4 d-flex justify-center align-center pa-4"},[a("v-icon",{staticClass:"pr-5",attrs:{size:"40",color:"var(--primary)",title:"Fechamento não verificado"}},[e._v(" fa-solid fa-money-bill-transfer")]),a("b",[e._v("Nova Sangria de Caixa")])],1),a("v-divider",{staticClass:"mr-3 ml-3"}),a("div",{staticClass:"pa-6"},[a("v-select",{staticClass:"pa-2",attrs:{label:"Motivo da sangria",autofocus:"","hide-details":"auto","item-text":"name","item-value":"id",color:"var(--primary)",items:e.accounts,hint:e.hint,"prepend-icon":"fa fa-table-list",rules:e.rules.account,"persistent-hint":""},on:{change:function(t){return e.changeAccount()}},model:{value:e.account,callback:function(t){e.account=t},expression:"account"}}),a("v-currency-field",{staticClass:"pr-2 pl-1",attrs:{label:"valor",clearable:"",prefix:"R$",id:"price",color:"var(--primary)","text-color":"var(--primary)","prepend-icon":"fa fa-dollar-sign"},model:{value:e.withdrawal_cache["value"],callback:function(t){e.$set(e.withdrawal_cache,"value",t)},expression:"withdrawal_cache['value']"}}),a("v-text-field",{staticClass:"pa-2",attrs:{label:"Observação","hide-details":"auto",color:"var(--primary)","prepend-icon":"fa fa-note-sticky"},model:{value:e.withdrawal_cache["obs"],callback:function(t){e.$set(e.withdrawal_cache,"obs",t)},expression:"withdrawal_cache['obs']"}})],1),a("div",{staticClass:"d-flex flex-row-reverse pa-5"},[a("v-btn",{attrs:{color:"green",dark:""},on:{click:function(t){return e.createWithdrawal()}}},[e._v("Finalizar"),a("v-icon",{staticClass:"pl-5",attrs:{size:"25"}},[e._v("fa-solid fa-check")])],1),a("v-btn",{attrs:{text:""},on:{click:function(t){e.active=!e.active}}},[e._v("Cancel")])],1)],1)]],2)},vr=[];function pr(){return hr.apply(this,arguments)}function hr(){return hr=(0,d.Z)(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new Headers,t.append("Authorization","Bearer "+m.Z.get("._token")),a={method:"GET",headers:t,redirect:"follow"},e.next=5,fetch("".concat("http://143.110.228.113/ErpFashion","/withdrawal/accounts"),a).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()})).then((function(e){return e.data.data})).catch((function(e){H("error",e.message)}));case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)}))),hr.apply(this,arguments)}function fr(e){return _r.apply(this,arguments)}function _r(){return _r=(0,d.Z)(regeneratorRuntime.mark((function e(t){var a,r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new Headers,a.append("Authorization","Bearer "+m.Z.get("._token")),r=JSON.stringify(t),n={method:"POST",headers:a,body:r,redirect:"follow"},e.next=6,fetch("".concat("http://143.110.228.113/ErpFashion","/withdrawal"),n).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()})).then((function(e){return e.data.data})).catch((function(e){H("error",e.message)}));case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)}))),_r.apply(this,arguments)}function gr(e){return yr.apply(this,arguments)}function yr(){return yr=(0,d.Z)(regeneratorRuntime.mark((function e(t){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new Headers,a.append("Authorization","Bearer "+m.Z.get("._token")),r={method:"DELETE",headers:a,redirect:"follow"},e.next=5,fetch("".concat("http://143.110.228.113/ErpFashion","/withdrawal/").concat(t),r).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()})).then((function(e){return e.data.data})).catch((function(e){H("error",e.message)}));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),yr.apply(this,arguments)}var br={name:"NewWithdrawalForm",computed:{methods:function(){return this.$store.state.auth.cashier_session.payment_methods},cashier_session:function(){return this.$store.state.auth.cashier_session}},data:function(){return{number:"",loading:!1,active:!1,accounts:[],hint:"",account:[],withdrawal_cache:[],rules:{value:[function(e){return(e||e<=0||"undefined"===typeof e).length>0||"necessário informar o valor!!"}],account:[function(e){return(e||e<=0).length>0||"necessário informar a conta!"}]},icons:[{method:"Dinheiro",icon:"fa-solid fa-money-bill"},{method:"Cartão De Credito a Vista",icon:"fa-solid fa-credit-card"},{method:"Cartão De Crédito Prazo",icon:"fa-solid fa-money-check"},{method:"Cartão De Débito",icon:"fa-solid fa-money-check-dollar"},{method:"Crédito Loja",icon:"fa-solid fa-building-columns"},{method:"Carteira Digital",icon:"fa-solid fa-wallet"},{method:"cashback",icon:"fa-solid fa-rotate-left"},{method:"Pix",icon:"fa-brands fa-pix"},{method:"Crédito Funcionário",icon:"fa-solid fa-user-tag"}]}},methods:{validLabel:function(){console.log(this.withdrawal_cache["value"])},valueFormat:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("number"===typeof e)return e.toLocaleString("pt-br",{style:"currency",currency:"BRL"})},changeAccount:function(){var e=this,t=this.accounts.findIndex((function(t){return t.id===e.account}));return-1!==t&&(this.withdrawal_cache["account"]=this.accounts[t],this.hint="".concat(this.withdrawal_cache["account"]["number"]," - ").concat(this.withdrawal_cache["account"]["name"]," -> ").concat(this.withdrawal_cache["account"]["description"])),"fa fa-triangle-exclamation"},getMethodId:function(e){var t=this.methods.findIndex((function(t){return t.method_alias===e}));if(-1!==t)return this.methods[t].method_id},createWithdrawal:function(){var e={id:"",ref_date:(0,E.Z)(new Date,"yyyy-MM-dd"),value:this.withdrawal_cache.value,obs:"undefined"===typeof this.withdrawal_cache.obs?"":this.withdrawal_cache.obs,cashier:this.cashier_session.cashier_id,store:this.cashier_session.store.store_id,payment_method:this.getMethodId("Dinheiro"),withdrawal_account:this.withdrawal_cache["account"]["id"],user:this.cashier_session.user_id};fr(e),this.withdrawal_cache=[],this.active=!1}},beforeMount:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,pr();case 3:e.accounts=t.sent,e.loading=!1;case 5:case"end":return t.stop()}}),t)})))()}},xr=br,Cr=(0,ae.Z)(xr,mr,vr,!1,null,null,null),wr=Cr.exports;ne()(Cr,{VBtn:de.Z,VCard:me.Z,VDialog:xa.Z,VDivider:_e.Z,VIcon:ye.Z,VListItemSubtitle:we.oZ,VSelect:Vt.Z,VTextField:Ne.Z});var kr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{staticClass:"pt-5",attrs:{"no-gutters":"",dense:""}},[a("LoadComponent",{attrs:{overlay:e.loading}}),a("v-sheet",{staticClass:"mx-auto",staticStyle:{background:"none"},attrs:{height:"100%",width:"100%","min-width":"100%",dark:""}},[a("v-slide-group",{attrs:{"center-active":"","show-arrows":""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.closures,(function(t,r){return a("v-slide-item",{key:r,attrs:{color:"white"},scopedSlots:e._u([{key:"default",fn:function(n){var o=n.toggle;return[a("v-card",{staticClass:"ma-1",attrs:{height:"650",width:"400","min-height":"650",light:""},on:{click:o}},[a("div",{staticStyle:{width:"100%",background:"var(--primary)"}},[a("v-list-item-content",{staticClass:"mb-2"},[a("v-list-item-title",{staticClass:"text-h5 white--text d-flex justify-center align-center"},[a("v-btn",{staticClass:"mr-3",attrs:{color:"white",fab:"",small:"",elevation:"0"}},[a("v-icon",{attrs:{size:"30",color:"var(--primary)"}},[e._v("fa-regular fa-calendar-days")])],1),e._v(" "+e._s(e.convertDate(r))+" "),t.verify?a("v-btn",{staticClass:"ml-3",attrs:{color:"white",fab:"",small:"","x-small":"",elevation:"0"}},[a("v-icon",{attrs:{size:"25",color:"green",title:"Fechamento Verificado"}},[e._v(" fa fa-check")])],1):a("v-btn",{staticClass:"ml-3",attrs:{color:"white",fab:"",small:"","x-small":"",elevation:"0"}},[a("v-icon",{attrs:{size:"25",color:"red",title:"Fechamento não verificado"}},[e._v(" fa fa-ban")])],1)],1)],1),a("v-tabs",{staticClass:"d-flex justify-center",attrs:{"background-color":"var(--primary)",color:"white"},model:{value:e.tab[r],callback:function(t){e.$set(e.tab,r,t)},expression:"tab[day]"}},[a("v-tab",[e._v("Total")]),a("v-tab",[e._v("Por Caixa")]),a("v-tab",[e._v("Sangrias")])],1)],1),a("v-tabs-items",{attrs:{height:"100%",width:"100%"},model:{value:e.tab[r],callback:function(t){e.$set(e.tab,r,t)},expression:"tab[day]"}},[a("v-tab-item",[a("v-divider"),a("div",{staticClass:"d-flex flex-row align-center px-2 "},[a("v-list-item-title",[e._v("Forma Pgto.")]),a("v-list-item-title",{staticClass:"text-center"},[e._v("Informado")]),t.verify?a("v-list-item-title",{staticClass:"text-right"},[e._v("Calculado")]):e._e()],1),a("v-divider"),a("v-list",{staticClass:"transparent overflow-y-auto px-2"},e._l(t.totals,(function(r,n){return a("div",{key:n,staticClass:"d-flex flex-row align-center",attrs:{title:n}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(e.getPaymentIcon(n)))])],1),a("v-list-item-title",[e._v(e._s(n))]),a("v-list-item-title",{staticClass:"text-center "},[a("b",[e._v(e._s(e.valueFormat(r.reported)))])]),t.verify?a("v-list-item-title",{staticClass:"text-right "},[a("b",[e._v(e._s(e.valueFormat(r.calculated)))])]):e._e()],1)})),0)],1),a("v-tab-item",[a("v-carousel",{attrs:{"show-arrows-on-hover":"","hide-delimiter-background":"","hide-delimiters":""},scopedSlots:e._u([{key:"prev",fn:function(t){var r=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({attrs:{color:"var(--primary)",fab:"",small:"",title:"caixa anterior"}},"v-btn",n,!1),r),[a("v-icon",[e._v("fa-solid fa-chevron-left")])],1)]}},{key:"next",fn:function(t){var r=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({attrs:{color:"var(--primary)",fab:"",small:"",title:"proximo caixa"}},"v-btn",n,!1),r),[a("v-icon",[e._v("fa-solid fa-chevron-right")])],1)]}}],null,!0)},e._l(t.closures,(function(t,r){return a("v-carousel-item",{key:r},[a("v-list-item",{staticClass:" d-flex justify:center align-center"},[a("v-list-item-subtitle",{staticClass:"text-h5 d-flex justify-center align-center "},[a("div",{staticClass:" d-flex justify:center align-center "},[e._v(" "+e._s(t.cashier_name)+" "),t.verify?a("v-icon",{staticClass:"ml-3",attrs:{size:"15",color:"green",title:"Fechamento Verificado"}},[e._v(" fa fa-check")]):a("v-icon",{staticClass:"ml-1",attrs:{size:"15",color:"red",title:"Fechamento não verificado"}},[e._v(" fa fa-ban")])],1)])],1),a("br"),a("h6",{staticClass:"d-flex flex-row-reverse pr-2"},[e._v("por: "+e._s(t.user_name))]),a("v-list",{staticClass:"transparent overflow-y-auto mg-0 pa-0"},[a("div",{staticClass:"d-flex flex-row align-center px-2"},[a("v-list-item-title",[e._v("Forma Pgto.")]),a("v-list-item-title",{staticClass:"text-center"},[e._v("Informado")]),t.verify?a("v-list-item-title",{staticClass:"text-right"},[e._v("Calculado")]):e._e()],1),a("v-divider"),e._l(t.closure_payment_method,(function(r,n){return a("div",{key:n,staticClass:"d-flex flex-row align-center px-2",attrs:{title:r.payment_alias}},[a("v-list-item-icon",[a("v-icon",{attrs:{title:"Forma de Pagamento "+r.payment_alias}},[e._v(e._s(e.getPaymentIcon(r.payment_alias)))])],1),a("v-list-item-title",[e._v(e._s(r.payment_alias))]),a("v-list-item-subtitle",{staticClass:"text-center"},[a("b",[e._v(e._s(e.valueFormat(r.reported_value)))])]),t.verify?a("v-list-item-subtitle",{staticClass:"text-right"},[e._v(e._s(e.valueFormat(r.calculated_value)))]):e._e()],1)})),a("v-divider"),t.obs?a("h6",{staticClass:"d-flex justify-left align-center"},[a("v-icon",{staticClass:"ma-3",attrs:{size:"20",color:"var(--primary)",title:"Fechamento não verificado"}},[e._v(" fa fa-note-sticky")]),e._v(" Observação:"),a("br"),e._v(e._s(e.obsListener(t.obs))+" ")],1):e._e()],2)],1)})),1)],1),a("v-tab-item",[a("v-list",{staticClass:" overflow-y-auto mg-0 pa-0 "},[a("div",{staticClass:"d-flex flex-row align-center px-2"},[a("v-list-item-title",{staticClass:"text-left"},[e._v("Conta")]),a("v-list-item-title",{staticClass:"text-right"},[e._v("Valor")])],1),a("v-divider"),e._l(t.withdrawal,(function(t,r){return a("div",{key:r,staticClass:"d-flex flex-row align-center px-2",attrs:{title:t.withdrawal_account.withdrawal_description}},[a("v-list-item-icon",[a("v-icon",{attrs:{color:"red",title:"apagar sangria"},on:{click:function(a){return e.removeWithdrawal(t)}}},[e._v("fa-solid fa-xmark")])],1),a("v-list-item-icon",[a("v-icon",[e._v("fa fa-receipt")])],1),a("v-list-item-title",[e._v(e._s(t.withdrawal_account.withdrawal_number)),a("br"),e._v(e._s(t.withdrawal_account.withdrawal_name))]),a("v-list-item-subtitle",{staticClass:"text-right"},[a("b",[e._v(e._s(e.valueFormat(t.value)))])])],1)}))],2)],1)],1),a("v-row",{staticClass:"fill-height",attrs:{align:"center",justify:"center"}})],1)]}}],null,!0)})})),1)],1)],1)},Zr=[],Vr={name:"ClosureList",computed:{is_manager:function(){return this.$store.state.auth.cashier_session.is_manager}},data:function(){return{loading:!1,closures:[],tab:[],refDate:null,check_cashier:!1,error:!1,obs:"",model:null,icons:[{method:"Dinheiro",icon:"fa-solid fa-money-bill"},{method:"Cartão De Credito a Vista",icon:"fa-solid fa-credit-card"},{method:"Cartão De Crédito Prazo",icon:"fa-solid fa-money-check"},{method:"Cartão De Débito",icon:"fa-solid fa-money-check-dollar"},{method:"Crédito Loja",icon:"fa-solid fa-building-columns"},{method:"Carteira Digital",icon:"fa-solid fa-wallet"},{method:"cashback",icon:"fa-solid fa-rotate-left"},{method:"Pix",icon:"fa-brands fa-pix"},{method:"Crédito Funcionário",icon:"fa-solid fa-user-tag"}]}},methods:{updateClosure:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,tr();case 3:a=t.sent,"string"===typeof a?H("error",a):e.closures=a.data,e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()},setDate:function(e){this.refDate=e},getStore:function(e){return e.closures[0].store},getCashier:function(e){return e.closures[0].cashier},obsListener:function(e){return e},convertDate:function(e){return e+=" 12:00",(0,E.Z)(new Date(e),"dd/MM/yyyy")},valueFormat:function(e){if("number"===typeof e)return e.toLocaleString("pt-br",{style:"currency",currency:"BRL"})},removeWithdrawal:function(e){var t=this.closures[e.ref_date].withdrawal.findIndex((function(t){return t.id===e.id}));if(-1!==t){var a=gr(e.id);if(a)return this.closures[e.ref_date].withdrawal.splice(t,1)}else console.log("methodo não encontrado");console.log(this.closures[e.ref_date].withdrawal,e)},getPaymentIcon:function(e){var t=this.icons.findIndex((function(t){return t.method===e.trim()}));if(-1!==t)return this.icons[t].icon;console.log("methodo não encontrado")},focus:function(){console.log(this.updateClosure())}},beforeMount:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.updateClosure();case 2:case"end":return t.stop()}}),t)})))()},components:{LoadComponent:ce}},Sr=Vr,Ir=a(459),Ar=a(3385),Pr=a(7955),Rr=a(4820),Er=(0,ae.Z)(Sr,kr,Zr,!1,null,null,null),Tr=Er.exports;ne()(Er,{VBtn:de.Z,VCard:me.Z,VCarousel:pe.Z,VCarouselItem:he.Z,VDivider:_e.Z,VIcon:ye.Z,VList:Be.Z,VListItem:xe.Z,VListItemContent:we.km,VListItemIcon:Ir.Z,VListItemSubtitle:we.oZ,VListItemTitle:we.V9,VRow:ke.Z,VSheet:Ar.Z,VSlideGroup:Pr.ZP,VSlideItem:Rr.Z,VTab:ea.Z,VTabItem:ta.Z,VTabs:aa.Z,VTabsItems:ra.Z});var Lr={name:"ClosurePage",components:{NewClosureForm:dr,NewWithdrawalForm:wr,ClosureList:Tr}},Dr=Lr,Fr=(0,ae.Z)(Dr,Ga,Qa,!1,null,null,null),Or=Fr.exports;ne()(Fr,{VCol:fe.Z,VIcon:ye.Z,VListItem:xe.Z,VListItemAvatar:Ce.Z,VListItemContent:we.km,VRow:ke.Z});var jr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"basePage"},[a("v-row",{staticStyle:{"max-height":"20%"},attrs:{"no-gutters":"",dense:""}},[a("v-col",{attrs:{cols:"auto","align-self":"center"}},[a("v-list-item",[a("v-list-item-avatar",{attrs:{rouded:"",color:"var(--primary"}},[a("v-icon",{attrs:{color:"white"}},[e._v(" fa fa-cart-arrow-down")])],1),a("v-list-item-content",[a("h1",{staticClass:"white--text"},[e._v("Vendas")])])],1)],1)],1),a("SalesCard")],1)},$r=[],zr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",[a("v-card-title",[a("v-list-item-avatar",{attrs:{rouded:"",color:"var(--primary"}},[a("v-icon",{attrs:{color:"white"}},[e._v(" fa fa-search")])],1),e._v(" Procurar Venda "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"procurar...","single-line":"",dense:"",autofocus:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-card-text",[a("LoadComponent",{attrs:{overlay:e.loading}}),e.to_sync_sales?a("v-data-table",{staticClass:"overflow-y-auto pb-0 mb-0",staticStyle:{height:"30vh","padding-left":"3px","padding-right":"3px"},attrs:{items:e.to_sync_sales,search:e.search,headers:e.header,"fixed-header":"","calculate-widths":"",dense:"","no-data-text":"Não há registros de venda","no-results-text":"resultado não encontrado",sortBy:"sale_date",sortDesc:!0,"hide-default-footer":"","items-per-page":-1},on:{"click:row":function(t){return e.detailSale()}},scopedSlots:e._u([{key:"item",fn:function(t){return[a("tr",[a("td",[a("v-btn",{staticClass:"ma-1",attrs:{elevation:"3",icon:"",color:"red",outlined:"",title:"Cancelar venda"}},[a("v-icon",{attrs:{size:"20"}},[e._v("fa fa-xmark ")])],1),a("v-btn",{staticClass:"ma-1",attrs:{elevation:"3",icon:"",color:"green",outlined:"",title:"imprimir Nfc-e"},on:{click:function(a){return e.openInvoice(t.item)}}},[a("v-icon",{attrs:{size:"20"}},[e._v("fa fa-receipt ")])],1),"Erro"===t.item.status?a("v-btn",{staticClass:"ma-1",attrs:{elevation:"3",icon:"",color:"blue",outlined:"",title:"Re-sincronizar"},on:{click:function(a){return e.reSendSale(t.item)}}},[a("v-icon",{attrs:{size:"20"}},[e._v("fa fa-rotate")])],1):e._e(),"Erro"===t.item.status?a("v-btn",{staticClass:"ma-1",attrs:{elevation:"3",icon:"",color:"red",outlined:"",title:"Informar bug na venda"}},[a("v-icon",{attrs:{size:"20"}},[e._v("fa-solid fa-bug")])],1):e._e()],1),a("td",[e._v("id:"+e._s(t.item.id)),a("br"),a("b",[e._v(e._s(t.item.number))])]),a("td",[e._v(e._s(e.dateFormat(t.item.sale_date)))]),a("td",[e._v(e._s(t.item.cashier.cashier_name))]),a("td",[e._v(e._s(t.item.employee_cashier.user_name))]),a("td",[e._v(e._s(t.item.salesman.name))]),a("td",[e._v(e._s(t.item.customer.name))]),a("td",[a("v-chip",{staticClass:"ma-1",attrs:{title:e.formatPaymentMethod(t.item)?t.item.payment_method:"Forma de pagamento não disponível na data atual",color:"var(--primary)",outlined:""}},[e._v(" "+e._s(e.formatPaymentMethod(t.item)?e.formatPaymentMethod(t.item):"????????"))])],1),a("td",[e._v(e._s(e.valueFormat(t.item.discont_value)))]),a("td",[e._v(e._s(e.valueFormat(t.item.total_value)))]),a("td",{staticClass:"justify-center"},[a("v-btn",{staticClass:"ma-1",attrs:{elevation:"2",icon:"",title:e.setTitle(t.item),color:t.item.status.status_color,outlined:""}},[a("v-icon",{attrs:{size:"20"}},[e._v(" "+e._s(t.item.status.status_icon))])],1)],1)])]}}],null,!1,1468375529)}):e._e(),a("v-data-table",{staticClass:"overflow-y-auto",staticStyle:{"padding-left":"3px","padding-right":"3px"},style:{height:e.to_sync_sales?"50vh":"80vh"},attrs:{items:e.sales,search:e.search,headers:e.header,"fixed-header":"","calculate-widths":"",dense:"",sortBy:"sale_date",sortDesc:!0,"hide-default-footer":"","items-per-page":-1},on:{"click:row":function(t){return e.detailSale()}},scopedSlots:e._u([{key:"item",fn:function(t){return[a("tr",[a("td",[a("v-btn",{staticClass:"ma-1",attrs:{elevation:"3",icon:"",color:"red",outlined:"",title:"Cancelar venda"}},[a("v-icon",{attrs:{size:"20"}},[e._v("fa fa-xmark ")])],1),a("v-btn",{staticClass:"ma-1",attrs:{elevation:"3",icon:"",color:"green",outlined:"",title:"imprimir Nfc-e"},on:{click:function(a){return e.openInvoice(t.item)}}},[a("v-icon",{attrs:{size:"20"}},[e._v("fa fa-receipt ")])],1),"Erro"===t.item.status?a("v-btn",{staticClass:"ma-1",attrs:{elevation:"3",icon:"",color:"blue",outlined:"",title:"Re-sincronizar"},on:{click:function(a){return e.reSendSale(t.item)}}},[a("v-icon",{attrs:{size:"20"}},[e._v("fa fa-rotate")])],1):e._e(),"Erro"===t.item.status?a("v-btn",{staticClass:"ma-1",attrs:{elevation:"3",icon:"",color:"red",outlined:"",title:"Informar bug na venda"}},[a("v-icon",{attrs:{size:"20"}},[e._v("fa-solid fa-bug")])],1):e._e()],1),a("td",[e._v("id:"+e._s(t.item.id)),a("br"),a("b",[e._v(e._s(t.item.number))])]),a("td",[e._v(e._s(e.dateFormat(t.item.sale_date)))]),a("td",[e._v(e._s(t.item.cashier.cashier_name))]),a("td",[e._v(e._s(t.item.employee_cashier.user_name))]),a("td",[e._v(e._s(t.item.salesman.name))]),a("td",[e._v(e._s(t.item.customer.name))]),a("td",[a("v-chip",{attrs:{title:e.formatPaymentMethod(t.item)?t.item.payment_method:"Forma de pagamento não disponível na data atual",color:"var(--primary)",outlined:""}},[e._v(" "+e._s(e.formatPaymentMethod(t.item)?e.formatPaymentMethod(t.item):"????????"))])],1),a("td",[e._v(e._s(e.valueFormat(t.item.discont_value)))]),a("td",[e._v(e._s(e.valueFormat(t.item.total_value)))]),a("td",{staticClass:"justify-center"},[a("v-btn",{attrs:{elevation:"2",icon:"",title:e.setTitle(t.item),color:t.item.status.status_color,outlined:""}},[a("v-icon",{attrs:{size:"20"}},[e._v(e._s(t.item.status.status_icon))])],1)],1)])]}}])})],1)],1)],1)},Br=[],Nr=a(9726),Mr={name:"SalesCard",computed:{sales:function(){return this.$store.state.salesStore.sales},to_sync_sales:function(){return this.$store.state.salesStore.to_sync_sales.length>0&&this.$store.state.salesStore.to_sync_sales},updated_at:function(){return this.$store.state.salesStore.updated_at},methods:function(){return this.$store.state.auth.cashier_session.payment_methods},session:function(){return this.$store.state.auth.cashier_session}},data:function(){return{search:"",detailMenu:!1,loading:!1,header:[{text:"Ações",align:"center",value:""},{text:"Numero",align:"center",sortable:!0,value:"number"},{text:"Data",align:"center",value:"sale_date"},{text:"Caixa",align:"center",value:"cashier"},{text:"Funcionário do caixa",align:"center",value:"employee_cashier"},{text:"Vendedor",align:"center",value:"name"},{text:"Cliente",align:"center",value:"customer"},{text:"Forma pagamento",align:"center",value:"payment_method"},{text:"Desconto",align:"center",value:"discont_value"},{text:"Total",align:"center",value:"total_value"},{text:"Status",align:"center",value:"status"}]}},methods:{valueFormat:function(e){return e.toLocaleString("pt-br",{style:"currency",currency:"BRL"})},dateFormat:function(e){return e=new Date(e),(0,E.Z)(e,"dd/MM/yyyy HH:mm:ss")},formatPaymentMethod:function(e){var t=new Date(e.sale_date),a=(0,E.Z)(new Date,"dd/MM/yyyy");return t=(0,E.Z)(t,"dd/MM/yyyy"),t!==a&&this.getMethodAlias(e.payment_method)},getMethodAlias:function(e){var t=this.methods.findIndex((function(t){return t.method_id===e}));return-1!==t?this.methods[t].method_alias:"Metodo não incontrado"},verifyStatus:function(e){return"Erro"===e.status?e.status:""!==e.id||(0,Nr.Z)("undefined"!==e.id)?"Finalizada":"A enviar"},setTitle:function(e){return e.sys_obs?e.sys_obs:e.status.status_description},detailSale:function(){this.detailMenu=!0},openInvoice:function(e){var t=this;return(0,d.Z)(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.loading=!0,""!==e.invoice_coupon&&null!==e.invoice_coupon&&"undefined"!==typeof e.invoice_coupon){a.next=11;break}return a.next=4,ma(e.id);case 4:return r=a.sent,console.log("no NFCE nfce",r.data.data),window.open(r.data.data.invoice_coupon,"_blank"),a.next=9,t.updateSales();case 9:a.next=13;break;case 11:console.log("with nfce",e.invoice_coupon),window.open(e.invoice_coupon,"_blank");case 13:t.loading=!1;case 14:case"end":return a.stop()}}),a)})))()},reSendSale:function(e){var t=this;return(0,d.Z)(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=Object.assign({},t.session),a.next=3,pa(e,t.sales,r);case 3:if(n=a.sent,"Erro"===n.status&&"Negada"===n.status){a.next=9;break}return a.next=7,t.dispatchSale(n);case 7:return a.next=9,t.updateSales();case 9:case"end":return a.stop()}}),a)})))()},updateSales:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,la();case 3:return a=t.sent,t.next=6,e.$store.dispatch("salesMerge",a.data.data);case 6:e.loading=!1;case 7:case"end":return t.stop()}}),t)})))()},dispatchSale:function(e){var t=this;return(0,d.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("newSale",e);case 2:return a.next=4,t.$store.dispatch("cleanSale");case 4:case"end":return a.stop()}}),a)})))()}},beforeMount:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.updateSales();case 2:case"end":return t.stop()}}),t)})))()},components:{LoadComponent:ce}},qr=Mr,Hr=a(5424),Kr=(0,ae.Z)(qr,zr,Br,!1,null,null,null),Ur=Kr.exports;ne()(Kr,{VBtn:de.Z,VCard:me.Z,VCardText:ve.ZB,VCardTitle:ve.EB,VChip:Hr.Z,VDataTable:ct.Z,VIcon:ye.Z,VListItemAvatar:Ce.Z,VSpacer:Ze.Z,VTextField:Ne.Z});var Jr={name:"HistorySalePage",components:{SalesCard:Ur}},Xr=Jr,Wr=(0,ae.Z)(Xr,jr,$r,!1,null,null,null),Gr=Wr.exports;ne()(Wr,{VCol:fe.Z,VIcon:ye.Z,VListItem:xe.Z,VListItemAvatar:Ce.Z,VListItemContent:we.km,VRow:ke.Z});var Qr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"basePage"},[e._v(" ESTA PÁGINA AINDA NÃO FOI IMPLEMENTADA ")])},Yr=[],en={name:"ProductPick",components:{}},tn=en,an=(0,ae.Z)(tn,Qr,Yr,!1,null,null,null),rn=an.exports,nn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" ESTA PÁGINA AINDA NÂO FOI IMPLEMENTADA ")])},on=[],sn={},cn=sn,un=(0,ae.Z)(cn,nn,on,!1,null,null,null),ln=un.exports,dn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-overlay",[a("v-progress-circular",{staticClass:"d-flex justify-center align-center",attrs:{size:"64"}},[a("v-icon",{attrs:{size:"50"}},[e._v("fa-regular fa-face-sad-cry")])],1),a("h1",[e._v("ERRO 404")]),a("h2",[e._v(" PÁGINA NÃO ENCONTRADA... ")]),a("v-btn",{attrs:{to:"/"}},[e._v(" voltar para o inicio")])],1)},mn=[],vn={name:"NotFound"},pn=vn,hn=(0,ae.Z)(pn,dn,mn,!1,null,null,null),fn=hn.exports;ne()(hn,{VBtn:de.Z,VIcon:ye.Z,VOverlay:oe.Z,VProgressCircular:se.Z});var _n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"background d-flex justify-center align-center"},[r("LoadComponent",{attrs:{overlay:e.loading}}),r("v-card",{staticClass:"pa-4 text-center ",attrs:{width:"30%",elevation:"24"}},[r("v-avatar",{attrs:{size:"90"}},[r("v-img",{attrs:{src:a(5426)}})],1),r("h2",[e._v("Definir Loja / Caixa")]),r("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.setStart()}}},[r("v-text-field",{attrs:{rules:e.rules.store,disabled:"",type:"text",label:e.startValue.store.store_name+" - "+e.startValue.store.store_abbreviation,"prepend-inner-icon":"mdi-store"},model:{value:e.startValue.store.store_name,callback:function(t){e.$set(e.startValue.store,"store_name",t)},expression:"startValue.store.store_name"}}),r("v-select",{attrs:{items:e.startValue.store.store_cashiers,rules:e.rules.cashier,"item-text":"cashier_name","item-value":"cashier_id",type:"combobox",label:"selecione o caixa","prepend-inner-icon":"fas fa-cash-register"},on:{change:e.verifyCashier},model:{value:e.cashier_selected.cashier_id,callback:function(t){e.$set(e.cashier_selected,"cashier_id",t)},expression:"cashier_selected.cashier_id"}}),r("v-card-actions",{staticClass:"justify-end mt-5"},[r("v-btn",{staticClass:" mr-2",attrs:{color:"var(--primary)",text:"",to:"/login"}},[r("span",{staticClass:"pl-3 "},[e._v(" voltar ")])]),r("v-btn",{staticClass:" mr-2",attrs:{type:"submit",color:"var(--primary)"}},[r("v-icon",{attrs:{color:"white"}},[e._v("fa-solid fa-house")]),r("span",{staticClass:"white--text pl-3 "},[e._v(" Inicio ")])],1)],1),r("v-dialog",{attrs:{"max-width":"350"},on:{"click:outside":e.noKickUser},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"text-h5"},[e._v(" Caixa já com um usuário ")]),r("v-card-text",[e._v(" O usuário "),r("b",[e._v(e._s(e.cashier_selected.user_authenticated?e.cashier_selected.user_authenticated.user_name:""))]),e._v(" está logado neste caixa, deseja remove-lo e conectar a este caixa ? ")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.noKickUser}},[e._v(" Não derrubar ")]),r("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Derrubar ")])],1)],1)],1)],1)],1)],1)},gn=[],yn={name:"LoginPage",computed:{},data:function(){return{loading:!1,dialog:!1,alert:{type:"",message:""},startValue:{store:{store_id:1,store_name:"SEM RESULTADO DE LOJA",store_abbreviation:"",store_group_id:"",store_group_name:"",store_group_theme:null,store_cashiers:[{cashier_id:"",cashier_name:"Selecione um caixa",cashier_store:""}]}},cashier_selected:{cashier_id:"",cashier_name:"Selecione um caixa",cashier_store:"",user_authenticated:{user_id:"",user_name:""}},rules:{store:[function(e){return!!e||"a loja é obrigatória!"}],cashier:[function(e){return!!e||"o cashier é obrigatório!"}]}}},beforeMount:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Te();case 3:e.startValue=t.sent,e.cashier_selected=[],t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),alert(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},methods:{verifyCashier:function(){var e=this;if(this.$refs.form.validate())try{var t=this.startValue.store.store_cashiers.findIndex((function(t){return t.cashier_id===e.cashier_selected.cashier_id}));if(-1===t)throw new Error("store cashier not found");var a=this.startValue.store.store_cashiers[t];a.user_authenticated&&a.user_authenticated.user_id!==this.startValue.user_id?(this.cashier_selected=Object.assign({},a),this.dialog=!0):this.cashier_selected=Object.assign({},a)}catch(r){alert(r)}},noKickUser:function(){this.dialog=!1,this.cashier_selected=[]},setStart:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=12;break}if(""===e.cashier_selected.cashier_id){t.next=10;break}return e.loading=!0,t.next=5,De(e.cashier_selected.cashier_id);case 5:e.startValue.cashier_id=e.cashier_selected.cashier_id,e.startValue.cashier_name=e.cashier_selected.cashier_name,e.$store.dispatch("start",e.startValue),En.push("/"),e.loading=!1;case 10:t.next=14;break;case 12:e.rules.cashier=[!0],e.rules.cashier=["informe um caixa desta loja!"];case 14:case"end":return t.stop()}}),t)})))()}},components:{LoadComponent:ce}},bn=yn,xn=(0,ae.Z)(bn,_n,gn,!1,null,null,null),Cn=xn.exports;ne()(xn,{VAvatar:$e.Z,VBtn:de.Z,VCard:me.Z,VCardActions:ve.h7,VCardText:ve.ZB,VCardTitle:ve.EB,VDialog:xa.Z,VForm:ze.Z,VIcon:ye.Z,VImg:be.Z,VSelect:Vt.Z,VSpacer:Ze.Z,VTextField:Ne.Z});var wn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center"},[a("v-overlay",[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}},[a("v-icon",{attrs:{size:"50"}},[e._v("fa-regular fa-face-sad-cry")])],1),a("h2",[e._v(" Seção inativa, Redirecionando... ")])],1)],1)},kn=[],Zn={name:"SessionExpiredPage",mounted:function(){setTimeout((function(){En.push("/login")}),1e3)}},Vn=Zn,Sn=(0,ae.Z)(Vn,wn,kn,!1,null,null,null),In=Sn.exports;ne()(Sn,{VIcon:ye.Z,VOverlay:oe.Z,VProgressCircular:se.Z});var An={auth:function(e,t,a){var r=m.Z.get("._token"),n=m.Z.get("expires"),o=Math.round((new Date).getTime()/1e3);(!r||n<=o)&&a("/expired"),a()}};r.Z.use(c.Z);var Pn=[{path:"/login",name:"login",component:qe},{path:"/start",name:"start",component:Cn,beforeEnter:An.auth},{path:"/",name:"news",component:Ie,beforeEnter:An.auth},{path:"/caixa",name:"caixa",component:Wa,beforeEnter:An.auth},{path:"/fechamentoCaixa",name:"fechamento",component:Or,beforeEnter:An.auth},{path:"/historico",name:"historico",component:Gr,beforeEnter:An.auth},{path:"/product_count",name:"contar_produto",component:ln,beforeEnter:An.auth},{path:"/solicitar_produto",name:"solicitar_produto",component:rn,beforeEnter:An.auth},{path:"/expired",name:"SessionExpiredPage",component:In},{path:"*",name:"NotFound",component:fn}],Rn=new c.Z({mode:"history",base:"/pdv/",routes:Pn}),En=Rn,Tn={name:"SideMenu",props:{},setup:function(){},computed:{user:function(){return this.$store.state.auth.cashier_session}},data:function(){return{selectedItem:0,drawer:!0,mini:!0,closeMenu:!1,time:0,userImg:"../../assets/defaultUser.jpg",items_manager:[{icon:"fas fa-newspaper",title:"Novidades",link:"/"},{icon:"fas fa-cart-plus",title:"Caixa",link:"caixa"},{icon:"fas fa-history",title:"Histórico",link:"historico"},{icon:"mdi-cart-check",title:"Fechamento",link:"fechamentoCaixa"},{icon:"fa fa-scale-balanced",title:"Balanço",link:"product_count"},{icon:"fa fa-boxes-packing",title:"Solicitar produtos",link:"solicitar_produto"}],items:[{icon:"fas fa-newspaper",title:"Novidades",link:"/"},{icon:"fas fa-cart-plus",title:"Caixa",link:"caixa"},{icon:"fas fa-history",title:"Histórico",link:"historico"},{icon:"mdi-cart-check",title:"Fechamento",link:"fechamentoCaixa"}]}},methods:{menuSet:function(){return 1!==this.user.is_manager?(this.items=this.items.slice(3,2),console.log("ITEMS",this.items),this.items):this.items},logoff:function(){this.$store.dispatch("logout"),En.push("/login")}}},Ln=Tn,Dn=a(7429),Fn=(0,ae.Z)(Ln,s,i,!1,null,null,null),On=Fn.exports;ne()(Fn,{VDivider:_e.Z,VIcon:ye.Z,VImg:be.Z,VList:Be.Z,VListItem:xe.Z,VListItemAvatar:Ce.Z,VListItemContent:we.km,VListItemIcon:Ir.Z,VListItemSubtitle:we.oZ,VListItemTitle:we.V9,VNavigationDrawer:Dn.Z});var jn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{id:"alert"}},[a("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.alert.active,expression:"alert.active"}],attrs:{dense:"",type:e.alert.type,transition:"scale-transition"},on:{click:function(t){return e.removeAlert()}}},[e._v(e._s(e.alert.message))])],1)},$n=[],zn={name:"App",computed:{alert:function(){return this.$store.state.errorHandle.alert}},methods:{removeAlert:function(){this.$store.dispatch("AlertRemove")}}},Bn=zn,Nn=a(1234),Mn=(0,ae.Z)(Bn,jn,$n,!1,null,null,null),qn=Mn.exports;ne()(Mn,{VAlert:Nn.Z,VContainer:_t.Z});var Hn={name:"App",computed:{},components:{SideMenu:On,AlertComponent:qn},data:function(){return{sidemenu:!0}},methods:{noIsLoginPage:function(){return"login"!==this.$route.name&&"start"!==this.$route.name&&"NotFound"!==this.$route.name&&"expired"!==this.$route.name}}},Kn=Hn,Un=a(7524),Jn=a(7877),Xn=(0,ae.Z)(Kn,n,o,!1,null,null,null),Wn=Xn.exports;ne()(Xn,{VApp:Un.Z,VMain:Jn.Z});var Gn=a(9132);r.Z.use(Gn.Z);var Qn=new Gn.Z({icons:{iconfont:"fa"},theme:{themes:{dark:{background:"#301228",primary:"#ED0280",secondary:"#FF4FAD",accent:"#4A1C35",backgroundSecondary:"#ffc9fd"}}}}),Yn=a(9278),eo=a(9015);r.Z.config.productionTip=!1,new r.Z({router:En,store:q,vuetify:Qn,render:function(e){return e(Wn)}}).$mount("#app"),r.Z.component("v-text-field",Ne.Z),r.Z.use(Yn.ZP),r.Z.use(eo.ZP,{locale:"pt-BR",decimalLength:2,autoDecimalMode:!0,min:null,max:null,defaultValue:0,valueAsInteger:!1,allowNegative:!0})},5426:function(e,t,a){e.exports=a.p+"img/PDV.f4359d96.svg"},8061:function(e){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAK8AAADICAYAAACeY7GXAAAACXBIWXMAAAsTAAALEwEAmpwYAAABNmlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjarY6xSsNQFEDPi6LiUCsEcXB4kygotupgxqQtRRCs1SHJ1qShSmkSXl7VfoSjWwcXd7/AyVFwUPwC/0Bx6uAQIYODCJ7p3MPlcsGo2HWnYZRhEGvVbjrS9Xw5+8QMUwDQCbPUbrUOAOIkjvjB5ysC4HnTrjsN/sZ8mCoNTIDtbpSFICpA/0KnGsQYMIN+qkHcAaY6addAPAClXu4vQCnI/Q0oKdfzQXwAZs/1fDDmADPIfQUwdXSpAWpJOlJnvVMtq5ZlSbubBJE8HmU6GmRyPw4TlSaqo6MukP8HwGK+2G46cq1qWXvr/DOu58vc3o8QgFh6LFpBOFTn3yqMnd/n4sZ4GQ5vYXpStN0ruNmAheuirVahvAX34y/Axk/96FpPYgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6AAAUggAARVYAAA6lwAAF2/XWh+QAAAJEklEQVR42uydf4jXZx3AXzO5RIaZLBlyjG+HmMg4RIa4oUPKzEmU7UdtBmu37KTWtNVC11piEhSDZIxa+/qN736wYmM/jIabay3RYbBihZmZuHWMCJFRTeQ6RLQ/nkf3vZ+ep+d9nud5veDLHQd3fD/P87r39/1+fl52+vRpRFJkkk0gyiuivCLKK8ororwiyiuivKK8IsororyivCLKK6K8IsoryiuivCLKK8ororwiyiuivKK8IsororyivCLKK6K8IsoryitSASZf6B9oNuolt18HMB3oA2YCJ+L3vfHrmdeJ+DMZQNea7omTN3PmAO3Aa0ANWAF8skVa4s+H4oNRWqlq5M2Y7wC3AI8AW4FpI4g6FH8fEIVfA94C3gQOKrbyjgdTgL8BJ4HZwKNj/DsDRb+u5fse4BSwD9gD7I9yn7T5lXesLACeO88IeyFidwCrWoQ+ArwOvATsioKLow2jKr4uhbgjCb0IuBf4LfB7YEuM/qK8I7JzAsUdioXAd4EX4nubbxcp71C0VziFuhpYHj8VvmefKe8ZZsSc856KRd3h0prNsZhcprplFmxzgK8AnwHaEpB2qPe/DXgC2KS8ZTAX2AAsTVDYoYq722NKcZPy5s0dMTXozOiZzvwD7gGWmPPmyUbgU5mJ2ypwO/C08uZJL3Brxs9XIwyrPai8+XXs+gL6sQbcDKxW3nz4HWGIiUIEvj+DYlR5CWOhRwv7JJ1HWAGnvImzPuaCpTGjlPQh16Gy8117mxPXR4F/YeRNk07CAH6pTALWKW+a/KuEyHOO3He98qbJ24QdESUzCbhTedPjSsKuiJKpAV3Kmx4dBRdsrbQDs5Q3vYJNwj/wXcqbFjfo7VlWK29auGmxP/OVNx3c0t8/dVimvOnQprP9+JzySqrMUl5JmWnKK6nmvbOVV1KlQ3klVa5QXkmVmcorqfIB5U2Do7qaf1/nKu8hXR3EKeVNgz/p6iD+o7xp8EddHcQR5U2DA4Q7HkR5k+NdXR3EMeVNh3f0tV8Be1B50+HXOnuWNjK8PjZneXeb9+b9KZSzvG/gJXxneEF5fb4U6SFcDWvnJsYjuksf4Y5j5U2IqThZAeHoq/mE9bxtyptGjvdXwh2+pbOSMF3+FvAj5a023YSL9mp6O4hVZLSjIkd5P0Y44lMGUyOj0+JzlPcqHR2WHsLZxcpbURzbHZ5ewuSN8laU4zo6LC9bsFUbtwANnzI8pLzVxl0Uw38ivaO81ebPuCBnKLbn9kA5ynsIOKGrg/iN8qbBfUbf/GuBXOV9HkcdBhZrbytvOjyls/04obzp8KypQ786AOVNh8M6e5aXlDc99uotPcCLypseO3U330+h3OU17w0jLyhvevQCuwpPGZ5T3nRpFh559ypvurweX6VxAFib8wOWIO8pwlLA0g6cPga8orx5FG7PxmiUK4eA7/P+qrqbcu/Ukk6UuR+4BfgE0Mjw+dqATcC1wEfJaK/acJR2O/qB+Mpxd/GZvXt9pXRmqWd57c7wmbaU1omlynuIvCYvesj0PDLlHUwfed3RcAp4U3nLIaeZpx0ldmDJ8j6RUerwtPKWxVHyGPc9RKFLP0s/OXwb6c+87aDQI65Kl3c7aY+LHgR+VWrneWdD2tvkj1Dwkk/lDR+7Kd5R1kPhd24ob2BrgtH3MPCM8kqKC3WKP5dCedOkh0x3BCtv/pzEm+2VN1E8BVN5k468ymsTJEmbTaC8qeK9G8qbLN41p7zJ0gdMUV5JMYecC3xdeQXCfby1xN7zXcBfgEXKWy63Ak8m+L5rwNXA48DmEjtucsHSLiMc0tGeYNRtZQ5wc0x97lPe/FkH3JO4tK3MA6YC7wE/VN58+Tnw8YzEbU0j1gL/BX5mzpsfP8lU3FaBN5RSxJUk76Mxz61l/pw14JfAcuXNgwdjZ84p5HlrwA9ibq+8iXIV8IdYjdcoi2uA9cA/gBUWbOnQEaNtJzCbcumIX89s1HyVcEfHXuWtHqsIY7fTC4y050ojANbEvL8XeDmKvF95J7ZjVgLfHtBRMrLI84AbCfvhdgI/JrEdGinLu4BwVP8Chb0gkWvAUuBLwBuEcfDdynvxmQLcDtwNXK60F5W58bU4FvI7Ygr2rvJeeMNuiFG2U88uSZH3tZiO7SKcEfGq8o6eacCdwG2xAJujVxOSVtwR04oTcdTiMcIUtPIOwYqYfy0yLahckbcV6IpR+Ckm+CqBqsi7APgqcB1hdZTSVpfO+LoROB4LvJ9OxEjFRMo7N0bY5cAMhU06Gt8NPE9Y1L8vV3kXEq4VXQrMVNisirx7CdPw/4wSPzbe0fhSyLuYcG3qMlOCIqJxLfb52jhS8fh4RePxkrezRdgrFbZIFsTXKsLxVF8mXOp9vKryrouF1xSFlZaUAmAP4Q6N7TFPPloFeWcRlt592rRARlGkbyTs2N4PPAy8MtY/dtnp06fH9IvNRn0KYbfqaspedihjpycWePuAB7rWdP973OVtNurdwLdw1ksuHgeAh7rWdNfHRd5mo57LWQdS3Uj8IrC5a033ORcETT4Pcb8JfJYwDCIyHtQIZ7DNIswHjMikUYr7MPBF4HrbVy4B85uN+rYLlrfZqG+JIwkLbFO5RHQAy5qN+uox57zNRv0bhGEw81uZCA4DS7rWdB85r8gbrVdcmUhmAw+MJW3YpLhSAVY2G/WFo5a32ahvxhtnpDojEJtGJW+zUW+jzBNmpLrMazbql48m8m4k7OkXqVL0fXI08i6xraSCtMesYGh5m416By6ykWpyDfD5kSLvYnNdqTC3jSTvDbaPVLlwG0neRbaPVJlmo754kLzNRv0Km0YqTg34wlCR1xNqJAVWDCXvtbaLJMDkuAWtn7zzbRdJJHVoHyivs2qSCnMHyiuSCnOUV1LlI2flbTbq04FTtokkwqTWyDud94/lEak6fa3yTrE9JCH+1yrvTNtDEuLDrfK65UfSTHwJd5qJJCnvNJtCUpV3qk0hqcprzivJyjvZppBU5XWaWJKV90M2hSTEe0ZcySLyiqTEKeUV5RVRXhHlFQs2kQQir9PDkhLHjLySKieVV1KlV3klVY4rryiviPKKnEfO+/8BAGzOkqbvcTVZAAAAAElFTkSuQmCC"}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,r,n,o){if(!r){var s=1/0;for(l=0;l<e.length;l++){r=e[l][0],n=e[l][1],o=e[l][2];for(var i=!0,c=0;c<r.length;c++)(!1&o||s>=o)&&Object.keys(a.O).every((function(e){return a.O[e](r[c])}))?r.splice(c--,1):(i=!1,o<s&&(s=o));if(i){e.splice(l--,1);var u=n();void 0!==u&&(t=u)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[r,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/pdv/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,o,s=r[0],i=r[1],c=r[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(c)var l=c(a)}for(t&&t(r);u<s.length;u++)o=s[u],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(l)},r=self["webpackChunkv_pdv"]=self["webpackChunkv_pdv"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(3729)}));r=a.O(r)})();
//# sourceMappingURL=app-legacy.adeb0950.js.map